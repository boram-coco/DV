[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Data Visualization",
    "section": "",
    "text": "guebin Choi, Professor of Statistics, Jeonbuk National University\ngithub\n\n\n\n\n\n\n\n\n\n\nDate\n\n\nTitle\n\n\nAuthor\n\n\n\n\n\n\nNov 30, 2022\n\n\nDV 13주차(2)\n\n\n김보람 \n\n\n\n\nNov 28, 2022\n\n\nDV 13주차(1)\n\n\n김보람 \n\n\n\n\nNov 21, 2022\n\n\nDV 12주차\n\n\n김보람 \n\n\n\n\nNov 16, 2022\n\n\nDV 11주차(2)\n\n\n김보람 \n\n\n\n\nNov 14, 2022\n\n\nDV 11주차(1)\n\n\n김보람 \n\n\n\n\nNov 9, 2022\n\n\nDV 10주차(2)\n\n\n김보람 \n\n\n\n\nNov 7, 2022\n\n\nDV 10주차(1)\n\n\n김보람 \n\n\n\n\nNov 2, 2022\n\n\nDV 9주차\n\n\n김보람 \n\n\n\n\nOct 24, 2022\n\n\nDV 8주차\n\n\n김보람 \n\n\n\n\nOct 19, 2022\n\n\nDV 7주차(2)\n\n\n김보람 \n\n\n\n\nOct 17, 2022\n\n\nDV 7주차(1)\n\n\n김보람 \n\n\n\n\nOct 12, 2022\n\n\nDV 6주차\n\n\n김보람 \n\n\n\n\nOct 6, 2022\n\n\nDV 5주차(2)\n\n\n김보람 \n\n\n\n\nOct 5, 2022\n\n\nDV 5주차(1)\n\n\n김보람 \n\n\n\n\nSep 28, 2022\n\n\nDV 4주차(2)\n\n\n김보람 \n\n\n\n\nSep 26, 2022\n\n\nDV 4주차(1)\n\n\n김보람 \n\n\n\n\nSep 21, 2022\n\n\nDV 3주차(2)\n\n\n김보람 \n\n\n\n\nSep 19, 2022\n\n\nDV 3주차(1)\n\n\n김보람 \n\n\n\n\nSep 14, 2022\n\n\nDV 2주차\n\n\n김보람 \n\n\n\n\nSep 5, 2022\n\n\nDV 1주차\n\n\n김보람 \n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "posts/DV_11(1116).html",
    "href": "posts/DV_11(1116).html",
    "title": "DV 11주차(2)",
    "section": "",
    "text": "import pandas as pd \nimport numpy as np"
  },
  {
    "objectID": "posts/DV_11(1116).html#데이터읽기-pd.read_html",
    "href": "posts/DV_11(1116).html#데이터읽기-pd.read_html",
    "title": "DV 11주차(2)",
    "section": "데이터읽기 // pd.read_html()",
    "text": "데이터읽기 // pd.read_html()\n- 대한민국의 저출산문제\n\nref: https://ko.wikipedia.org/wiki/대한민국의_저출산\n\n- 위의 url에서 3,5번째 테이블을 읽고싶다.\n\n3번째 테이블: 시도별 출산율\n5번째 테이블: 시도별 출생아 수\n\n\n_dflst=pd.read_html('https://ko.wikipedia.org/wiki/%EB%8C%80%ED%95%9C%EB%AF%BC%EA%B5%AD%EC%9D%98_%EC%A0%80%EC%B6%9C%EC%82%B0')\n_df1 = _dflst[2]\n_df2 = _dflst[4]\n\n\n_df1 # 시도별 출산율\n\n\n\n\n\n\n\n\n지역/연도[6]\n2005\n2006[7]\n2007\n2008[8]\n2009[9]\n2010\n2011\n2012\n2013\n2014\n2015\n2016\n2017\n2018\n2019\n2020\n2021\n\n\n\n\n0\n서울\n0.92\n0.97\n1.06\n1.01\n0.96\n1.02\n1.01\n1.06\n0.97\n0.98\n1.00\n0.94\n0.84\n0.76\n0.72\n0.64\n0.63\n\n\n1\n부산\n0.88\n0.91\n1.02\n0.98\n0.94\n1.05\n1.08\n1.14\n1.05\n1.09\n1.14\n1.10\n0.98\n0.90\n0.83\n0.75\n0.73\n\n\n2\n대구\n0.99\n1.00\n1.13\n1.07\n1.03\n1.11\n1.15\n1.22\n1.13\n1.17\n1.22\n1.19\n1.07\n0.99\n0.93\n0.81\n0.78\n\n\n3\n인천\n1.07\n1.11\n1.25\n1.19\n1.14\n1.21\n1.23\n1.30\n1.20\n1.21\n1.22\n1.14\n1.01\n1.01\n0.94\n0.83\n0.78\n\n\n4\n광주\n1.10\n1.14\n1.26\n1.20\n1.14\n1.22\n1.23\n1.30\n1.17\n1.20\n1.21\n1.17\n1.05\n0.97\n0.91\n0.81\n0.90\n\n\n5\n대전\n1.10\n1.15\n1.27\n1.22\n1.16\n1.21\n1.26\n1.32\n1.23\n1.25\n1.28\n1.19\n1.08\n0.95\n0.88\n0.81\n0.81\n\n\n6\n울산\n1.18\n1.24\n1.40\n1.34\n1.31\n1.37\n1.39\n1.48\n1.39\n1.44\n1.49\n1.42\n1.26\n1.13\n1.08\n0.99\n0.94\n\n\n7\n세종\n-\n-\n-\n-\n-\n-\n-\n1.60\n1.44\n1.35\n1.89\n1.82\n1.67\n1.57\n1.47\n1.28\n1.28\n\n\n8\n경기\n1.17\n1.23\n1.35\n1.29\n1.23\n1.31\n1.31\n1.36\n1.23\n1.24\n1.27\n1.19\n1.07\n1.00\n0.94\n0.88\n0.85\n\n\n9\n강원\n1.18\n1.19\n1.35\n1.25\n1.25\n1.31\n1.34\n1.37\n1.25\n1.25\n1.31\n1.24\n1.12\n1.07\n1.08\n1.04\n0.98\n\n\n10\n충북\n1.19\n1.22\n1.39\n1.32\n1.32\n1.40\n1.43\n1.49\n1.37\n1.36\n1.41\n1.36\n1.24\n1.17\n1.05\n0.98\n0.95\n\n\n11\n충남\n1.26\n1.35\n1.50\n1.44\n1.41\n1.48\n1.50\n1.57\n1.44\n1.42\n1.48\n1.40\n1.28\n1.19\n1.11\n1.03\n0.96\n\n\n12\n전북\n1.17\n1.20\n1.37\n1.31\n1.28\n1.37\n1.41\n1.44\n1.32\n1.33\n1.35\n1.25\n1.15\n1.04\n0.97\n0.91\n0.85\n\n\n13\n전남\n1.28\n1.33\n1.53\n1.45\n1.45\n1.54\n1.57\n1.64\n1.52\n1.50\n1.55\n1.47\n1.33\n1.24\n1.23\n1.15\n1.02\n\n\n14\n경북\n1.17\n1.20\n1.36\n1.31\n1.27\n1.38\n1.43\n1.49\n1.38\n1.41\n1.46\n1.40\n1.26\n1.17\n1.09\n1.00\n0.97\n\n\n15\n경남\n1.18\n1.25\n1.43\n1.37\n1.32\n1.41\n1.45\n1.50\n1.37\n1.41\n1.44\n1.36\n1.23\n1.12\n1.05\n0.95\n0.90\n\n\n16\n제주\n1.30\n1.36\n1.48\n1.39\n1.38\n1.46\n1.49\n1.60\n1.43\n1.48\n1.48\n1.43\n1.31\n1.22\n1.15\n1.02\n0.95\n\n\n17\n전국\n1.08\n1.13\n1.25\n1.19\n1.15\n1.23\n1.24\n1.30\n1.19\n1.21\n1.24\n1.17\n1.05\n0.98\n0.92\n0.84\n0.81\n\n\n\n\n\n\n\n\n_df2 # 시도별 출생아수\n\n\n\n\n\n\n\n\n지역/연도[6]\n2010\n2011\n2012\n2013\n2014\n2015\n2016\n2017\n2018\n2019\n2020\n2021\n\n\n\n\n0\n서울\n93266\n91526\n93914.000\n84066.000\n83711.000\n83005\n75.536\n65389\n58074\n53.673\n47400\n45531\n\n\n1\n부산\n27415\n27759\n28673.000\n25831.000\n26190.000\n26645\n24906.000\n21480\n19152\n17049.000\n15100\n14446\n\n\n2\n대구\n20557\n20758\n21472.000\n19340.000\n19361.000\n19438\n18298.000\n15946\n14400\n13233.000\n11200\n10661\n\n\n3\n인천\n25752\n20758\n21472.000\n25560.000\n25786.000\n25491\n23609.000\n20445\n20087\n18522.000\n16000\n14947\n\n\n4\n광주\n13979\n13916\n14392.000\n12729.000\n12729.000\n12441\n11580.000\n10120\n9105\n8364.000\n7300\n7956\n\n\n5\n대전\n14314\n14808\n15279.000\n14099.000\n13962.000\n13774\n12436.000\n10851\n9337\n8410.000\n7500\n7414\n\n\n6\n울산\n11432\n11542\n12160.000\n11330.000\n11556.000\n11732\n10910.000\n9381\n8149\n7539.000\n6600\n6127\n\n\n7\n세종\n-\n-\n1054.000\n1111.000\n1344.000\n2708\n3297.000\n3504\n3703\n3819.000\n3500\n3570\n\n\n8\n경기\n121753\n122027\n124746.000\n112129.000\n112.169\n113495\n105643.000\n94088\n83198\n83.198\n77800\n76139\n\n\n9\n강원\n12477\n12408\n12426.000\n10980.000\n10662.000\n10929\n10058.000\n9958\n8351\n8283.000\n7800\n7357\n\n\n10\n충북\n14670\n14804\n15139.000\n13658.000\n13366.000\n13563\n12742.000\n11394\n10586\n9333.000\n8600\n8190\n\n\n11\n충남\n20.242\n20.398\n20.448\n18.628\n18200.000\n18604\n17302.000\n15670\n14380\n13228.000\n11900\n10984\n\n\n12\n전북\n16100\n16175\n16238.000\n14555.000\n14231.000\n14087\n12698.000\n11348\n10001\n8971.000\n8200\n7745\n\n\n13\n전남\n16654\n16612\n16990.000\n15401.000\n14817.000\n15061\n13980.000\n12354\n11238\n10832.000\n9700\n8430\n\n\n14\n경북\n23700\n24250\n24635.000\n22206.000\n22062.000\n22310\n20616.000\n17957\n16079\n14472.000\n12900\n12045\n\n\n15\n경남\n32203\n32536\n33211.000\n29504.000\n29763.000\n29537\n27138.000\n23849\n21224\n19250.000\n16800\n15562\n\n\n16\n제주\n5657\n5628\n5992.000\n5328.000\n5526.000\n5600\n5494.000\n5037\n4781\n4500.000\n4000\n3728\n\n\n17\n전국\n470171\n471265\n484550.000\n436455.000\n435435.000\n438420\n406243.000\n357771\n326822\n302676.000\n272400\n260562\n\n\n\n\n\n\n\n\n데이터정리\n\n전국 행 삭제\n지역/연도[6]에 있는 2006[7] 이런 것 정리\nnan값 표시\n\n\n_df1.drop(17)\\\n.melt(id_vars='지역/연도[6]').variable.unique()\n\narray(['2005', '2006[7]', '2007', '2008[8]', '2009[9]', '2010', '2011',\n       '2012', '2013', '2014', '2015', '2016', '2017', '2018', '2019',\n       '2020', '2021'], dtype=object)\n\n\n\ndf1 = _df1.drop(17)\\\n.melt(id_vars='지역/연도[6]')\\\n.assign(variable = lambda df: list(map(lambda x:x[:4], df.variable)))\ndf1\n\n\n\n\n\n\n\n\n지역/연도[6]\nvariable\nvalue\n\n\n\n\n0\n서울\n2005\n0.92\n\n\n1\n부산\n2005\n0.88\n\n\n2\n대구\n2005\n0.99\n\n\n3\n인천\n2005\n1.07\n\n\n4\n광주\n2005\n1.10\n\n\n...\n...\n...\n...\n\n\n284\n전북\n2021\n0.85\n\n\n285\n전남\n2021\n1.02\n\n\n286\n경북\n2021\n0.97\n\n\n287\n경남\n2021\n0.9\n\n\n288\n제주\n2021\n0.95\n\n\n\n\n289 rows × 3 columns\n\n\n\n\ndf1.value.unique()\n\narray(['0.92', '0.88', '0.99', '1.07', '1.10', '1.18', '-', '1.17',\n       '1.19', '1.26', '1.28', '1.30', '0.97', '0.91', '1.00', '1.11',\n       '1.14', '1.15', '1.24', '1.23', '1.22', '1.35', '1.20', '1.33',\n       '1.25', '1.36', '1.06', '1.02', '1.13', '1.27', '1.40', '1.39',\n       '1.50', '1.37', '1.53', '1.43', '1.48', '1.01', '0.98', '1.34',\n       '1.29', '1.32', '1.44', '1.31', '1.45', '0.96', '0.94', '1.03',\n       '1.16', '1.41', '1.38', '1.05', '1.21', '1.54', '1.46', '1.08',\n       '1.57', '1.49', 1.06, 1.14, 1.22, 1.3, 1.32, 1.48, 1.6, 1.36, 1.37,\n       1.49, 1.57, 1.44, 1.64, 1.5, 0.97, 1.05, 1.13, 1.2, 1.17, 1.23,\n       1.39, 1.25, 1.52, 1.38, 1.43, 0.98, 1.09, 1.21, 1.35, 1.24, 1.42,\n       1.33, 1.41, 1.0, 1.28, 1.89, 1.27, 1.31, 1.55, 1.46, 0.94, 1.1,\n       1.19, 1.82, 1.4, 1.47, 0.84, 1.07, 1.01, 1.08, 1.26, 1.67, 1.12,\n       1.15, 0.76, 0.9, 0.99, 0.95, 1.04, 0.72, 0.83, 0.93, 0.91, 0.88,\n       1.11, 0.64, 0.75, 0.81, 1.03, 1.02, 0.63, 0.73, 0.78, 0.85, 0.96],\n      dtype=object)\n\n\n문자열, 숫자.. 다 섞여있음\n\ndf1 = df1.assign(value=lambda df: list(map(lambda x: None if x=='-' else float(x), df.value)))\n\n\ndf1=df1.set_axis(['지역','연도','출산율'],axis=1)\ndf1\n\n\n\n\n\n\n\n\n지역\n연도\n출산율\n\n\n\n\n0\n서울\n2005\n0.92\n\n\n1\n부산\n2005\n0.88\n\n\n2\n대구\n2005\n0.99\n\n\n3\n인천\n2005\n1.07\n\n\n4\n광주\n2005\n1.10\n\n\n...\n...\n...\n...\n\n\n284\n전북\n2021\n0.85\n\n\n285\n전남\n2021\n1.02\n\n\n286\n경북\n2021\n0.97\n\n\n287\n경남\n2021\n0.90\n\n\n288\n제주\n2021\n0.95\n\n\n\n\n289 rows × 3 columns\n\n\n\n\ndf2 = _df2.drop(17)\\\n.melt(id_vars='지역/연도[6]')\\\n.assign(value = lambda df: list(map(lambda x: None if x=='-' else float(x), df.value)))\\\n.set_axis(['지역','연도','출생아수'],axis=1)\ndf2\n\n\n\n\n\n\n\n\n지역\n연도\n출생아수\n\n\n\n\n0\n서울\n2010\n93266.0\n\n\n1\n부산\n2010\n27415.0\n\n\n2\n대구\n2010\n20557.0\n\n\n3\n인천\n2010\n25752.0\n\n\n4\n광주\n2010\n13979.0\n\n\n...\n...\n...\n...\n\n\n199\n전북\n2021\n7745.0\n\n\n200\n전남\n2021\n8430.0\n\n\n201\n경북\n2021\n12045.0\n\n\n202\n경남\n2021\n15562.0\n\n\n203\n제주\n2021\n3728.0\n\n\n\n\n204 rows × 3 columns"
  },
  {
    "objectID": "posts/DV_11(1116).html#시각화i-전국-출생아수-시각화",
    "href": "posts/DV_11(1116).html#시각화i-전국-출생아수-시각화",
    "title": "DV 11주차(2)",
    "section": "시각화I: 전국 출생아수 시각화",
    "text": "시각화I: 전국 출생아수 시각화\n\ndf2.groupby(['연도']).agg({'출생아수':np.sum}).reset_index().plot(x='연도',y='출생아수',backend='plotly')\n\n                                                \n\n\n\n일괄적으로 감소하는 느낌은 없음"
  },
  {
    "objectID": "posts/DV_11(1116).html#시각화ii-시도별-출생아수-시각화",
    "href": "posts/DV_11(1116).html#시각화ii-시도별-출생아수-시각화",
    "title": "DV 11주차(2)",
    "section": "시각화II: 시도별 출생아수 시각화",
    "text": "시각화II: 시도별 출생아수 시각화\n- 시각화예시1\n\ndf2.plot.line(backend='plotly', x='연도', y='출생아수', color='지역')\n\n                                                \n\n\n\n서울과 경기가 특이하네..\n\n- 시각화예시2: plot.area\n\ndf2.plot.area(backend='plotly',x='연도',y='출생아수',color='지역')\n\n                                                \n\n\n\nareaplot의 최상단의 선: 전국출생아수 시각화와 같음 (일괄적으로 감소하는 느낌은 별로 없음. 그 이유는 서울과 경기지역 때문임)\nareaplot의 장점: 전국출생아수를 연도별로 시각화 하는 느낌 + 각 연도를 도시별로 분해하여 해석하는 느낌"
  },
  {
    "objectID": "posts/DV_11(1116).html#시각화iii-시도별-출산율-시각화",
    "href": "posts/DV_11(1116).html#시각화iii-시도별-출산율-시각화",
    "title": "DV 11주차(2)",
    "section": "시각화III: 시도별 출산율 시각화",
    "text": "시각화III: 시도별 출산율 시각화\n\ndf1.plot.line(backend='plotly', x='연도', y='출산율', color='지역')\n\n                                                \n\n\n\n상식과 일치하는 정상적인 플랏 ( 출산율이 2021 이후로 꺽이는 느낌이 든다.)\n여기서는 서울/경기가 정상인듯 보인다.\n\n\n출산율의 경우 합계 출산율이 크게 의미가 없으므로 areaplot는 생략"
  },
  {
    "objectID": "posts/DV_11(1116).html#해석",
    "href": "posts/DV_11(1116).html#해석",
    "title": "DV 11주차(2)",
    "section": "해석",
    "text": "해석\n- 이상한점: 서울/경기지역에서 특정연도의 출생아수가 매우 낮으나 서울/경기지역의 출산’율’은 모든 년도에서 고른값을 가짐\n- 해석: 데이터가 이상?? / 원본 데이터를 확인하니 오타가 있음.. 컴마를 온점으로 찍음 ㅠ"
  },
  {
    "objectID": "posts/DV_11(1116).html#데이터의-수정-1-df2-상태에서-수정",
    "href": "posts/DV_11(1116).html#데이터의-수정-1-df2-상태에서-수정",
    "title": "DV 11주차(2)",
    "section": "데이터의 수정 (1): df2 상태에서 수정",
    "text": "데이터의 수정 (1): df2 상태에서 수정\n\ndf2.sort_values(\"출생아수\")[:10]\n\n\n\n\n\n\n\n\n지역\n연도\n출생아수\n\n\n\n\n62\n충남\n2013\n18.628\n\n\n11\n충남\n2010\n20.242\n\n\n28\n충남\n2011\n20.398\n\n\n45\n충남\n2012\n20.448\n\n\n153\n서울\n2019\n53.673\n\n\n102\n서울\n2016\n75.536\n\n\n161\n경기\n2019\n83.198\n\n\n76\n경기\n2014\n112.169\n\n\n41\n세종\n2012\n1054.000\n\n\n58\n세종\n2013\n1111.000\n\n\n\n\n\n\n\n- 오타로 예상되는 서울/경기/충남 이외의 가장 작은 값은 2012년 세종시인데, 이 값이 1054로 1000보다 크다.\n\n출생아수 &lt; 1000 이면 출생아수 * 1000을 수행하는 함수를 구현하자.\n\n\ndf2.assign(출생아수 = list(map(lambda x: x*1000 if x&lt;1000 else x, df2.출생아수)))\n\n\n\n\n\n\n\n\n지역\n연도\n출생아수\n\n\n\n\n0\n서울\n2010\n93266.0\n\n\n1\n부산\n2010\n27415.0\n\n\n2\n대구\n2010\n20557.0\n\n\n3\n인천\n2010\n25752.0\n\n\n4\n광주\n2010\n13979.0\n\n\n...\n...\n...\n...\n\n\n199\n전북\n2021\n7745.0\n\n\n200\n전남\n2021\n8430.0\n\n\n201\n경북\n2021\n12045.0\n\n\n202\n경남\n2021\n15562.0\n\n\n203\n제주\n2021\n3728.0\n\n\n\n\n204 rows × 3 columns\n\n\n\n- 수정 잘 됬는지 시각화\n\ndf2.assign(출생아수 = list(map(lambda x: x*1000 if x&lt;1000 else x, df2.출생아수)))\\\n.plot.area(x='연도', y='출생아수', color='지역', backend='plotly')\n\n                                                \n\n\n\n전체출산율이 점점 낮아지고 있고 항목별로 살펴보아도 모든 도시의 출생아수가 점차 낮아지고 있음"
  },
  {
    "objectID": "posts/DV_11(1116).html#데이터의-수정-2-_df2-상태에서-수정",
    "href": "posts/DV_11(1116).html#데이터의-수정-2-_df2-상태에서-수정",
    "title": "DV 11주차(2)",
    "section": "데이터의 수정 (2): _df2 상태에서 수정",
    "text": "데이터의 수정 (2): _df2 상태에서 수정\n\napplymap\n- 예비학습\n\npd.DataFrame(np.arange(4).reshape(2,2)).applymap(lambda x:x**2+1)\n\n\n\n\n\n\n\n\n0\n1\n\n\n\n\n0\n1\n2\n\n\n1\n5\n10\n\n\n\n\n\n\n\n\n모든 element에 똑같이 함수를 적용하는 함수\n\n\n_df2.set_index('지역/연도[6]') # 임의로 인덱스를 빼자. 값에 applymap을 쓰기 위해서\n\n\n\n\n\n\n\n\n2010\n2011\n2012\n2013\n2014\n2015\n2016\n2017\n2018\n2019\n2020\n2021\n\n\n지역/연도[6]\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n서울\n93266\n91526\n93914.000\n84066.000\n83711.000\n83005\n75.536\n65389\n58074\n53.673\n47400\n45531\n\n\n부산\n27415\n27759\n28673.000\n25831.000\n26190.000\n26645\n24906.000\n21480\n19152\n17049.000\n15100\n14446\n\n\n대구\n20557\n20758\n21472.000\n19340.000\n19361.000\n19438\n18298.000\n15946\n14400\n13233.000\n11200\n10661\n\n\n인천\n25752\n20758\n21472.000\n25560.000\n25786.000\n25491\n23609.000\n20445\n20087\n18522.000\n16000\n14947\n\n\n광주\n13979\n13916\n14392.000\n12729.000\n12729.000\n12441\n11580.000\n10120\n9105\n8364.000\n7300\n7956\n\n\n대전\n14314\n14808\n15279.000\n14099.000\n13962.000\n13774\n12436.000\n10851\n9337\n8410.000\n7500\n7414\n\n\n울산\n11432\n11542\n12160.000\n11330.000\n11556.000\n11732\n10910.000\n9381\n8149\n7539.000\n6600\n6127\n\n\n세종\n-\n-\n1054.000\n1111.000\n1344.000\n2708\n3297.000\n3504\n3703\n3819.000\n3500\n3570\n\n\n경기\n121753\n122027\n124746.000\n112129.000\n112.169\n113495\n105643.000\n94088\n83198\n83.198\n77800\n76139\n\n\n강원\n12477\n12408\n12426.000\n10980.000\n10662.000\n10929\n10058.000\n9958\n8351\n8283.000\n7800\n7357\n\n\n충북\n14670\n14804\n15139.000\n13658.000\n13366.000\n13563\n12742.000\n11394\n10586\n9333.000\n8600\n8190\n\n\n충남\n20.242\n20.398\n20.448\n18.628\n18200.000\n18604\n17302.000\n15670\n14380\n13228.000\n11900\n10984\n\n\n전북\n16100\n16175\n16238.000\n14555.000\n14231.000\n14087\n12698.000\n11348\n10001\n8971.000\n8200\n7745\n\n\n전남\n16654\n16612\n16990.000\n15401.000\n14817.000\n15061\n13980.000\n12354\n11238\n10832.000\n9700\n8430\n\n\n경북\n23700\n24250\n24635.000\n22206.000\n22062.000\n22310\n20616.000\n17957\n16079\n14472.000\n12900\n12045\n\n\n경남\n32203\n32536\n33211.000\n29504.000\n29763.000\n29537\n27138.000\n23849\n21224\n19250.000\n16800\n15562\n\n\n제주\n5657\n5628\n5992.000\n5328.000\n5526.000\n5600\n5494.000\n5037\n4781\n4500.000\n4000\n3728\n\n\n전국\n470171\n471265\n484550.000\n436455.000\n435435.000\n438420\n406243.000\n357771\n326822\n302676.000\n272400\n260562\n\n\n\n\n\n\n\n- 방법1\n\n_df2.set_index('지역/연도[6]')\\\n.applymap(lambda x: None if x=='-' else float(x))\\\n.applymap(lambda x: x*1000 if x&lt;1000 else x)\\\n.drop('전국')\\\n.stack().reset_index()\n\n\n\n\n\n\n\n\n지역/연도[6]\nlevel_1\n0\n\n\n\n\n0\n서울\n2010\n93266.0\n\n\n1\n서울\n2011\n91526.0\n\n\n2\n서울\n2012\n93914.0\n\n\n3\n서울\n2013\n84066.0\n\n\n4\n서울\n2014\n83711.0\n\n\n...\n...\n...\n...\n\n\n197\n제주\n2017\n5037.0\n\n\n198\n제주\n2018\n4781.0\n\n\n199\n제주\n2019\n4500.0\n\n\n200\n제주\n2020\n4000.0\n\n\n201\n제주\n2021\n3728.0\n\n\n\n\n202 rows × 3 columns\n\n\n\n- 방법2\n\ndf2=_df2.set_index('지역/연도[6]')\\\n.applymap(lambda x: None if x=='-' else float(x))\\\n.applymap(lambda x: x*1000 if x&lt;1000 else x)\\\n.drop('전국')\\\n.reset_index()\\\n.melt(id_vars='지역/연도[6]')\\\n.set_axis(['지역','연도','출생아수'],axis=1)\ndf2\n\n\n\n\n\n\n\n\n지역\n연도\n출생아수\n\n\n\n\n0\n서울\n2010\n93266.0\n\n\n1\n부산\n2010\n27415.0\n\n\n2\n대구\n2010\n20557.0\n\n\n3\n인천\n2010\n25752.0\n\n\n4\n광주\n2010\n13979.0\n\n\n...\n...\n...\n...\n\n\n199\n전북\n2021\n7745.0\n\n\n200\n전남\n2021\n8430.0\n\n\n201\n경북\n2021\n12045.0\n\n\n202\n경남\n2021\n15562.0\n\n\n203\n제주\n2021\n3728.0\n\n\n\n\n204 rows × 3 columns\n\n\n\n\ndf2.plot.area(backend='plotly',x='연도',y='출생아수',color='지역')"
  },
  {
    "objectID": "posts/DV_07(1017).html",
    "href": "posts/DV_07(1017).html",
    "title": "DV 7주차(1)",
    "section": "",
    "text": "import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt"
  },
  {
    "objectID": "posts/DV_07(1017).html#정리",
    "href": "posts/DV_07(1017).html#정리",
    "title": "DV 7주차(1)",
    "section": "정리",
    "text": "정리\n\n\n\n\n.\n[]\n.iloc\n.loc\ncommnets\n\n\n\n\nrow/단일레이블\nX\nX\nO\nO\n\n\n\ncol/단일레이블\nO\nO\nO\nO\n\n\n\nrow/레이블리스트\nX\nX\nO\nO\n\n\n\ncol/레이블리스트\nX\nO\nO\nO\n\n\n\nrow/슬라이싱\nX\nO\nO\nO\n\n\n\ncol/슬라이싱\nX\nX\nO\nO\n\n\n\nrow/bool,list\nX\nO\nO\nO\n\n\n\nrow/bool,ser\nX\nO\nX\nO\n\n\n\nrow/bool,map\nX\nX\nO\nO\n\n\n\ncol/bool,list\nX\nX\nO\nO\n\n\n\ncol/bool,ser\nX\nX\nX\nX\n쓸일이없음\n\n\ncol/bool,map\nX\nX\nO\nO"
  },
  {
    "objectID": "posts/DV_07(1017).html#데이터",
    "href": "posts/DV_07(1017).html#데이터",
    "title": "DV 7주차(1)",
    "section": "데이터",
    "text": "데이터\n\n책 : https://github.com/PacktPublishing/Pandas-Cookbook\n\n\ndf=pd.read_csv('https://raw.githubusercontent.com/PacktPublishing/Pandas-Cookbook/master/data/movie.csv')\ndf\n\n\n\n\n\n\n\n\ncolor\ndirector_name\nnum_critic_for_reviews\nduration\ndirector_facebook_likes\nactor_3_facebook_likes\nactor_2_name\nactor_1_facebook_likes\ngross\ngenres\n...\nnum_user_for_reviews\nlanguage\ncountry\ncontent_rating\nbudget\ntitle_year\nactor_2_facebook_likes\nimdb_score\naspect_ratio\nmovie_facebook_likes\n\n\n\n\n0\nColor\nJames Cameron\n723.0\n178.0\n0.0\n855.0\nJoel David Moore\n1000.0\n760505847.0\nAction|Adventure|Fantasy|Sci-Fi\n...\n3054.0\nEnglish\nUSA\nPG-13\n237000000.0\n2009.0\n936.0\n7.9\n1.78\n33000\n\n\n1\nColor\nGore Verbinski\n302.0\n169.0\n563.0\n1000.0\nOrlando Bloom\n40000.0\n309404152.0\nAction|Adventure|Fantasy\n...\n1238.0\nEnglish\nUSA\nPG-13\n300000000.0\n2007.0\n5000.0\n7.1\n2.35\n0\n\n\n2\nColor\nSam Mendes\n602.0\n148.0\n0.0\n161.0\nRory Kinnear\n11000.0\n200074175.0\nAction|Adventure|Thriller\n...\n994.0\nEnglish\nUK\nPG-13\n245000000.0\n2015.0\n393.0\n6.8\n2.35\n85000\n\n\n3\nColor\nChristopher Nolan\n813.0\n164.0\n22000.0\n23000.0\nChristian Bale\n27000.0\n448130642.0\nAction|Thriller\n...\n2701.0\nEnglish\nUSA\nPG-13\n250000000.0\n2012.0\n23000.0\n8.5\n2.35\n164000\n\n\n4\nNaN\nDoug Walker\nNaN\nNaN\n131.0\nNaN\nRob Walker\n131.0\nNaN\nDocumentary\n...\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n12.0\n7.1\nNaN\n0\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n4911\nColor\nScott Smith\n1.0\n87.0\n2.0\n318.0\nDaphne Zuniga\n637.0\nNaN\nComedy|Drama\n...\n6.0\nEnglish\nCanada\nNaN\nNaN\n2013.0\n470.0\n7.7\nNaN\n84\n\n\n4912\nColor\nNaN\n43.0\n43.0\nNaN\n319.0\nValorie Curry\n841.0\nNaN\nCrime|Drama|Mystery|Thriller\n...\n359.0\nEnglish\nUSA\nTV-14\nNaN\nNaN\n593.0\n7.5\n16.00\n32000\n\n\n4913\nColor\nBenjamin Roberds\n13.0\n76.0\n0.0\n0.0\nMaxwell Moody\n0.0\nNaN\nDrama|Horror|Thriller\n...\n3.0\nEnglish\nUSA\nNaN\n1400.0\n2013.0\n0.0\n6.3\nNaN\n16\n\n\n4914\nColor\nDaniel Hsia\n14.0\n100.0\n0.0\n489.0\nDaniel Henney\n946.0\n10443.0\nComedy|Drama|Romance\n...\n9.0\nEnglish\nUSA\nPG-13\nNaN\n2012.0\n719.0\n6.3\n2.35\n660\n\n\n4915\nColor\nJon Gunn\n43.0\n90.0\n16.0\n16.0\nBrian Herzlinger\n86.0\n85222.0\nDocumentary\n...\n84.0\nEnglish\nUSA\nPG\n1100.0\n2004.0\n23.0\n6.6\n1.85\n456\n\n\n\n\n4916 rows × 28 columns\n\n\n\n- columns 이름 확인\n\ndf.columns, df.keys()\n\n(Index(['color', 'director_name', 'num_critic_for_reviews', 'duration',\n        'director_facebook_likes', 'actor_3_facebook_likes', 'actor_2_name',\n        'actor_1_facebook_likes', 'gross', 'genres', 'actor_1_name',\n        'movie_title', 'num_voted_users', 'cast_total_facebook_likes',\n        'actor_3_name', 'facenumber_in_poster', 'plot_keywords',\n        'movie_imdb_link', 'num_user_for_reviews', 'language', 'country',\n        'content_rating', 'budget', 'title_year', 'actor_2_facebook_likes',\n        'imdb_score', 'aspect_ratio', 'movie_facebook_likes'],\n       dtype='object'),\n Index(['color', 'director_name', 'num_critic_for_reviews', 'duration',\n        'director_facebook_likes', 'actor_3_facebook_likes', 'actor_2_name',\n        'actor_1_facebook_likes', 'gross', 'genres', 'actor_1_name',\n        'movie_title', 'num_voted_users', 'cast_total_facebook_likes',\n        'actor_3_name', 'facenumber_in_poster', 'plot_keywords',\n        'movie_imdb_link', 'num_user_for_reviews', 'language', 'country',\n        'content_rating', 'budget', 'title_year', 'actor_2_facebook_likes',\n        'imdb_score', 'aspect_ratio', 'movie_facebook_likes'],\n       dtype='object'))"
  },
  {
    "objectID": "posts/DV_07(1017).html#기본인덱싱-df인덱싱공부-1단계-내용",
    "href": "posts/DV_07(1017).html#기본인덱싱-df인덱싱공부-1단계-내용",
    "title": "DV 7주차(1)",
    "section": "기본인덱싱 (df인덱싱공부 1단계 내용)",
    "text": "기본인덱싱 (df인덱싱공부 1단계 내용)\n\ndf.loc[:,['color', 'director_name', 'num_critic_for_reviews']]   # 대괄호 쳐주면 df로 나옴\n\n\n\n\n\n\n\n\ncolor\ndirector_name\nnum_critic_for_reviews\n\n\n\n\n0\nColor\nJames Cameron\n723.0\n\n\n1\nColor\nGore Verbinski\n302.0\n\n\n2\nColor\nSam Mendes\n602.0\n\n\n3\nColor\nChristopher Nolan\n813.0\n\n\n4\nNaN\nDoug Walker\nNaN\n\n\n...\n...\n...\n...\n\n\n4911\nColor\nScott Smith\n1.0\n\n\n4912\nColor\nNaN\n43.0\n\n\n4913\nColor\nBenjamin Roberds\n13.0\n\n\n4914\nColor\nDaniel Hsia\n14.0\n\n\n4915\nColor\nJon Gunn\n43.0\n\n\n\n\n4916 rows × 3 columns\n\n\n\n\ndf.loc[:,'color':  'title_year','aspect_ratio'] # 슬라이싱 하고 한 개의 리스트 더 봅으려고 하면 안됨\n\nIndexingError: Too many indexers\n\n\ncolor = 0\ntitle_year = 10\naspect_ratio = 16 번째 인덱스라면\n\nlist(range(11))+[16]\n\n[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 16]\n\n\n\n근데 저게 몇번째인지 어떻게 세 ?\npd.Series 이용\n\n\npd.Series(df.columns)\n\n0                         color\n1                 director_name\n2        num_critic_for_reviews\n3                      duration\n4       director_facebook_likes\n5        actor_3_facebook_likes\n6                  actor_2_name\n7        actor_1_facebook_likes\n8                         gross\n9                        genres\n10                 actor_1_name\n11                  movie_title\n12              num_voted_users\n13    cast_total_facebook_likes\n14                 actor_3_name\n15         facenumber_in_poster\n16                plot_keywords\n17              movie_imdb_link\n18         num_user_for_reviews\n19                     language\n20                      country\n21               content_rating\n22                       budget\n23                   title_year\n24       actor_2_facebook_likes\n25                   imdb_score\n26                 aspect_ratio\n27         movie_facebook_likes\ndtype: object\n\n\n\ndf.iloc[:,list(range(13))+[26]] \n\n\n\n\n\n\n\n\ncolor\ndirector_name\nnum_critic_for_reviews\nduration\ndirector_facebook_likes\nactor_3_facebook_likes\nactor_2_name\nactor_1_facebook_likes\ngross\ngenres\nactor_1_name\nmovie_title\nnum_voted_users\naspect_ratio\n\n\n\n\n0\nColor\nJames Cameron\n723.0\n178.0\n0.0\n855.0\nJoel David Moore\n1000.0\n760505847.0\nAction|Adventure|Fantasy|Sci-Fi\nCCH Pounder\nAvatar\n886204\n1.78\n\n\n1\nColor\nGore Verbinski\n302.0\n169.0\n563.0\n1000.0\nOrlando Bloom\n40000.0\n309404152.0\nAction|Adventure|Fantasy\nJohnny Depp\nPirates of the Caribbean: At World's End\n471220\n2.35\n\n\n2\nColor\nSam Mendes\n602.0\n148.0\n0.0\n161.0\nRory Kinnear\n11000.0\n200074175.0\nAction|Adventure|Thriller\nChristoph Waltz\nSpectre\n275868\n2.35\n\n\n3\nColor\nChristopher Nolan\n813.0\n164.0\n22000.0\n23000.0\nChristian Bale\n27000.0\n448130642.0\nAction|Thriller\nTom Hardy\nThe Dark Knight Rises\n1144337\n2.35\n\n\n4\nNaN\nDoug Walker\nNaN\nNaN\n131.0\nNaN\nRob Walker\n131.0\nNaN\nDocumentary\nDoug Walker\nStar Wars: Episode VII - The Force Awakens\n8\nNaN\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n4911\nColor\nScott Smith\n1.0\n87.0\n2.0\n318.0\nDaphne Zuniga\n637.0\nNaN\nComedy|Drama\nEric Mabius\nSigned Sealed Delivered\n629\nNaN\n\n\n4912\nColor\nNaN\n43.0\n43.0\nNaN\n319.0\nValorie Curry\n841.0\nNaN\nCrime|Drama|Mystery|Thriller\nNatalie Zea\nThe Following\n73839\n16.00\n\n\n4913\nColor\nBenjamin Roberds\n13.0\n76.0\n0.0\n0.0\nMaxwell Moody\n0.0\nNaN\nDrama|Horror|Thriller\nEva Boehnke\nA Plague So Pleasant\n38\nNaN\n\n\n4914\nColor\nDaniel Hsia\n14.0\n100.0\n0.0\n489.0\nDaniel Henney\n946.0\n10443.0\nComedy|Drama|Romance\nAlan Ruck\nShanghai Calling\n1255\n2.35\n\n\n4915\nColor\nJon Gunn\n43.0\n90.0\n16.0\n16.0\nBrian Herzlinger\n86.0\n85222.0\nDocumentary\nJohn August\nMy Date with Drew\n4285\n1.85\n\n\n\n\n4916 rows × 14 columns"
  },
  {
    "objectID": "posts/DV_07(1017).html#actor라는-단어가-포함된-column-선택",
    "href": "posts/DV_07(1017).html#actor라는-단어가-포함된-column-선택",
    "title": "DV 7주차(1)",
    "section": "actor라는 단어가 포함된 column 선택",
    "text": "actor라는 단어가 포함된 column 선택\n\ndf.columns\n\nIndex(['color', 'director_name', 'num_critic_for_reviews', 'duration',\n       'director_facebook_likes', 'actor_3_facebook_likes', 'actor_2_name',\n       'actor_1_facebook_likes', 'gross', 'genres', 'actor_1_name',\n       'movie_title', 'num_voted_users', 'cast_total_facebook_likes',\n       'actor_3_name', 'facenumber_in_poster', 'plot_keywords',\n       'movie_imdb_link', 'num_user_for_reviews', 'language', 'country',\n       'content_rating', 'budget', 'title_year', 'actor_2_facebook_likes',\n       'imdb_score', 'aspect_ratio', 'movie_facebook_likes'],\n      dtype='object')\n\n\n- 방법1\n\n'actor' in 'actor_1_facebook_likes'\n\nTrue\n\n\n\n'ator' in 'actor_1_facebook_likes'\n\nFalse\n\n\n\n_df = pd.DataFrame({'x':[1,2,3],'y':[2,3,4], 'z':[3,4,5]})\n_df.loc[:,[True,False,True]]\n# 요론식으로 해서 찾아보자\n\n\n\n\n\n\n\n\nx\nz\n\n\n\n\n0\n1\n3\n\n\n1\n2\n4\n\n\n2\n3\n5\n\n\n\n\n\n\n\n\ndf.loc[:,list(map(lambda x: 'actor' in x, df.columns))]\n\n\n\n\n\n\n\n\nactor_3_facebook_likes\nactor_2_name\nactor_1_facebook_likes\nactor_1_name\nactor_3_name\nactor_2_facebook_likes\n\n\n\n\n0\n855.0\nJoel David Moore\n1000.0\nCCH Pounder\nWes Studi\n936.0\n\n\n1\n1000.0\nOrlando Bloom\n40000.0\nJohnny Depp\nJack Davenport\n5000.0\n\n\n2\n161.0\nRory Kinnear\n11000.0\nChristoph Waltz\nStephanie Sigman\n393.0\n\n\n3\n23000.0\nChristian Bale\n27000.0\nTom Hardy\nJoseph Gordon-Levitt\n23000.0\n\n\n4\nNaN\nRob Walker\n131.0\nDoug Walker\nNaN\n12.0\n\n\n...\n...\n...\n...\n...\n...\n...\n\n\n4911\n318.0\nDaphne Zuniga\n637.0\nEric Mabius\nCrystal Lowe\n470.0\n\n\n4912\n319.0\nValorie Curry\n841.0\nNatalie Zea\nSam Underwood\n593.0\n\n\n4913\n0.0\nMaxwell Moody\n0.0\nEva Boehnke\nDavid Chandler\n0.0\n\n\n4914\n489.0\nDaniel Henney\n946.0\nAlan Ruck\nEliza Coupe\n719.0\n\n\n4915\n16.0\nBrian Herzlinger\n86.0\nJohn August\nJon Gunn\n23.0\n\n\n\n\n4916 rows × 6 columns\n\n\n\n- 방법2\n\ndf.loc[:,map(lambda x: 'actor' in x, df.columns)]\n\n\n\n\n\n\n\n\nactor_3_facebook_likes\nactor_2_name\nactor_1_facebook_likes\nactor_1_name\nactor_3_name\nactor_2_facebook_likes\n\n\n\n\n0\n855.0\nJoel David Moore\n1000.0\nCCH Pounder\nWes Studi\n936.0\n\n\n1\n1000.0\nOrlando Bloom\n40000.0\nJohnny Depp\nJack Davenport\n5000.0\n\n\n2\n161.0\nRory Kinnear\n11000.0\nChristoph Waltz\nStephanie Sigman\n393.0\n\n\n3\n23000.0\nChristian Bale\n27000.0\nTom Hardy\nJoseph Gordon-Levitt\n23000.0\n\n\n4\nNaN\nRob Walker\n131.0\nDoug Walker\nNaN\n12.0\n\n\n...\n...\n...\n...\n...\n...\n...\n\n\n4911\n318.0\nDaphne Zuniga\n637.0\nEric Mabius\nCrystal Lowe\n470.0\n\n\n4912\n319.0\nValorie Curry\n841.0\nNatalie Zea\nSam Underwood\n593.0\n\n\n4913\n0.0\nMaxwell Moody\n0.0\nEva Boehnke\nDavid Chandler\n0.0\n\n\n4914\n489.0\nDaniel Henney\n946.0\nAlan Ruck\nEliza Coupe\n719.0\n\n\n4915\n16.0\nBrian Herzlinger\n86.0\nJohn August\nJon Gunn\n23.0\n\n\n\n\n4916 rows × 6 columns\n\n\n\n- 방법3\n\ndf.iloc[:,list(map(lambda x: 'actor' in x, df.columns))]\n\n\n\n\n\n\n\n\nactor_3_facebook_likes\nactor_2_name\nactor_1_facebook_likes\nactor_1_name\nactor_3_name\nactor_2_facebook_likes\n\n\n\n\n0\n855.0\nJoel David Moore\n1000.0\nCCH Pounder\nWes Studi\n936.0\n\n\n1\n1000.0\nOrlando Bloom\n40000.0\nJohnny Depp\nJack Davenport\n5000.0\n\n\n2\n161.0\nRory Kinnear\n11000.0\nChristoph Waltz\nStephanie Sigman\n393.0\n\n\n3\n23000.0\nChristian Bale\n27000.0\nTom Hardy\nJoseph Gordon-Levitt\n23000.0\n\n\n4\nNaN\nRob Walker\n131.0\nDoug Walker\nNaN\n12.0\n\n\n...\n...\n...\n...\n...\n...\n...\n\n\n4911\n318.0\nDaphne Zuniga\n637.0\nEric Mabius\nCrystal Lowe\n470.0\n\n\n4912\n319.0\nValorie Curry\n841.0\nNatalie Zea\nSam Underwood\n593.0\n\n\n4913\n0.0\nMaxwell Moody\n0.0\nEva Boehnke\nDavid Chandler\n0.0\n\n\n4914\n489.0\nDaniel Henney\n946.0\nAlan Ruck\nEliza Coupe\n719.0\n\n\n4915\n16.0\nBrian Herzlinger\n86.0\nJohn August\nJon Gunn\n23.0\n\n\n\n\n4916 rows × 6 columns\n\n\n\n- 방법4\n\ndf.iloc[:,map(lambda x: 'actor' in x, df.columns)]\n\n\n\n\n\n\n\n\nactor_3_facebook_likes\nactor_2_name\nactor_1_facebook_likes\nactor_1_name\nactor_3_name\nactor_2_facebook_likes\n\n\n\n\n0\n855.0\nJoel David Moore\n1000.0\nCCH Pounder\nWes Studi\n936.0\n\n\n1\n1000.0\nOrlando Bloom\n40000.0\nJohnny Depp\nJack Davenport\n5000.0\n\n\n2\n161.0\nRory Kinnear\n11000.0\nChristoph Waltz\nStephanie Sigman\n393.0\n\n\n3\n23000.0\nChristian Bale\n27000.0\nTom Hardy\nJoseph Gordon-Levitt\n23000.0\n\n\n4\nNaN\nRob Walker\n131.0\nDoug Walker\nNaN\n12.0\n\n\n...\n...\n...\n...\n...\n...\n...\n\n\n4911\n318.0\nDaphne Zuniga\n637.0\nEric Mabius\nCrystal Lowe\n470.0\n\n\n4912\n319.0\nValorie Curry\n841.0\nNatalie Zea\nSam Underwood\n593.0\n\n\n4913\n0.0\nMaxwell Moody\n0.0\nEva Boehnke\nDavid Chandler\n0.0\n\n\n4914\n489.0\nDaniel Henney\n946.0\nAlan Ruck\nEliza Coupe\n719.0\n\n\n4915\n16.0\nBrian Herzlinger\n86.0\nJohn August\nJon Gunn\n23.0\n\n\n\n\n4916 rows × 6 columns"
  },
  {
    "objectID": "posts/DV_07(1017).html#s로-끝나는-column선택",
    "href": "posts/DV_07(1017).html#s로-끝나는-column선택",
    "title": "DV 7주차(1)",
    "section": "s로 끝나는 column선택",
    "text": "s로 끝나는 column선택\n\ndf.columns\n\nIndex(['color', 'director_name', 'num_critic_for_reviews', 'duration',\n       'director_facebook_likes', 'actor_3_facebook_likes', 'actor_2_name',\n       'actor_1_facebook_likes', 'gross', 'genres', 'actor_1_name',\n       'movie_title', 'num_voted_users', 'cast_total_facebook_likes',\n       'actor_3_name', 'facenumber_in_poster', 'plot_keywords',\n       'movie_imdb_link', 'num_user_for_reviews', 'language', 'country',\n       'content_rating', 'budget', 'title_year', 'actor_2_facebook_likes',\n       'imdb_score', 'aspect_ratio', 'movie_facebook_likes'],\n      dtype='object')\n\n\n\n_str = 'actor_1_facebook_likes'\n_str[-1] == 's'\n\nTrue\n\n\n\nlist(map(lambda x: x[-1] == 's', df.columns))\n\n[False,\n False,\n True,\n False,\n True,\n True,\n False,\n True,\n True,\n True,\n False,\n False,\n True,\n True,\n False,\n False,\n True,\n False,\n True,\n False,\n False,\n False,\n False,\n False,\n True,\n False,\n False,\n True]\n\n\n- 방법1\n\ndf.loc[:,list(map(lambda x: x[-1] == 's', df.columns))]  # list 뺴도 됨\n\n\n\n\n\n\n\n\nnum_critic_for_reviews\ndirector_facebook_likes\nactor_3_facebook_likes\nactor_1_facebook_likes\ngross\ngenres\nnum_voted_users\ncast_total_facebook_likes\nplot_keywords\nnum_user_for_reviews\nactor_2_facebook_likes\nmovie_facebook_likes\n\n\n\n\n0\n723.0\n0.0\n855.0\n1000.0\n760505847.0\nAction|Adventure|Fantasy|Sci-Fi\n886204\n4834\navatar|future|marine|native|paraplegic\n3054.0\n936.0\n33000\n\n\n1\n302.0\n563.0\n1000.0\n40000.0\n309404152.0\nAction|Adventure|Fantasy\n471220\n48350\ngoddess|marriage ceremony|marriage proposal|pi...\n1238.0\n5000.0\n0\n\n\n2\n602.0\n0.0\n161.0\n11000.0\n200074175.0\nAction|Adventure|Thriller\n275868\n11700\nbomb|espionage|sequel|spy|terrorist\n994.0\n393.0\n85000\n\n\n3\n813.0\n22000.0\n23000.0\n27000.0\n448130642.0\nAction|Thriller\n1144337\n106759\ndeception|imprisonment|lawlessness|police offi...\n2701.0\n23000.0\n164000\n\n\n4\nNaN\n131.0\nNaN\n131.0\nNaN\nDocumentary\n8\n143\nNaN\nNaN\n12.0\n0\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n4911\n1.0\n2.0\n318.0\n637.0\nNaN\nComedy|Drama\n629\n2283\nfraud|postal worker|prison|theft|trial\n6.0\n470.0\n84\n\n\n4912\n43.0\nNaN\n319.0\n841.0\nNaN\nCrime|Drama|Mystery|Thriller\n73839\n1753\ncult|fbi|hideout|prison escape|serial killer\n359.0\n593.0\n32000\n\n\n4913\n13.0\n0.0\n0.0\n0.0\nNaN\nDrama|Horror|Thriller\n38\n0\nNaN\n3.0\n0.0\n16\n\n\n4914\n14.0\n0.0\n489.0\n946.0\n10443.0\nComedy|Drama|Romance\n1255\n2386\nNaN\n9.0\n719.0\n660\n\n\n4915\n43.0\n16.0\n16.0\n86.0\n85222.0\nDocumentary\n4285\n163\nactress name in title|crush|date|four word tit...\n84.0\n23.0\n456\n\n\n\n\n4916 rows × 12 columns\n\n\n\n- 방법2\n\ndf.iloc[:,map(lambda x: x[-1] == 's', df.columns)]\n\n\n\n\n\n\n\n\nnum_critic_for_reviews\ndirector_facebook_likes\nactor_3_facebook_likes\nactor_1_facebook_likes\ngross\ngenres\nnum_voted_users\ncast_total_facebook_likes\nplot_keywords\nnum_user_for_reviews\nactor_2_facebook_likes\nmovie_facebook_likes\n\n\n\n\n0\n723.0\n0.0\n855.0\n1000.0\n760505847.0\nAction|Adventure|Fantasy|Sci-Fi\n886204\n4834\navatar|future|marine|native|paraplegic\n3054.0\n936.0\n33000\n\n\n1\n302.0\n563.0\n1000.0\n40000.0\n309404152.0\nAction|Adventure|Fantasy\n471220\n48350\ngoddess|marriage ceremony|marriage proposal|pi...\n1238.0\n5000.0\n0\n\n\n2\n602.0\n0.0\n161.0\n11000.0\n200074175.0\nAction|Adventure|Thriller\n275868\n11700\nbomb|espionage|sequel|spy|terrorist\n994.0\n393.0\n85000\n\n\n3\n813.0\n22000.0\n23000.0\n27000.0\n448130642.0\nAction|Thriller\n1144337\n106759\ndeception|imprisonment|lawlessness|police offi...\n2701.0\n23000.0\n164000\n\n\n4\nNaN\n131.0\nNaN\n131.0\nNaN\nDocumentary\n8\n143\nNaN\nNaN\n12.0\n0\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n4911\n1.0\n2.0\n318.0\n637.0\nNaN\nComedy|Drama\n629\n2283\nfraud|postal worker|prison|theft|trial\n6.0\n470.0\n84\n\n\n4912\n43.0\nNaN\n319.0\n841.0\nNaN\nCrime|Drama|Mystery|Thriller\n73839\n1753\ncult|fbi|hideout|prison escape|serial killer\n359.0\n593.0\n32000\n\n\n4913\n13.0\n0.0\n0.0\n0.0\nNaN\nDrama|Horror|Thriller\n38\n0\nNaN\n3.0\n0.0\n16\n\n\n4914\n14.0\n0.0\n489.0\n946.0\n10443.0\nComedy|Drama|Romance\n1255\n2386\nNaN\n9.0\n719.0\n660\n\n\n4915\n43.0\n16.0\n16.0\n86.0\n85222.0\nDocumentary\n4285\n163\nactress name in title|crush|date|four word tit...\n84.0\n23.0\n456\n\n\n\n\n4916 rows × 12 columns"
  },
  {
    "objectID": "posts/DV_07(1017).html#c-혹은-d로-시작하는-column-선택",
    "href": "posts/DV_07(1017).html#c-혹은-d로-시작하는-column-선택",
    "title": "DV 7주차(1)",
    "section": "c 혹은 d로 시작하는 column 선택",
    "text": "c 혹은 d로 시작하는 column 선택\n- 방법1\n\ndf.columns\n\nIndex(['color', 'director_name', 'num_critic_for_reviews', 'duration',\n       'director_facebook_likes', 'actor_3_facebook_likes', 'actor_2_name',\n       'actor_1_facebook_likes', 'gross', 'genres', 'actor_1_name',\n       'movie_title', 'num_voted_users', 'cast_total_facebook_likes',\n       'actor_3_name', 'facenumber_in_poster', 'plot_keywords',\n       'movie_imdb_link', 'num_user_for_reviews', 'language', 'country',\n       'content_rating', 'budget', 'title_year', 'actor_2_facebook_likes',\n       'imdb_score', 'aspect_ratio', 'movie_facebook_likes'],\n      dtype='object')\n\n\n\ndf.loc[:,map(lambda x: (x[0] == 'c') or (x[0] == 'd'), df.columns)]\n\n\n\n\n\n\n\n\ncolor\ndirector_name\nduration\ndirector_facebook_likes\ncast_total_facebook_likes\ncountry\ncontent_rating\n\n\n\n\n0\nColor\nJames Cameron\n178.0\n0.0\n4834\nUSA\nPG-13\n\n\n1\nColor\nGore Verbinski\n169.0\n563.0\n48350\nUSA\nPG-13\n\n\n2\nColor\nSam Mendes\n148.0\n0.0\n11700\nUK\nPG-13\n\n\n3\nColor\nChristopher Nolan\n164.0\n22000.0\n106759\nUSA\nPG-13\n\n\n4\nNaN\nDoug Walker\nNaN\n131.0\n143\nNaN\nNaN\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n4911\nColor\nScott Smith\n87.0\n2.0\n2283\nCanada\nNaN\n\n\n4912\nColor\nNaN\n43.0\nNaN\n1753\nUSA\nTV-14\n\n\n4913\nColor\nBenjamin Roberds\n76.0\n0.0\n0\nUSA\nNaN\n\n\n4914\nColor\nDaniel Hsia\n100.0\n0.0\n2386\nUSA\nPG-13\n\n\n4915\nColor\nJon Gunn\n90.0\n16.0\n163\nUSA\nPG\n\n\n\n\n4916 rows × 7 columns\n\n\n\n- 방법2\n\ndf.iloc[:,map(lambda x: (x[0] == 'c') or (x[0] == 'd'), df.columns)]\n\n\n\n\n\n\n\n\ncolor\ndirector_name\nduration\ndirector_facebook_likes\ncast_total_facebook_likes\ncountry\ncontent_rating\n\n\n\n\n0\nColor\nJames Cameron\n178.0\n0.0\n4834\nUSA\nPG-13\n\n\n1\nColor\nGore Verbinski\n169.0\n563.0\n48350\nUSA\nPG-13\n\n\n2\nColor\nSam Mendes\n148.0\n0.0\n11700\nUK\nPG-13\n\n\n3\nColor\nChristopher Nolan\n164.0\n22000.0\n106759\nUSA\nPG-13\n\n\n4\nNaN\nDoug Walker\nNaN\n131.0\n143\nNaN\nNaN\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n4911\nColor\nScott Smith\n87.0\n2.0\n2283\nCanada\nNaN\n\n\n4912\nColor\nNaN\n43.0\nNaN\n1753\nUSA\nTV-14\n\n\n4913\nColor\nBenjamin Roberds\n76.0\n0.0\n0\nUSA\nNaN\n\n\n4914\nColor\nDaniel Hsia\n100.0\n0.0\n2386\nUSA\nPG-13\n\n\n4915\nColor\nJon Gunn\n90.0\n16.0\n163\nUSA\nPG\n\n\n\n\n4916 rows × 7 columns"
  },
  {
    "objectID": "posts/DV_07(1017).html#방법1-concat-복잡..",
    "href": "posts/DV_07(1017).html#방법1-concat-복잡..",
    "title": "DV 7주차(1)",
    "section": "방법1: concat (복잡..)",
    "text": "방법1: concat (복잡..)\n\n_df = pd.DataFrame({'c':[3,4,5]})\n_df\n\n\n\n\n\n\n\n\nc\n\n\n\n\n0\n3\n\n\n1\n4\n\n\n2\n5\n\n\n\n\n\n\n\n\npd.concat([df,_df],axis=1)\n\n\n\n\n\n\n\n\na\nb\nc\n\n\n\n\n0\n1\n2\n3\n\n\n1\n2\n3\n4\n\n\n2\n3\n4\n5"
  },
  {
    "objectID": "posts/DV_07(1017).html#방법2-4가지-컨셉에-따른-할당",
    "href": "posts/DV_07(1017).html#방법2-4가지-컨셉에-따른-할당",
    "title": "DV 7주차(1)",
    "section": "방법2: 4가지 컨셉에 따른 할당",
    "text": "방법2: 4가지 컨셉에 따른 할당\n\ndf = pd.DataFrame({'a':[1,2,3],'b':[2,3,4]})\ndf\n\n\n\n\n\n\n\n\na\nb\n\n\n\n\n0\n1\n2\n\n\n1\n2\n3\n\n\n2\n3\n4\n\n\n\n\n\n\n\n\n컨셉1: 불가능\n\ndf.c = [3,4,5]\n\n/home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages/ipykernel_launcher.py:1: UserWarning: Pandas doesn't allow columns to be created via a new attribute name - see https://pandas.pydata.org/pandas-docs/stable/indexing.html#attribute-access\n  \"\"\"Entry point for launching an IPython kernel.\n\n\n\ndf\n\n\n\n\n\n\n\n\na\nb\n\n\n\n\n0\n1\n2\n\n\n1\n2\n3\n\n\n2\n3\n4\n\n\n\n\n\n\n\n\n\n컨셉2: 가능\n(예시1)\n\ndct = {'a':[1,2,3],'b':[2,3,4]}\ndf = pd.DataFrame(dct)\ndf\n\n\n\n\n\n\n\n\na\nb\n\n\n\n\n0\n1\n2\n\n\n1\n2\n3\n\n\n2\n3\n4\n\n\n\n\n\n\n\n\ndct['c'] = [3,4,5]\ndct\n\n{'a': [1, 2, 3], 'b': [2, 3, 4], 'c': [3, 4, 5]}\n\n\n\ndf['c'] = [3,4,5]\ndf\n\n\n\n\n\n\n\n\na\nb\nc\n\n\n\n\n0\n1\n2\n3\n\n\n1\n2\n3\n4\n\n\n2\n3\n4\n5\n\n\n\n\n\n\n\n(예시2) - 굳이 사용할 필요는 없음\n\ndct = {'a':[1,2,3],'b':[2,3,4]}\ndf = pd.DataFrame(dct)\ndf\n\n\n\n\n\n\n\n\na\nb\n\n\n\n\n0\n1\n2\n\n\n1\n2\n3\n\n\n2\n3\n4\n\n\n\n\n\n\n\n\ndf[['a','b']]\n\n\n\n\n\n\n\n\na\nb\n\n\n\n\n0\n1\n2\n\n\n1\n2\n3\n\n\n2\n3\n4\n\n\n\n\n\n\n\n\ndf[['c','d']] = np.array([[1,2,3],[3,4,5]]).T\ndf\n\n\n\n\n\n\n\n\na\nb\nc\nd\n\n\n\n\n0\n1\n2\n1\n3\n\n\n1\n2\n3\n2\n4\n\n\n2\n3\n4\n3\n5\n\n\n\n\n\n\n\n(예시3)\n\ndct = {'a':[1,2,3],'b':[2,3,4]}\ndf = pd.DataFrame(dct)\ndf\n\n\n\n\n\n\n\n\na\nb\n\n\n\n\n0\n1\n2\n\n\n1\n2\n3\n\n\n2\n3\n4\n\n\n\n\n\n\n\n\ndf['c'] = [3,4,5]\ndf['d'] = [4,5,6]\ndf\n\n\n\n\n\n\n\n\na\nb\nc\nd\n\n\n\n\n0\n1\n2\n3\n4\n\n\n1\n2\n3\n4\n5\n\n\n2\n3\n4\n5\n6\n\n\n\n\n\n\n\n(위와 동일하게..)\n\n(df['c'],df['d']) = ([3,4,5], [4,5,6])\ndf \n\n\n\n\n\n\n\n\na\nb\nc\nd\n\n\n\n\n0\n1\n2\n3\n4\n\n\n1\n2\n3\n4\n5\n\n\n2\n3\n4\n5\n6\n\n\n\n\n\n\n\n\n\n컨셉3: 불가능\n(예시1)\n\ndf = pd.DataFrame({'a':[1,2,3],'b':[2,3,4]})\ndf\n\n\n\n\n\n\n\n\na\nb\n\n\n\n\n0\n1\n2\n\n\n1\n2\n3\n\n\n2\n3\n4\n\n\n\n\n\n\n\n\ndf.iloc[:,2] = [3,4,5] \ndf\n\nIndexError: iloc cannot enlarge its target object\n\n\n\n\n컨셉4: 가능\n(예시1)\n\ndf = pd.DataFrame({'a':[1,2,3],'b':[2,3,4]})\ndf\n\n\n\n\n\n\n\n\na\nb\n\n\n\n\n0\n1\n2\n\n\n1\n2\n3\n\n\n2\n3\n4\n\n\n\n\n\n\n\n\ndf.loc[:,'c'] = [3,4,5]\ndf\n\n\n\n\n\n\n\n\na\nb\nc\n\n\n\n\n0\n1\n2\n3\n\n\n1\n2\n3\n4\n\n\n2\n3\n4\n5\n\n\n\n\n\n\n\n(예시2) - 굳이 쓰진 말자\n\ndf = pd.DataFrame({'a':[1,2,3],'b':[2,3,4]})\ndf\n\n\n\n\n\n\n\n\na\nb\n\n\n\n\n0\n1\n2\n\n\n1\n2\n3\n\n\n2\n3\n4\n\n\n\n\n\n\n\n\ndf.loc[:,['c','d']] = np.array([[3,4,5],[4,5,6]]).T # 이거 솔직히 되는지 몰랐어요.. \ndf\n\n\n\n\n\n\n\n\na\nb\nc\nd\n\n\n\n\n0\n1\n2\n3\n4\n\n\n1\n2\n3\n4\n5\n\n\n2\n3\n4\n5\n6\n\n\n\n\n\n\n\n(예시3)\n\ndf = pd.DataFrame({'a':[1,2,3],'b':[2,3,4]})\ndf\n\n\n\n\n\n\n\n\na\nb\n\n\n\n\n0\n1\n2\n\n\n1\n2\n3\n\n\n2\n3\n4\n\n\n\n\n\n\n\n\ndf.loc[:,'c'],df.loc[:,'d'] = [3,4,5],[4,5,6] \ndf\n\n\n\n\n\n\n\n\na\nb\nc\nd\n\n\n\n\n0\n1\n2\n3\n4\n\n\n1\n2\n3\n4\n5\n\n\n2\n3\n4\n5\n6"
  },
  {
    "objectID": "posts/DV_07(1017).html#방법3-.assign으로-할당-star",
    "href": "posts/DV_07(1017).html#방법3-.assign으로-할당-star",
    "title": "DV 7주차(1)",
    "section": "방법3: .assign으로 할당 (\\(\\star\\))",
    "text": "방법3: .assign으로 할당 (\\(\\star\\))\n\ndf = pd.DataFrame({'a':[1,2,3],'b':[2,3,4]})\ndf\n\n\n\n\n\n\n\n\na\nb\n\n\n\n\n0\n1\n2\n\n\n1\n2\n3\n\n\n2\n3\n4\n\n\n\n\n\n\n\n(예시1)\n\ndf.assign(c=[3,4,5])\n\n\n\n\n\n\n\n\na\nb\nc\n\n\n\n\n0\n1\n2\n3\n\n\n1\n2\n3\n4\n\n\n2\n3\n4\n5\n\n\n\n\n\n\n\n(예시2)\n\ndf.assign(c=[3,4,5],d=[4,5,6])\n\n\n\n\n\n\n\n\na\nb\nc\nd\n\n\n\n\n0\n1\n2\n3\n4\n\n\n1\n2\n3\n4\n5\n\n\n2\n3\n4\n5\n6\n\n\n\n\n\n\n\n(예시3)\n\ndf.assign(c=[3,4,5]).assign(g=[4,2,2])\n\n\n\n\n\n\n\n\na\nb\nc\ng\n\n\n\n\n0\n1\n2\n3\n4\n\n\n1\n2\n3\n4\n2\n\n\n2\n3\n4\n5\n2\n\n\n\n\n\n\n\n\ndf  # assign은 위에 할당 해도 기본 df가 남아잇누\n\n\n\n\n\n\n\n\na\nb\n\n\n\n\n0\n1\n2\n\n\n1\n2\n3\n\n\n2\n3\n4"
  },
  {
    "objectID": "posts/DV_07(1017).html#방법4-.eval을-이용",
    "href": "posts/DV_07(1017).html#방법4-.eval을-이용",
    "title": "DV 7주차(1)",
    "section": "방법4: .eval을 이용",
    "text": "방법4: .eval을 이용\n\ndf = pd.DataFrame({'a':[1,2,3],'b':[2,3,4]})\ndf\n\n\n\n\n\n\n\n\na\nb\n\n\n\n\n0\n1\n2\n\n\n1\n2\n3\n\n\n2\n3\n4\n\n\n\n\n\n\n\n\ndf.eval('c=[3,4,5]')\n\n\n\n\n\n\n\n\na\nb\nc\n\n\n\n\n0\n1\n2\n3\n\n\n1\n2\n3\n4\n\n\n2\n3\n4\n5\n\n\n\n\n\n\n\n\ndf.eval('c=[3,4,5]').eval('d=[4,5,6]')\n\n\n\n\n\n\n\n\na\nb\nc\nd\n\n\n\n\n0\n1\n2\n3\n4\n\n\n1\n2\n3\n4\n5\n\n\n2\n3\n4\n5\n6"
  },
  {
    "objectID": "posts/DV_07(1017).html#연습해보기",
    "href": "posts/DV_07(1017).html#연습해보기",
    "title": "DV 7주차(1)",
    "section": "연습해보기",
    "text": "연습해보기\n\n데이터\n\ndf=pd.DataFrame({'x':np.random.randn(1000),'y':np.random.randn(1000)})\ndf\n\n\n\n\n\n\n\n\nx\ny\n\n\n\n\n0\n-0.103943\n-1.837693\n\n\n1\n-0.620359\n-0.310537\n\n\n2\n-0.247889\n0.133445\n\n\n3\n0.499346\n-1.361192\n\n\n4\n0.436258\n-0.225653\n\n\n...\n...\n...\n\n\n995\n1.956551\n-0.225453\n\n\n996\n1.279831\n-0.435540\n\n\n997\n-0.497101\n-0.551975\n\n\n998\n0.457574\n-0.647124\n\n\n999\n1.284832\n-0.149123\n\n\n\n\n1000 rows × 2 columns\n\n\n\n\n\n# 새로운열 r을 생성하고 \\(r=\\sqrt{x^2 + y^2}\\)를 계산\n- 방법1: 브로드캐스팅\n\ndf.assign(r=np.sqrt(df.x**2 + df.y**2))\n\n\n\n\n\n\n\n\nx\ny\nr\n\n\n\n\n0\n-0.103943\n-1.837693\n1.840630\n\n\n1\n-0.620359\n-0.310537\n0.693742\n\n\n2\n-0.247889\n0.133445\n0.281525\n\n\n3\n0.499346\n-1.361192\n1.449893\n\n\n4\n0.436258\n-0.225653\n0.491163\n\n\n...\n...\n...\n...\n\n\n995\n1.956551\n-0.225453\n1.969498\n\n\n996\n1.279831\n-0.435540\n1.351911\n\n\n997\n-0.497101\n-0.551975\n0.742823\n\n\n998\n0.457574\n-0.647124\n0.792555\n\n\n999\n1.284832\n-0.149123\n1.293457\n\n\n\n\n1000 rows × 3 columns\n\n\n\n- 방법2: lambda + map을 이용한 개별원소 계산\n\ndf.assign(r=list(map(lambda x,y: np.sqrt(x**2+y**2), df.x, df.y)))\n\n\n\n\n\n\n\n\nx\ny\nr\n\n\n\n\n0\n-0.103943\n-1.837693\n1.840630\n\n\n1\n-0.620359\n-0.310537\n0.693742\n\n\n2\n-0.247889\n0.133445\n0.281525\n\n\n3\n0.499346\n-1.361192\n1.449893\n\n\n4\n0.436258\n-0.225653\n0.491163\n\n\n...\n...\n...\n...\n\n\n995\n1.956551\n-0.225453\n1.969498\n\n\n996\n1.279831\n-0.435540\n1.351911\n\n\n997\n-0.497101\n-0.551975\n0.742823\n\n\n998\n0.457574\n-0.647124\n0.792555\n\n\n999\n1.284832\n-0.149123\n1.293457\n\n\n\n\n1000 rows × 3 columns\n\n\n\n위의 코드에서 list를 지우게 되면 에러가 난다.\n- 방법3: eval\n\ndf.eval('r=sqrt(x**2+y**2)')\n\n\n\n\n\n\n\n\nx\ny\nr\n\n\n\n\n0\n-0.103943\n-1.837693\n1.840630\n\n\n1\n-0.620359\n-0.310537\n0.693742\n\n\n2\n-0.247889\n0.133445\n0.281525\n\n\n3\n0.499346\n-1.361192\n1.449893\n\n\n4\n0.436258\n-0.225653\n0.491163\n\n\n...\n...\n...\n...\n\n\n995\n1.956551\n-0.225453\n1.969498\n\n\n996\n1.279831\n-0.435540\n1.351911\n\n\n997\n-0.497101\n-0.551975\n0.742823\n\n\n998\n0.457574\n-0.647124\n0.792555\n\n\n999\n1.284832\n-0.149123\n1.293457\n\n\n\n\n1000 rows × 3 columns\n\n\n\n위의 코드에서 r=np.sqrt(~) 사용하면 안된다."
  },
  {
    "objectID": "posts/DV_07(1017).html#toy-exam",
    "href": "posts/DV_07(1017).html#toy-exam",
    "title": "DV 7주차(1)",
    "section": "toy exam",
    "text": "toy exam\n\\[\\text{아이스크림 판매량} = 20 + 2 \\times \\text{온도} + \\epsilon\\]\n\nnp.random.seed(1) \ntemp= np.array([-10.2, -5.2, 0.1, 10.1, 12.2, 14.7, \n                25.4, 26.8, 28.9, 35.1, 32.2, 34.6])\neps= np.random.normal(size=12,scale=5)\nicecream= 20 + temp * 2 + eps\n\n\nplt.plot(temp,icecream,'.')\n\n\n\n\n\\[\\text{소아마비 반응수치} = 30 + 0.5 \\times \\text{온도} + \\epsilon\\] - 좌변은 소아마비임을 나타내는 어떠한 반응수치라고 생각하자.\n\nnp.random.seed(2) \neps = np.random.normal(size=12,scale=5) \ndisease = 30+ temp* 0.5 + eps\n\n\nplt.plot(temp, disease, '.')\n\n\n\n\n\nplt.plot(icecream,disease,'.')\n\n\n\n\n\n양의 상관관계에 있다.\n\n- 아이스크림 중 어떠한 물질이 소아마비를 일으키는것이 분명하므로 (인과성이 분명해보이니까) 아래와 같은 모형을 세우자. &lt;– 여기서부터 틀렸음\n\\[{\\tt disease}_i =\\beta_0 +\\beta_1 {\\tt icecream}_i +\\epsilon_i,\\quad \\textbf{for} ~~ i=1,2,\\dots, 12\\]\n- 적절한 \\(\\beta_0\\)와 \\(\\beta_1\\)을 추정하면 우리는 아이스크림과 소아마비의 관계를 알 수 있다. &lt;– 틀린주장\n\n틀린 모형\n도데체 우리가 뭘 잘못했는가?\n\n- 두 변수 사이에 상관관계가 있어도 실제 원인은 다른 변수에 숨겨져 있는 경우가 많다.\n(ex1)\n\n온도 \\(\\to\\) 익사\n온도 \\(\\to\\) 아이스크림\n아이스크림과 익사자도 양의 상관관계에 있을것이다.\n아이스크림을 먹이면 물에 빠져 죽는다 \\(\\to\\) 틀린주장\n사실 기온이 숨겨진 원인이다. 기온이 증가하면 아이스크림 판매량도 증가하고 폭염때문에 익사사고율도 높아지는 구조이다.\n\n(ex2)\n\n인구수 \\(\\to\\) 교회\n인구수 \\(\\to\\) 범죄건수\n지역별 교회와 범죄건수를 살펴보면 상관관계가 높게 나올것임\n교회를 지으면 범죄건수도 증가한다? \\(\\to\\) 틀린주장\n사실 인구가 숨겨진 요인임\n\n- ex2, ex1에 대하여 바른 분석을 하려면?\n\nex2: 인구가 비슷한 도시끼리 묶어서 비교해보면 교회와 범죄의 건수는 양의 상관관계에 있지 않을것임\nex1: 온도가 비슷한 그룹끼리 묶어보자.\n\n- 올바른 분석: 온도가 비슷한 그룹끼리 묶어서 그려보자. \\(\\to\\) 상관계수가 줄어들 것이다.\n\nplt.plot(icecream[:6],disease[:6],'.')\n\n\n\n\n\nplt.plot(icecream[6:],disease[6:],'.')\n\n\n\n\n\n진짜로 선형관계가 약해졌다.."
  },
  {
    "objectID": "posts/DV_10(1109).html",
    "href": "posts/DV_10(1109).html",
    "title": "DV 10주차(2)",
    "section": "",
    "text": "import pandas as pd\nimport numpy as np\nfrom plotnine import *"
  },
  {
    "objectID": "posts/DV_10(1109).html#시각화1-전체합격률",
    "href": "posts/DV_10(1109).html#시각화1-전체합격률",
    "title": "DV 10주차(2)",
    "section": "시각화1: 전체합격률",
    "text": "시각화1: 전체합격률\n- df1\n\n(df.query('gender==\"female\" and result==\"fail\"')['count']).sum()\n\n1063\n\n\n\ndf.groupby(['gender', 'result']).agg({'count':np.sum}).reset_index()\n\n\n\n\n\n\n\n\ngender\nresult\ncount\n\n\n\n\n0\nfemale\nfail\n1063\n\n\n1\nfemale\npass\n772\n\n\n2\nmale\nfail\n1291\n\n\n3\nmale\npass\n1400\n\n\n\n\n\n\n\n- df11\n\ndf.groupby('gender').agg({'count':np.sum}).reset_index()\n\n\n\n\n\n\n\n\ngender\ncount\n\n\n\n\n0\nfemale\n1835\n\n\n1\nmale\n2691\n\n\n\n\n\n\n\n\ndf1과 df2를 합치자\n\n- merge: 두개의 데이터프레임을 합친다.\n\n_df1=df.groupby(['gender', 'result']).agg({'count':np.sum}).reset_index()\n_df2=df.groupby('gender').agg({'count':np.sum}).reset_index()\npd.merge(_df1,_df2)\n\n# _df1과 _df2의 count변수명이 다르기 때문에 아래와 같이 아무것도 안나옴\n\n\n\n\n\n\n\n\ngender\nresult\ncount\n\n\n\n\n\n\n\n\n\n\ndf.groupby('gender').agg({'count':np.sum}).reset_index().rename({'count':'count2'},axis=1)\n\n\n\n\n\n\n\n\ngender\ncount2\n\n\n\n\n0\nfemale\n1835\n\n\n1\nmale\n2691\n\n\n\n\n\n\n\n- merge 방법 1\n\n_df1=df.groupby(['gender', 'result']).agg({'count':np.sum}).reset_index()\n_df2=df.groupby('gender').agg({'count':np.sum}).reset_index().rename({'count':'count2'},axis=1)\npd.merge(_df1,_df2)\n\n\n\n\n\n\n\n\ngender\nresult\ncount\ncount2\n\n\n\n\n0\nfemale\nfail\n1063\n1835\n\n\n1\nfemale\npass\n772\n1835\n\n\n2\nmale\nfail\n1291\n2691\n\n\n3\nmale\npass\n1400\n2691\n\n\n\n\n\n\n\n- merge 방법2\n\ndf.groupby(['gender', 'result']).agg({'count':np.sum}).reset_index()\\\n.merge(df.groupby('gender').agg({'count':np.sum}).reset_index().rename({'count':'count2'},axis=1))\n\n\n\n\n\n\n\n\ngender\nresult\ncount\ncount2\n\n\n\n\n0\nfemale\nfail\n1063\n1835\n\n\n1\nfemale\npass\n772\n1835\n\n\n2\nmale\nfail\n1291\n2691\n\n\n3\nmale\npass\n1400\n2691\n\n\n\n\n\n\n\n- 비율계산\n\ndf.groupby(['gender', 'result']).agg({'count':np.sum}).reset_index()\\\n.merge(df.groupby('gender').agg({'count':np.sum}).reset_index().rename({'count':'count2'},axis=1))\\\n.eval('rate = count/count2')\n\n\n\n\n\n\n\n\ngender\nresult\ncount\ncount2\nrate\n\n\n\n\n0\nfemale\nfail\n1063\n1835\n0.579292\n\n\n1\nfemale\npass\n772\n1835\n0.420708\n\n\n2\nmale\nfail\n1291\n2691\n0.479747\n\n\n3\nmale\npass\n1400\n2691\n0.520253\n\n\n\n\n\n\n\n- 시각화\n\ndata1=df.groupby(['gender', 'result']).agg({'count':np.sum}).reset_index()\\\n.merge(df.groupby('gender').agg({'count':np.sum}).reset_index().rename({'count':'count2'},axis=1))\\\n.eval('rate = count/count2')\nggplot(data1.query('result == \"pass\"'))+geom_col(aes(x='gender',fill='gender',y='rate'))\n\n\n\n\n- 결론: 남자의 합격률이 더 높다. \\(\\to\\) 성차별?"
  },
  {
    "objectID": "posts/DV_10(1109).html#시각화2-학과별-합격률",
    "href": "posts/DV_10(1109).html#시각화2-학과별-합격률",
    "title": "DV 10주차(2)",
    "section": "시각화2: 학과별 합격률",
    "text": "시각화2: 학과별 합격률\n- df2\n\ndf.groupby(['department','gender']).agg({'count':np.sum}).reset_index().rename({'count':'count2'},axis=1)\n\n\n\n\n\n\n\n\ndepartment\ngender\ncount2\n\n\n\n\n0\nA\nfemale\n108\n\n\n1\nA\nmale\n825\n\n\n2\nB\nfemale\n25\n\n\n3\nB\nmale\n560\n\n\n4\nC\nfemale\n593\n\n\n5\nC\nmale\n325\n\n\n6\nD\nfemale\n375\n\n\n7\nD\nmale\n417\n\n\n8\nE\nfemale\n393\n\n\n9\nE\nmale\n191\n\n\n10\nF\nfemale\n341\n\n\n11\nF\nmale\n373\n\n\n\n\n\n\n\n- merge\n\ndf.groupby(['department','gender']).agg({'count':np.sum}).reset_index().rename({'count':'count2'},axis=1)\\\n.merge(df)\n\n\n\n\n\n\n\n\ndepartment\ngender\ncount2\nresult\ncount\n\n\n\n\n0\nA\nfemale\n108\nfail\n19\n\n\n1\nA\nfemale\n108\npass\n89\n\n\n2\nA\nmale\n825\nfail\n314\n\n\n3\nA\nmale\n825\npass\n511\n\n\n4\nB\nfemale\n25\nfail\n7\n\n\n5\nB\nfemale\n25\npass\n18\n\n\n6\nB\nmale\n560\nfail\n208\n\n\n7\nB\nmale\n560\npass\n352\n\n\n8\nC\nfemale\n593\nfail\n391\n\n\n9\nC\nfemale\n593\npass\n202\n\n\n10\nC\nmale\n325\nfail\n204\n\n\n11\nC\nmale\n325\npass\n121\n\n\n12\nD\nfemale\n375\nfail\n244\n\n\n13\nD\nfemale\n375\npass\n131\n\n\n14\nD\nmale\n417\nfail\n279\n\n\n15\nD\nmale\n417\npass\n138\n\n\n16\nE\nfemale\n393\nfail\n299\n\n\n17\nE\nfemale\n393\npass\n94\n\n\n18\nE\nmale\n191\nfail\n137\n\n\n19\nE\nmale\n191\npass\n54\n\n\n20\nF\nfemale\n341\nfail\n103\n\n\n21\nF\nfemale\n341\npass\n238\n\n\n22\nF\nmale\n373\nfail\n149\n\n\n23\nF\nmale\n373\npass\n224\n\n\n\n\n\n\n\n\n위와 같은 거긴 한데 count 뒤로 보내려고 아래와 같이 작성\n\n\ndata2=df.merge(df.groupby(['department','gender']).agg({'count':np.sum}).reset_index().rename({'count':'count2'},axis=1))\\\n.eval('rate=count/count2')\ndata2\n\n\n\n\n\n\n\n\ndepartment\nresult\ngender\ncount\ncount2\nrate\n\n\n\n\n0\nA\nfail\nfemale\n19\n108\n0.175926\n\n\n1\nA\npass\nfemale\n89\n108\n0.824074\n\n\n2\nA\nfail\nmale\n314\n825\n0.380606\n\n\n3\nA\npass\nmale\n511\n825\n0.619394\n\n\n4\nB\nfail\nfemale\n7\n25\n0.280000\n\n\n5\nB\npass\nfemale\n18\n25\n0.720000\n\n\n6\nB\nfail\nmale\n208\n560\n0.371429\n\n\n7\nB\npass\nmale\n352\n560\n0.628571\n\n\n8\nC\nfail\nfemale\n391\n593\n0.659359\n\n\n9\nC\npass\nfemale\n202\n593\n0.340641\n\n\n10\nC\nfail\nmale\n204\n325\n0.627692\n\n\n11\nC\npass\nmale\n121\n325\n0.372308\n\n\n12\nD\nfail\nfemale\n244\n375\n0.650667\n\n\n13\nD\npass\nfemale\n131\n375\n0.349333\n\n\n14\nD\nfail\nmale\n279\n417\n0.669065\n\n\n15\nD\npass\nmale\n138\n417\n0.330935\n\n\n16\nE\nfail\nfemale\n299\n393\n0.760814\n\n\n17\nE\npass\nfemale\n94\n393\n0.239186\n\n\n18\nE\nfail\nmale\n137\n191\n0.717277\n\n\n19\nE\npass\nmale\n54\n191\n0.282723\n\n\n20\nF\nfail\nfemale\n103\n341\n0.302053\n\n\n21\nF\npass\nfemale\n238\n341\n0.697947\n\n\n22\nF\nfail\nmale\n149\n373\n0.399464\n\n\n23\nF\npass\nmale\n224\n373\n0.600536\n\n\n\n\n\n\n\n- 시각화\n\nggplot(data2.query('result==\"pass\"'))+geom_col(aes(x='gender',fill='gender',y='rate'))\\\n+facet_wrap('department')\n\n\n\n\n\n학과별로 살펴보니 A,B,D,F는 여성 합격률이 더 높다.\n\n- 교재설명: 여성의 합격률이 낮은 학과(인기있는 학과)에만 많이 지원하였기 때문\n\nggplot(data2.query('result==\"pass\"'))+geom_col(aes(x='department',fill='gender',y='count'),\\\nposition='dodge')\n\n\n\n\n\n살펴보니 합격률이 높은 A,B학과의 경우 상대적으로 남성이 많이 지원하였음. 합격률이 낮은 C,D학과는 상대적으로 여성이 많이 지원함. D,F의 지원수는 비슷"
  },
  {
    "objectID": "posts/DV_10(1109).html#시각화1-남녀합격률-시각화",
    "href": "posts/DV_10(1109).html#시각화1-남녀합격률-시각화",
    "title": "DV 10주차(2)",
    "section": "시각화1: 남녀합격률 시각화",
    "text": "시각화1: 남녀합격률 시각화\n\ndf.groupby(['gender']).agg({'count':np.sum}).reset_index().rename({'count':'count2'},axis=1)\n\n\n\n\n\n\n\n\ngender\ncount2\n\n\n\n\n0\nfemale\n1001\n\n\n1\nmale\n1002\n\n\n\n\n\n\n\n\ndatahw=df.groupby(['gender']).agg({'count':np.sum}).reset_index().rename({'count':'count2'},axis=1)\\\n.merge(df).eval('rate = count/count2')\ndatahw\n\n\n\n\n\n\n\n\ngender\ncount2\ndepartment\nresult\ncount\nrate\n\n\n\n\n0\nfemale\n1001\nA\nfail\n0\n0.000000\n\n\n1\nfemale\n1001\nA\npass\n1\n0.000999\n\n\n2\nfemale\n1001\nB\nfail\n400\n0.399600\n\n\n3\nfemale\n1001\nB\npass\n600\n0.599401\n\n\n4\nmale\n1002\nA\nfail\n100\n0.099800\n\n\n5\nmale\n1002\nA\npass\n900\n0.898204\n\n\n6\nmale\n1002\nB\nfail\n1\n0.000998\n\n\n7\nmale\n1002\nB\npass\n1\n0.000998\n\n\n\n\n\n\n\n\nggplot(datahw.query('result==\"pass\"'))+geom_col(aes(x='gender',fill='gender',y='rate'))"
  },
  {
    "objectID": "posts/DV_10(1109).html#시각화2-학과별-남녀합격률-시각화",
    "href": "posts/DV_10(1109).html#시각화2-학과별-남녀합격률-시각화",
    "title": "DV 10주차(2)",
    "section": "시각화2: 학과별 남녀합격률 시각화",
    "text": "시각화2: 학과별 남녀합격률 시각화\n\ndatahw2=df.merge(df.groupby(['department','gender']).agg({'count':np.sum}).reset_index().rename({'count':'count2'},axis=1))\\\n.eval('rate = count/count2')\nggplot(datahw2.query('result==\"pass\"'))+geom_col(aes(x='gender',fill='gender',y='rate'))\\\n+facet_wrap('department')\n\n\n\n\n\nA학과: 쓰면 거의 붙는 학과\nB학과: 쓰면 반정도 붙는 학과"
  },
  {
    "objectID": "posts/DV_10(1109).html#시각화3-학과별-지원자-수-시각화",
    "href": "posts/DV_10(1109).html#시각화3-학과별-지원자-수-시각화",
    "title": "DV 10주차(2)",
    "section": "시각화3: 학과별 지원자 수 시각화",
    "text": "시각화3: 학과별 지원자 수 시각화\n\ndatahw3=df.groupby(['department','gender']).agg({'count':np.sum}).reset_index().rename({'count':'count2'},axis=1)\n\nggplot(datahw3)+geom_col(aes(x='gender',fill='gender',y='count2'))+facet_wrap('department')\n\n\n\n\n\n여학생은 쓰면 붙는 A학과에는 거의 지원안함, 대신에 쓰면 반정도 붙는 B학과에 대부분 지원함"
  },
  {
    "objectID": "posts/DV_5(1005).html",
    "href": "posts/DV_5(1005).html",
    "title": "DV 5주차(1)",
    "section": "",
    "text": "import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns"
  },
  {
    "objectID": "posts/DV_5(1005).html#sns-aray",
    "href": "posts/DV_5(1005).html#sns-aray",
    "title": "DV 5주차(1)",
    "section": "sns: aray",
    "text": "sns: aray\n\nsns.scatterplot(data=None, x=x1, y=y1)\nsns.scatterplot(data=None, x=x2, y=y2)\n\n&lt;AxesSubplot:&gt;"
  },
  {
    "objectID": "posts/DV_5(1005).html#sns-wide-df",
    "href": "posts/DV_5(1005).html#sns-wide-df",
    "title": "DV 5주차(1)",
    "section": "sns: wide df",
    "text": "sns: wide df\n\npd.DataFrame({'x':x1,'y':y1})\n\n\n\n\n\n\n\n\nx\ny\n\n\n\n\n0\n0.053500\n-1.258803\n\n\n1\n-0.517300\n-0.273907\n\n\n2\n-0.938688\n0.582421\n\n\n3\n1.017930\n-0.223879\n\n\n4\n0.827941\n0.519745\n\n\n...\n...\n...\n\n\n995\n1.317776\n-0.898103\n\n\n996\n-0.054884\n0.290131\n\n\n997\n-0.082623\n0.971652\n\n\n998\n-0.796771\n-0.140001\n\n\n999\n0.030602\n0.435023\n\n\n\n\n1000 rows × 2 columns\n\n\n\n\n               \nsns.scatterplot(data=pd.DataFrame({'x':x1,'y':y1}),x='x',y='y')\nsns.scatterplot(data=pd.DataFrame({'x':x2,'y':y2}),x='x',y='y')\n# #sns.scatterplot(data=None,x=x2,y=y2)\n\n&lt;AxesSubplot:xlabel='x', ylabel='y'&gt;"
  },
  {
    "objectID": "posts/DV_5(1005).html#sns-long-df",
    "href": "posts/DV_5(1005).html#sns-long-df",
    "title": "DV 5주차(1)",
    "section": "sns: long df",
    "text": "sns: long df\n\nx=np.concatenate([x1,x2])\n# np.array(list(x1) + list(x2))\n# x1.tolist() + x2.tolist()\n# 다 같은 코드이지만 cocaternate쓰는 방식이 제일 편하다\n\ny=np.concatenate([y1,y2])\n\ncat=['x1']*len(x1) + ['x2']*len(x2)\n\n\ndf2=pd.DataFrame({'x':x, 'y':y, 'cat':cat})\ndf2\n\n\n\n\n\n\n\n\nx\ny\ncat\n\n\n\n\n0\n0.082929\n1.218634\nx1\n\n\n1\n-0.019451\n-1.352701\nx1\n\n\n2\n-1.253126\n1.246169\nx1\n\n\n3\n-0.343648\n0.078081\nx1\n\n\n4\n0.479097\n-1.039999\nx1\n\n\n...\n...\n...\n...\n\n\n1995\n2.503038\n2.350603\nx2\n\n\n1996\n1.940601\n2.356207\nx2\n\n\n1997\n3.213965\n2.769489\nx2\n\n\n1998\n1.203818\n-0.276493\nx2\n\n\n1999\n1.378763\n1.914046\nx2\n\n\n\n\n2000 rows × 3 columns\n\n\n\n\nsns.scatterplot(data=df2, x='x', y='y', hue='cat')\n\n&lt;AxesSubplot:xlabel='x', ylabel='y'&gt;"
  },
  {
    "objectID": "posts/DV_5(1005).html#예제1",
    "href": "posts/DV_5(1005).html#예제1",
    "title": "DV 5주차(1)",
    "section": "예제1",
    "text": "예제1\n\nfig, ax = plt.subplots()\nax.plot([1,2,4,3])\n\n\n\n\n\nax\n\n&lt;AxesSubplot:&gt;\n\n\n\nfig, mypltax = plt.subplots()\n\n\n\n\n\nsns.scatterplot(data=df2, x='x', y='y', hue='cat', ax=mypltax)\n# ax라는 변수를 넣자\n\n&lt;AxesSubplot:xlabel='x', ylabel='y'&gt;\n\n\n\nfig  # 오 sns에 ax넣으니 fig에 sns가 들어옴\n\n\n\n\n\nseaborn에서 배우지 않은 내용을 matplotlib이용해서 사용가능함\n\n\nfig, mypltax = plt.subplots()\nsns.scatterplot(data=df2, x='x', y='y', hue='cat', ax=mypltax)\nmypltax.set_title('coco babo')\nfig.suptitle('coco ddong')\n\nText(0.5, 0.98, 'coco ddong')\n\n\n\n\n\n\nfig, ax = plt.subplots(1,3, figsize=(12,4))\nax[0].plot([1,2,4,3], '--o')\nsns.scatterplot(x=x1, y=y1, ax=ax[1])\nsns.scatterplot(x=x1, y=y1, ax=ax[2]) # 겹쳐그리자\nsns.scatterplot(x=x2, y=y2, ax=ax[-1]) # 겹쳐그리자\nax[2].plot([1,2,4,3], '--m', lw=5)"
  },
  {
    "objectID": "posts/DV_5(1005).html#예제2",
    "href": "posts/DV_5(1005).html#예제2",
    "title": "DV 5주차(1)",
    "section": "예제2",
    "text": "예제2\n\nimport cv2\n\n\n!wget https://upload.wikimedia.org/wikipedia/commons/0/08/Unequalized_Hawkes_Bay_NZ.jpg \nimg = cv2.imread('Unequalized_Hawkes_Bay_NZ.jpg',0) # 채널이 1개인 흑백이미지\n!rm Unequalized_Hawkes_Bay_NZ.jpg \n\n--2023-02-25 16:17:39--  https://upload.wikimedia.org/wikipedia/commons/0/08/Unequalized_Hawkes_Bay_NZ.jpg\nResolving upload.wikimedia.org (upload.wikimedia.org)... 103.102.166.240, 2001:df2:e500:ed1a::2:b\nConnecting to upload.wikimedia.org (upload.wikimedia.org)|103.102.166.240|:443... connected.\nHTTP request sent, awaiting response... 200 OK\nLength: 110895 (108K) [image/jpeg]\nSaving to: ‘Unequalized_Hawkes_Bay_NZ.jpg’\n\nUnequalized_Hawkes_ 100%[===================&gt;] 108.30K   553KB/s    in 0.2s    \n\n2023-02-25 16:17:40 (553 KB/s) - ‘Unequalized_Hawkes_Bay_NZ.jpg’ saved [110895/110895]\n\n\n\n\nplt.imshow(img,vmin=0,vmax=255,cmap='gray')\n\n&lt;matplotlib.image.AxesImage at 0x7f61e88d36d0&gt;\n\n\n\n\n\n\nimg2 = cv2.equalizeHist(img)\n\n\nimg.shape\n\n(683, 1024)\n\n\n\nimg.reshape(683*1024,1) # 컬럼벡터\nimg.reshape(683*1024) #길이가 1\n\narray([127, 145, 149, ..., 146, 145, 144], dtype=uint8)\n\n\n\nfig, ax = plt.subplots(2,2, figsize=(10,5))\nax[0,0].imshow(img,vmin=0,vmax=255,cmap='gray')\n#ax[0,1].hist(img.reshape(-1))\nsns.histplot(img.reshape(-1),ax=ax[0,1], bins=15, lw=0, kde=True, color='C1')\nax[1,0].imshow(img2,vmin=0,vmax=255,cmap='gray')\nsns.histplot(img2.reshape(-1),ax=ax[1,1], bins=15, lw=0, kde=True, color='C1')\n\n&lt;AxesSubplot:ylabel='Count'&gt;\n\n\n\n\n\n\nax[0,1]의 x축을 ax[1,1]의 x축과 맞춰서 비교해보고 싶다.\n\n\nfig, ax = plt.subplots(2,2, figsize=(10,5))\nax[0,0].imshow(img,vmin=0,vmax=255,cmap='gray')\nsns.histplot(img.reshape(-1),ax=ax[0,1], bins=15, lw=0, kde=True, color='C1')\nax[0,1].set_xlim(0,255)\nax[1,0].imshow(img2,vmin=0,vmax=255,cmap='gray')\nsns.histplot(img2.reshape(-1),ax=ax[1,1], bins=15, lw=0, kde=True, color='C1')\n\n&lt;AxesSubplot:ylabel='Count'&gt;"
  },
  {
    "objectID": "posts/DV_5(1005).html#축-간격조정",
    "href": "posts/DV_5(1005).html#축-간격조정",
    "title": "DV 5주차(1)",
    "section": "축 간격조정",
    "text": "축 간격조정\n\nimport matplotlib as mpl\n\n\nfig, ax = plt.subplots()\nax.plot([(xi/30)**2 for xi in range(30)],'--o')\nax.xaxis.set_major_locator(mpl.ticker.MultipleLocator(3)) # 큰 눈금간격을 3으로\nax.xaxis.set_minor_locator(mpl.ticker.MultipleLocator(1)) # 작은 눈금간격을 1로"
  },
  {
    "objectID": "posts/DV_5(1005).html#축-삭제",
    "href": "posts/DV_5(1005).html#축-삭제",
    "title": "DV 5주차(1)",
    "section": "축 삭제",
    "text": "축 삭제\n\nfig, ax = plt.subplots()\nax.plot([(xi/30)**2 for xi in range(30)],'--o')\nax.xaxis.set_major_locator(mpl.ticker.NullLocator()) # x축 눈금삭제\nax.yaxis.set_major_locator(mpl.ticker.NullLocator()) # y축 눈금삭제"
  },
  {
    "objectID": "posts/DV_5(1005).html#축-범위조정",
    "href": "posts/DV_5(1005).html#축-범위조정",
    "title": "DV 5주차(1)",
    "section": "축 범위조정",
    "text": "축 범위조정\n\nfig, ax = plt.subplots()\nax.plot([(xi/30)**2 for xi in range(30)],'--o')\nax.set_ylim(-1,2) \nax.set_xlim(-5,35)\n#plt.ylim(-1,2)   위 ax와 같은 코드\n#plt.xlim(-5,35)\n\n(-5.0, 35.0)"
  },
  {
    "objectID": "posts/DV_5(1005).html#gcf-gca",
    "href": "posts/DV_5(1005).html#gcf-gca",
    "title": "DV 5주차(1)",
    "section": "gcf, gca",
    "text": "gcf, gca\n\nplt.plot([1,2,3,2])\nfig=plt.gcf()\n\n# gcf: get current figure\n\n\n\n\n\nfig.suptitle('suptitle')\n\nText(0.5, 0.98, 'suptitle')\n\n\n\nfig\n\n\n\n\n\nax = fig.gca()\n\n# gca: get current axes\n\n\nax.set_title('title') \nfig"
  },
  {
    "objectID": "posts/DV_12(1121).html",
    "href": "posts/DV_12(1121).html",
    "title": "DV 12주차",
    "section": "",
    "text": "!pip install folium\n\nRequirement already satisfied: folium in /home/coco/anaconda3/envs/py38/lib/python3.8/site-packages (0.14.0)\nRequirement already satisfied: requests in /home/coco/anaconda3/envs/py38/lib/python3.8/site-packages (from folium) (2.28.2)\nRequirement already satisfied: numpy in /home/coco/anaconda3/envs/py38/lib/python3.8/site-packages (from folium) (1.24.2)\nRequirement already satisfied: jinja2&gt;=2.9 in /home/coco/anaconda3/envs/py38/lib/python3.8/site-packages (from folium) (3.1.2)\nRequirement already satisfied: branca&gt;=0.6.0 in /home/coco/anaconda3/envs/py38/lib/python3.8/site-packages (from folium) (0.6.0)\nRequirement already satisfied: MarkupSafe&gt;=2.0 in /home/coco/anaconda3/envs/py38/lib/python3.8/site-packages (from jinja2&gt;=2.9-&gt;folium) (2.1.1)\nRequirement already satisfied: idna&lt;4,&gt;=2.5 in /home/coco/anaconda3/envs/py38/lib/python3.8/site-packages (from requests-&gt;folium) (3.4)\nRequirement already satisfied: certifi&gt;=2017.4.17 in /home/coco/anaconda3/envs/py38/lib/python3.8/site-packages (from requests-&gt;folium) (2022.12.7)\nRequirement already satisfied: charset-normalizer&lt;4,&gt;=2 in /home/coco/anaconda3/envs/py38/lib/python3.8/site-packages (from requests-&gt;folium) (2.1.1)\nRequirement already satisfied: urllib3&lt;1.27,&gt;=1.21.1 in /home/coco/anaconda3/envs/py38/lib/python3.8/site-packages (from requests-&gt;folium) (1.26.14)\n\n\n\nimport numpy as np\nimport pandas as pd\nimport folium\nimport folium.plugins"
  },
  {
    "objectID": "posts/DV_12(1121).html#folium.map",
    "href": "posts/DV_12(1121).html#folium.map",
    "title": "DV 12주차",
    "section": "folium.Map()",
    "text": "folium.Map()\n- global view\n\nfolium.Map(scrollWheelZoom=False)\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\n- 줌스크롤을 False 시키는 방법: scrollWheelZoom=False\n- 이 옵션을 확인하려면? (1) 도움말 (2) folium 공식홈페이지 (3) Leaflet 공식홈페이지\n\nfolium.Map?\n\n\nInit signature:\nfolium.Map(\n    location=None,\n    width='100%',\n    height='100%',\n    left='0%',\n    top='0%',\n    position='relative',\n    tiles='OpenStreetMap',\n    attr=None,\n    min_zoom=0,\n    max_zoom=18,\n    zoom_start=10,\n    min_lat=-90,\n    max_lat=90,\n    min_lon=-180,\n    max_lon=180,\n    max_bounds=False,\n    crs='EPSG3857',\n    control_scale=False,\n    prefer_canvas=False,\n    no_touch=False,\n    disable_3d=False,\n    png_enabled=False,\n    zoom_control=True,\n    **kwargs,\n)\nDocstring:     \nCreate a Map with Folium and Leaflet.js\nGenerate a base map of given width and height with either default\ntilesets or a custom tileset URL. The following tilesets are built-in\nto Folium. Pass any of the following to the \"tiles\" keyword:\n    - \"OpenStreetMap\"\n    - \"Mapbox Bright\" (Limited levels of zoom for free tiles)\n    - \"Mapbox Control Room\" (Limited levels of zoom for free tiles)\n    - \"Stamen\" (Terrain, Toner, and Watercolor)\n    - \"Cloudmade\" (Must pass API key)\n    - \"Mapbox\" (Must pass API key)\n    - \"CartoDB\" (positron and dark_matter)\nYou can pass a custom tileset to Folium by passing a\n:class:`xyzservices.TileProvider` or a Leaflet-style\nURL to the tiles parameter: ``http://{s}.yourtiles.com/{z}/{x}/{y}.png``.\nYou can find a list of free tile providers here:\n``http://leaflet-extras.github.io/leaflet-providers/preview/``.\nBe sure to check their terms and conditions and to provide attribution\nwith the `attr` keyword.\nParameters\n----------\nlocation: tuple or list, default None\n    Latitude and Longitude of Map (Northing, Easting).\nwidth: pixel int or percentage string (default: '100%')\n    Width of the map.\nheight: pixel int or percentage string (default: '100%')\n    Height of the map.\ntiles: str or TileLayer or :class:`xyzservices.TileProvider`, default 'OpenStreetMap'\n    Map tileset to use. Can choose from a list of built-in tiles,\n    pass a :class:`xyzservices.TileProvider`,\n    pass a custom URL, pass a TileLayer object,\n    or pass `None` to create a map without tiles.\n    For more advanced tile layer options, use the `TileLayer` class.\nmin_zoom: int, default 0\n    Minimum allowed zoom level for the tile layer that is created.\nmax_zoom: int, default 18\n    Maximum allowed zoom level for the tile layer that is created.\nzoom_start: int, default 10\n    Initial zoom level for the map.\nattr: string, default None\n    Map tile attribution; only required if passing custom tile URL.\ncrs : str, default 'EPSG3857'\n    Defines coordinate reference systems for projecting geographical points\n    into pixel (screen) coordinates and back.\n    You can use Leaflet's values :\n    * EPSG3857 : The most common CRS for online maps, used by almost all\n    free and commercial tile providers. Uses Spherical Mercator projection.\n    Set in by default in Map's crs option.\n    * EPSG4326 : A common CRS among GIS enthusiasts.\n    Uses simple Equirectangular projection.\n    * EPSG3395 : Rarely used by some commercial tile providers.\n    Uses Elliptical Mercator projection.\n    * Simple : A simple CRS that maps longitude and latitude into\n    x and y directly. May be used for maps of flat surfaces\n    (e.g. game maps). Note that the y axis should still be inverted\n    (going from bottom to top).\ncontrol_scale : bool, default False\n    Whether to add a control scale on the map.\nprefer_canvas : bool, default False\n    Forces Leaflet to use the Canvas back-end (if available) for\n    vector layers instead of SVG. This can increase performance\n    considerably in some cases (e.g. many thousands of circle\n    markers on the map).\nno_touch : bool, default False\n    Forces Leaflet to not use touch events even if it detects them.\ndisable_3d : bool, default False\n    Forces Leaflet to not use hardware-accelerated CSS 3D\n    transforms for positioning (which may cause glitches in some\n    rare environments) even if they're supported.\nzoom_control : bool, default True\n    Display zoom controls on the map.\n**kwargs\n    Additional keyword arguments are passed to Leaflets Map class:\n    https://leafletjs.com/reference.html#map\nReturns\n-------\nFolium Map Object\nExamples\n--------\n&gt;&gt;&gt; m = folium.Map(location=[45.523, -122.675], width=750, height=500)\n&gt;&gt;&gt; m = folium.Map(location=[45.523, -122.675], tiles=\"cartodb positron\")\n&gt;&gt;&gt; m = folium.Map(\n...     location=[45.523, -122.675],\n...     zoom_start=2,\n...     tiles=\"https://api.mapbox.com/v4/mapbox.streets/{z}/{x}/{y}.png?access_token=mytoken\",\n...     attr=\"Mapbox attribution\",\n... )\nFile:           ~/anaconda3/envs/py38/lib/python3.8/site-packages/folium/folium.py\nType:           type\nSubclasses:     \n\n\n\n- location과 scale을 조정하는 방법\n\n35.8475, 127.1305 # 전북대 자연대 본관\n35.8468, 127.1294 # 전북대 분수대\n\n\nfolium.Map(scrollWheelZoom=False,\n          location = [35.8475, 127.1305],\n          zoom_start=20)\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\n\nfolium.Map(scrollWheelZoom=False,\n          location = [35.8475, 127.1305], #자연대본관이 센터\n          zoom_start=15)\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\n- tiles 옵션을 주어서 지도의 외형을 변경하여 보자.\n\ntiles=“OpenStreetMap”\ntiles=“Stamen Terrain”, tiles=“Stamen Toner”, tiles=“Stamen Watercolor”\ntiles=\"CartoDB positron\", tiles=“CartoDB dark_matter”\n\n\nfolium.Map(scrollWheelZoom=False,\n          location = [35.8475, 127.1305],\n          zoom_start=15,\n          tiles=\"Stamen Terrain\")\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook"
  },
  {
    "objectID": "posts/DV_12(1121).html#folium.marker",
    "href": "posts/DV_12(1121).html#folium.marker",
    "title": "DV 12주차",
    "section": "folium.Marker()",
    "text": "folium.Marker()\n- 마커생성\n\njbnu = folium.Marker(\n    location = [35.8475, 127.1305]\n)\n\nfolium.Marker 는 클래스\n\nm = folium.Map(scrollWheelZoom=False,\n          location = [35.8475, 127.1305],\n          zoom_start=14,\n          tiles=\"CartoDB positron\")\n\nfolium.Map 도 클래스\n\njbnu.add_to(m)\n\n&lt;folium.map.Marker at 0x7f1e34897b50&gt;\n\n\n\nm\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\n\nhome = folium.Marker(\n    location = [35.8368, 127.1118] # 서신동\n)\n\n\nhome.add_to(m)\n\n&lt;folium.map.Marker at 0x7f1e34897220&gt;\n\n\n\nm\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\n\n마커에 팝업내용 추가\n\nm = folium.Map(\n    scrollWheelZoom=False,\n    location = [35.8475,127.1305], # 자연대본관  \n    zoom_start=14,\n    tiles=\"CartoDB positron\"\n)\njbnu = folium.Marker(\n    location = [35.8475,127.1305], # 자연대본관  \n    popup = \"JBNU\"\n)\nhome = folium.Marker(\n    location = [35.8368, 127.1118], # 서신동\n    popup = \"HOME\",\n    tooltip = \"클릭해주세요\"\n)\njbnu.add_to(m)\nhome.add_to(m)\nm\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\n\n\n마커의 아이콘 변경\n- folium.Marker()에서 icon=folium.Icon(color=‘red’,icon=‘university’,prefix=‘fa’) 와 같은 식으로 옵션을 추가\n\nicon=‘university’ 대신에 `street-view’,‘tree’,‘plane’,‘bell’ 등을 추가할 수 있음.\n아이콘들은 여기 참고. ’glyphicon glyphicon-” 부분을 제외한 문자열을 넣으면 된다.\n\n\nm = folium.Map(\n    scrollWheelZoom=False,\n    location = [35.8475,127.1305], # 자연대본관  \n    zoom_start=14,\n    tiles=\"CartoDB positron\"\n)\njbnu = folium.Marker(\n    location = [35.8475,127.1305], # 자연대본관  \n    icon=folium.Icon(color='red',icon='university',prefix='fa'),\n    popup = \"JBNU\"\n)\nhome = folium.Marker(\n    location = [35.8368, 127.1118], # 서신동\n    popup = \"HOME\",\n    tooltip = \"클릭해주세요\"\n)\njbnu.add_to(m)\nhome.add_to(m)\nm\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\n\n\n마커의 팝업내용 HTML넣기(1)\n- “JBNU” 대신에 \"&lt;h2&gt; JBNU &lt;/h2&gt;&lt;br&gt;\"\n- “HOME” 대신에 \"&lt;h5&gt; HOME &lt;/h5&gt;&lt;br&gt;\"\n\nm = folium.Map(\n    scrollWheelZoom=False,\n    location = [35.8475,127.1305], # 자연대본관  \n    zoom_start=14,\n    tiles=\"CartoDB positron\"\n)\njbnu = folium.Marker(\n    location = [35.8475,127.1305], # 자연대본관  \n    icon=folium.Icon(color='red',icon='university',prefix='fa'),\n    popup = \"&lt;h2&gt; JBNU &lt;/h2&gt;&lt;br&gt;\"\n)\nhome = folium.Marker(\n    location = [35.8368, 127.1118], # 서신동\n    popup = \"&lt;h5&gt; HOME &lt;/h5&gt;&lt;br&gt;\",\n    tooltip = \"클릭해주세요\"\n)\njbnu.add_to(m)\nhome.add_to(m)\nm\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\n\n\n마커의 팝업내용 HTML넣기(2)\n\n데이터프레임을 HTML로 바꾸어서 넣기\n\n\n_df=pd.DataFrame({'year':[2019,2020,2021,2022],'students':[35,30,33,26]})\n_df\n\n\n\n\n\n\n\n\nyear\nstudents\n\n\n\n\n0\n2019\n35\n\n\n1\n2020\n30\n\n\n2\n2021\n33\n\n\n3\n2022\n26\n\n\n\n\n\n\n\n\n_df.to_html()\n\n\n\n\n\n\n\n\n\n\n\nyear\n\n\n\nstudents\n\n\n\n\n\n\n\n\n\n\n\n0\n\n\n\n2019\n\n\n\n35\n\n\n\n\n\n\n\n1\n\n\n\n2020\n\n\n\n30\n\n\n\n\n\n\n\n2\n\n\n\n2021\n\n\n\n33\n\n\n\n\n\n\n\n3\n\n\n\n2022\n\n\n\n26\n\n\n\n\n\n\n\n\n\n\nm = folium.Map(\n    scrollWheelZoom=False,\n    location = [35.8475,127.1305], # 자연대본관  \n    zoom_start=14,\n    tiles=\"CartoDB positron\"\n)\njbnu = folium.Marker(\n    location = [35.8475,127.1305], # 자연대본관  \n    icon=folium.Icon(color='red',icon='university',prefix='fa'),\n    popup = _df.to_html()\n)\nhome = folium.Marker(\n    location = [35.8368, 127.1118], # 서신동\n    popup = \"&lt;h5&gt; HOME &lt;/h5&gt;&lt;br&gt;\" + _df.to_html(),\n    tooltip = \"클릭해주세요\"\n)\njbnu.add_to(m)\nhome.add_to(m)\nm\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\n\n\n마커의 팝업내용 HTML넣기(3)\n\n데이터프레임을 HTML로 바꾸어서 넣어보자.\n팝업시 크기를 조절할 수 있게 해보자. (folium.IFrame, folium.Popup 이용)\n\n\n_iframe = folium.IFrame('&lt;h2&gt; JBNU &lt;/h2&gt;&lt;br&gt;'+_df.to_html(),width=150,height=200)\n_popup = folium.Popup(_iframe)\n\n\nm = folium.Map(\n    scrollWheelZoom=False,\n    location = [35.8475,127.1305], # 자연대본관  \n    zoom_start=14,\n    tiles=\"CartoDB positron\"\n)\njbnu = folium.Marker(\n    location = [35.8475,127.1305], # 자연대본관  \n    icon=folium.Icon(color='red',icon='university',prefix='fa'),\n    popup = _popup\n)\nhome = folium.Marker(\n    location = [35.8368, 127.1118], # 집 \n    popup = \"&lt;h5&gt; HOME &lt;/h5&gt;&lt;br&gt;\",\n    tooltip = \"클릭해주세요\"\n)\njbnu.add_to(m)\nhome.add_to(m)\nm\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\n\n\n마커의 팝업내용 HTML넣기(4)\n\n논리구조상 HTML 오브젝트를 아무거나 넣을 수 있음 \\(\\to\\) 그림도 넣을 수 있을까?\n그림파일을 HTML로 바꾸어서 넣어보자.\n\n\nimport matplotlib.pyplot as plt\n\n\n_df.plot.line(x='year',y='students')\nfig = plt.gcf()\n\n\n\n\n\nfig.savefig?\n\n\nSignature: fig.savefig(fname, *, transparent=None, **kwargs)\nDocstring:\nSave the current figure.\nCall signature::\n  savefig(fname, *, dpi='figure', format=None, metadata=None,\n          bbox_inches=None, pad_inches=0.1,\n          facecolor='auto', edgecolor='auto',\n          backend=None, **kwargs\n         )\nThe available output formats depend on the backend being used.\nParameters\n----------\nfname : str or path-like or binary file-like\n    A path, or a Python file-like object, or\n    possibly some backend-dependent object such as\n    `matplotlib.backends.backend_pdf.PdfPages`.\n    If *format* is set, it determines the output format, and the file\n    is saved as *fname*.  Note that *fname* is used verbatim, and there\n    is no attempt to make the extension, if any, of *fname* match\n    *format*, and no extension is appended.\n    If *format* is not set, then the format is inferred from the\n    extension of *fname*, if there is one.  If *format* is not\n    set and *fname* has no extension, then the file is saved with\n    :rc:`savefig.format` and the appropriate extension is appended to\n    *fname*.\nOther Parameters\n----------------\ndpi : float or 'figure', default: :rc:`savefig.dpi`\n    The resolution in dots per inch.  If 'figure', use the figure's\n    dpi value.\nformat : str\n    The file format, e.g. 'png', 'pdf', 'svg', ... The behavior when\n    this is unset is documented under *fname*.\nmetadata : dict, optional\n    Key/value pairs to store in the image metadata. The supported keys\n    and defaults depend on the image format and backend:\n    - 'png' with Agg backend: See the parameter ``metadata`` of\n      `~.FigureCanvasAgg.print_png`.\n    - 'pdf' with pdf backend: See the parameter ``metadata`` of\n      `~.backend_pdf.PdfPages`.\n    - 'svg' with svg backend: See the parameter ``metadata`` of\n      `~.FigureCanvasSVG.print_svg`.\n    - 'eps' and 'ps' with PS backend: Only 'Creator' is supported.\nbbox_inches : str or `.Bbox`, default: :rc:`savefig.bbox`\n    Bounding box in inches: only the given portion of the figure is\n    saved.  If 'tight', try to figure out the tight bbox of the figure.\npad_inches : float, default: :rc:`savefig.pad_inches`\n    Amount of padding around the figure when bbox_inches is 'tight'.\nfacecolor : color or 'auto', default: :rc:`savefig.facecolor`\n    The facecolor of the figure.  If 'auto', use the current figure\n    facecolor.\nedgecolor : color or 'auto', default: :rc:`savefig.edgecolor`\n    The edgecolor of the figure.  If 'auto', use the current figure\n    edgecolor.\nbackend : str, optional\n    Use a non-default backend to render the file, e.g. to render a\n    png file with the \"cairo\" backend rather than the default \"agg\",\n    or a pdf file with the \"pgf\" backend rather than the default\n    \"pdf\".  Note that the default backend is normally sufficient.  See\n    :ref:`the-builtin-backends` for a list of valid backends for each\n    file format.  Custom backends can be referenced as \"module://...\".\norientation : {'landscape', 'portrait'}\n    Currently only supported by the postscript backend.\npapertype : str\n    One of 'letter', 'legal', 'executive', 'ledger', 'a0' through\n    'a10', 'b0' through 'b10'. Only supported for postscript\n    output.\ntransparent : bool\n    If *True*, the Axes patches will all be transparent; the\n    Figure patch will also be transparent unless *facecolor*\n    and/or *edgecolor* are specified via kwargs.\n    If *False* has no effect and the color of the Axes and\n    Figure patches are unchanged (unless the Figure patch\n    is specified via the *facecolor* and/or *edgecolor* keyword\n    arguments in which case those colors are used).\n    The transparency of these patches will be restored to their\n    original values upon exit of this function.\n    This is useful, for example, for displaying\n    a plot on top of a colored background on a web page.\nbbox_extra_artists : list of `~matplotlib.artist.Artist`, optional\n    A list of extra artists that will be considered when the\n    tight bbox is calculated.\npil_kwargs : dict, optional\n    Additional keyword arguments that are passed to\n    `PIL.Image.Image.save` when saving the figure.\nFile:      ~/anaconda3/envs/py38/lib/python3.8/site-packages/matplotlib/figure.py\nType:      method\n\n\n\n\nfig.savefig('test.png')\n\n\n저장한 그림파일을 HTML로 바꾸기 위해서 base64 가져오기\n\n\nimport base64\n\n\n_encoded = base64.b64encode(open('test.png','rb').read())\n_myhtml = '&lt;img src=\"data:image/png;base64,{}\"&gt;'.format\n_iframe = folium.IFrame(_myhtml(_encoded.decode('UTF-8')),width=400,height=300)\n_popup = folium.Popup(_iframe)\n\n\nm = folium.Map(\n    scrollWheelZoom=False,\n    location = [35.8475,127.1305], # 자연대본관  \n    zoom_start=14,\n    tiles=\"CartoDB positron\"\n)\njbnu = folium.Marker(\n    location = [35.8475,127.1305], # 자연대본관  \n    icon=folium.Icon(color='red',icon='university',prefix='fa'),\n    popup = _popup\n)\nhome = folium.Marker(\n    location = [35.8368, 127.1118], # 집 \n    popup = \"&lt;h5&gt; HOME &lt;/h5&gt;&lt;br&gt;\",\n    tooltip = \"클릭해주세요\"\n)\njbnu.add_to(m)\nhome.add_to(m)\nm\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook"
  },
  {
    "objectID": "posts/DV_12(1121).html#folium.circlemarker",
    "href": "posts/DV_12(1121).html#folium.circlemarker",
    "title": "DV 12주차",
    "section": "folium.CircleMarker()",
    "text": "folium.CircleMarker()\n- 서클마커 생성\n\nfolium.CircleMarker?\n\n\nInit signature:\nfolium.CircleMarker(\n    location=None,\n    radius=10,\n    popup=None,\n    tooltip=None,\n    **kwargs,\n)\nDocstring:     \nA circle of a fixed size with radius specified in pixels.\nSee :func:`folium.vector_layers.path_options` for the `Path` options.\nParameters\n----------\nlocation: tuple[float, float]\n    Latitude and Longitude pair (Northing, Easting)\npopup: string or folium.Popup, default None\n    Input text or visualization for object displayed when clicking.\ntooltip: str or folium.Tooltip, default None\n    Display a text when hovering over the object.\nradius: float, default 10\n    Radius of the circle marker, in pixels.\n**kwargs\n    Other valid (possibly inherited) options. See:\n    https://leafletjs.com/reference.html#circlemarker\nFile:           ~/anaconda3/envs/py38/lib/python3.8/site-packages/folium/vector_layers.py\nType:           type\nSubclasses:     \n\n\n\n\nm = folium.Map(\n    scrollWheelZoom=False,\n    location = [35.8475,127.1305], # 자연대본관  \n    zoom_start=14,\n    tiles=\"CartoDB positron\"\n)\njbnu = folium.CircleMarker(\n    location = [35.8475,127.1305], \n    popup = \"JBNU\"\n)\njbnu.add_to(m)\nm\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\n\n서클마커의 색상 및 크기 변경\n\nm = folium.Map(\n    scrollWheelZoom=False,\n    location = [35.8475,127.1305], # 자연대본관  \n    zoom_start=14,\n    tiles=\"CartoDB positron\"\n)\njbnu = folium.CircleMarker(\n    location = [35.8475,127.1305], \n    popup = \"JBNU\",\n    radius = 20,\n    color='red'\n)\njbnu.add_to(m)\nm\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\n\n\n서클마커 테두리 삭제 및 fill\n\nm = folium.Map(\n    scrollWheelZoom=False,\n    location = [35.8475,127.1305], # 자연대본관  \n    zoom_start=14,\n    tiles=\"CartoDB positron\"\n)\njbnu = folium.CircleMarker(\n    location = [35.8475,127.1305], \n    popup = \"JBNU\",\n    radius = 20,\n    color=None,\n    fill=True,\n    fill_color='blue'\n)\njbnu.add_to(m)\nm\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook"
  },
  {
    "objectID": "posts/DV_12(1121).html#folium.plugins.heatmap",
    "href": "posts/DV_12(1121).html#folium.plugins.heatmap",
    "title": "DV 12주차",
    "section": "folium.plugins.HeatMap()",
    "text": "folium.plugins.HeatMap()\n- Heatmap은 폴리움에서 데이터 시각화를 하기에 적합한 기본도구임\nhetmap : 변수가 nx3(or2)의 형태로 저장되어야함. 위치정보, 색깔\n\ndata = np.random.multivariate_normal(mean=[28,77],cov=[[5,0],[0,5]],size=30)\ndata\n\narray([[31.87656853, 79.34269628],\n       [29.53746796, 78.20520413],\n       [28.44741835, 75.25393877],\n       [25.18000843, 77.29323413],\n       [26.5655878 , 75.04112898],\n       [30.26974765, 75.29758731],\n       [27.42810962, 80.27026743],\n       [26.03407782, 75.03340673],\n       [23.13286124, 74.55639991],\n       [30.56378882, 77.03833101],\n       [25.94630147, 79.58208503],\n       [30.41785934, 73.81735875],\n       [26.84184867, 77.71415394],\n       [26.95763342, 77.60550267],\n       [25.50607312, 75.18693209],\n       [26.56490414, 72.84899181],\n       [28.61513069, 78.29572699],\n       [28.91892598, 79.02845267],\n       [24.9521176 , 77.88967077],\n       [29.61739757, 77.146509  ],\n       [28.58079145, 75.09665559],\n       [27.75159191, 77.78093079],\n       [30.34745529, 75.46061955],\n       [30.48379849, 78.63122606],\n       [31.47434772, 77.57715823],\n       [28.52014748, 72.95015858],\n       [27.57394214, 72.24002852],\n       [27.4789938 , 74.16576952],\n       [29.28250426, 77.94044247],\n       [30.59382987, 77.77600336]])\n\n\n\nfolium.plugins.HeatMap?\n\n\nInit signature:\nfolium.plugins.HeatMap(\n    data,\n    name=None,\n    min_opacity=0.5,\n    max_zoom=18,\n    radius=25,\n    blur=15,\n    gradient=None,\n    overlay=True,\n    control=True,\n    show=True,\n    **kwargs,\n)\nDocstring:     \nCreate a Heatmap layer\nParameters\n----------\ndata : list of points of the form [lat, lng] or [lat, lng, weight]\n    The points you want to plot.\n    You can also provide a numpy.array of shape (n,2) or (n,3).\nname : string, default None\n    The name of the Layer, as it will appear in LayerControls.\nmin_opacity  : default 1.\n    The minimum opacity the heat will start at.\nmax_zoom : default 18\n    Zoom level where the points reach maximum intensity (as intensity\n    scales with zoom), equals maxZoom of the map by default\nradius : int, default 25\n    Radius of each \"point\" of the heatmap\nblur : int, default 15\n    Amount of blur\ngradient : dict, default None\n    Color gradient config. e.g. {0.4: 'blue', 0.65: 'lime', 1: 'red'}\noverlay : bool, default True\n    Adds the layer as an optional overlay (True) or the base layer (False).\ncontrol : bool, default True\n    Whether the Layer will be included in LayerControls.\nshow: bool, default True\n    Whether the layer will be shown on opening (only for overlays).\nFile:           ~/anaconda3/envs/py38/lib/python3.8/site-packages/folium/plugins/heat_map.py\nType:           type\nSubclasses:     \n\n\n\n\nfolium.plugins.HeatMap(data)\n\n&lt;folium.plugins.heat_map.HeatMap at 0x7f1e3201e250&gt;\n\n\n\nm = folium.Map(\n    scrollWheelZoom=False,\n    location = [28,77],\n    zoom_start=5\n)\nfolium.plugins.HeatMap(data).add_to(m)\nm\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\n\nm = folium.Map(\n    scrollWheelZoom=False,\n    location = [28,77],\n    zoom_start=5\n)\nfolium.plugins.HeatMap(data,\n    radius=11\n).add_to(m)\nm\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook"
  },
  {
    "objectID": "posts/DV_12(1121).html#folium.plugins.heatmapwithtime",
    "href": "posts/DV_12(1121).html#folium.plugins.heatmapwithtime",
    "title": "DV 12주차",
    "section": "folium.plugins.HeatMapWithTime()",
    "text": "folium.plugins.HeatMapWithTime()\n\ndata1 = np.random.multivariate_normal(mean=[28,77],cov=[[5,0],[0,5]],size=20)\ndata2 = np.random.multivariate_normal(mean=[25,80],cov=[[5,0],[0,5]],size=20)\ndata3 = np.random.multivariate_normal(mean=[31,70],cov=[[5,0],[0,5]],size=20)\ndata = np.array([data1,data2,data3])\n\n\nm = folium.Map(\n    scrollWheelZoom=False,\n    location = [28,77],\n    zoom_start=5\n)\nfolium.plugins.HeatMapWithTime(\n    data.tolist(),\n    index=['t1','t2','t3'], # time_index \n    radius=15,\n).add_to(m)\nm\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook"
  },
  {
    "objectID": "posts/DV_12(1121).html#예제-earthquakes",
    "href": "posts/DV_12(1121).html#예제-earthquakes",
    "title": "DV 12주차",
    "section": "예제: earthquakes",
    "text": "예제: earthquakes\n\nStep1: Pandas 정리\n\ndf=pd.read_csv('https://raw.githubusercontent.com/plotly/datasets/master/earthquakes-23k.csv')\ndf\n\n\n\n\n\n\n\n\nDate\nLatitude\nLongitude\nMagnitude\n\n\n\n\n0\n01/02/1965\n19.2460\n145.6160\n6.0\n\n\n1\n01/04/1965\n1.8630\n127.3520\n5.8\n\n\n2\n01/05/1965\n-20.5790\n-173.9720\n6.2\n\n\n3\n01/08/1965\n-59.0760\n-23.5570\n5.8\n\n\n4\n01/09/1965\n11.9380\n126.4270\n5.8\n\n\n...\n...\n...\n...\n...\n\n\n23407\n12/28/2016\n38.3917\n-118.8941\n5.6\n\n\n23408\n12/28/2016\n38.3777\n-118.8957\n5.5\n\n\n23409\n12/28/2016\n36.9179\n140.4262\n5.9\n\n\n23410\n12/29/2016\n-9.0283\n118.6639\n6.3\n\n\n23411\n12/30/2016\n37.3973\n141.4103\n5.5\n\n\n\n\n23412 rows × 4 columns\n\n\n\n\ndf.Date\n\n0        01/02/1965\n1        01/04/1965\n2        01/05/1965\n3        01/08/1965\n4        01/09/1965\n            ...    \n23407    12/28/2016\n23408    12/28/2016\n23409    12/28/2016\n23410    12/29/2016\n23411    12/30/2016\nName: Date, Length: 23412, dtype: object\n\n\n\n' 01/02/1965'.split('/')[-1]\n\n'1965'\n\n\n\ndf.assign(Year = list(map(lambda x: x.split('/')[-1], df.Date)))\n\n\n\n\n\n\n\n\nDate\nLatitude\nLongitude\nMagnitude\nYear\n\n\n\n\n0\n01/02/1965\n19.2460\n145.6160\n6.0\n1965\n\n\n1\n01/04/1965\n1.8630\n127.3520\n5.8\n1965\n\n\n2\n01/05/1965\n-20.5790\n-173.9720\n6.2\n1965\n\n\n3\n01/08/1965\n-59.0760\n-23.5570\n5.8\n1965\n\n\n4\n01/09/1965\n11.9380\n126.4270\n5.8\n1965\n\n\n...\n...\n...\n...\n...\n...\n\n\n23407\n12/28/2016\n38.3917\n-118.8941\n5.6\n2016\n\n\n23408\n12/28/2016\n38.3777\n-118.8957\n5.5\n2016\n\n\n23409\n12/28/2016\n36.9179\n140.4262\n5.9\n2016\n\n\n23410\n12/29/2016\n-9.0283\n118.6639\n6.3\n2016\n\n\n23411\n12/30/2016\n37.3973\n141.4103\n5.5\n2016\n\n\n\n\n23412 rows × 5 columns\n\n\n\n\ndf.assign(Year = list(map(lambda x: x.split('/')[-1], df.Date))).Year.unique()\n\narray(['1965', '1966', '1967', '1968', '1969', '1970', '1971', '1972',\n       '1973', '1974', '1975', '1975-02-23T02:58:41.000Z', '1976', '1977',\n       '1978', '1979', '1980', '1981', '1982', '1983', '1984', '1985',\n       '1985-04-28T02:53:41.530Z', '1986', '1987', '1988', '1989', '1990',\n       '1991', '1992', '1993', '1994', '1995', '1996', '1997', '1998',\n       '1999', '2000', '2001', '2002', '2003', '2004', '2005', '2006',\n       '2007', '2008', '2009', '2010', '2011', '2011-03-13T02:23:34.520Z',\n       '2012', '2013', '2014', '2015', '2016'], dtype=object)\n\n\n\n'1975-02-23T02:58:41.000Z'.split('-')[0]\n\n'1975'\n\n\n\ndf.assign(Year = list(map(lambda x: x.split('/')[-1], df.Date)))\\\n.assign(Year = lambda df: list(map(lambda x: x.split('-')[0], df.Year)))\n\n\n\n\n\n\n\n\nDate\nLatitude\nLongitude\nMagnitude\nYear\n\n\n\n\n0\n01/02/1965\n19.2460\n145.6160\n6.0\n1965\n\n\n1\n01/04/1965\n1.8630\n127.3520\n5.8\n1965\n\n\n2\n01/05/1965\n-20.5790\n-173.9720\n6.2\n1965\n\n\n3\n01/08/1965\n-59.0760\n-23.5570\n5.8\n1965\n\n\n4\n01/09/1965\n11.9380\n126.4270\n5.8\n1965\n\n\n...\n...\n...\n...\n...\n...\n\n\n23407\n12/28/2016\n38.3917\n-118.8941\n5.6\n2016\n\n\n23408\n12/28/2016\n38.3777\n-118.8957\n5.5\n2016\n\n\n23409\n12/28/2016\n36.9179\n140.4262\n5.9\n2016\n\n\n23410\n12/29/2016\n-9.0283\n118.6639\n6.3\n2016\n\n\n23411\n12/30/2016\n37.3973\n141.4103\n5.5\n2016\n\n\n\n\n23412 rows × 5 columns\n\n\n\n\ndf.assign(Year = list(map(lambda x: x.split('/')[-1], df.Date)))\\\n.assign(Year = lambda df: list(map(lambda x: x.split('-')[0], df.Year))).Year.unique()\n\narray(['1965', '1966', '1967', '1968', '1969', '1970', '1971', '1972',\n       '1973', '1974', '1975', '1976', '1977', '1978', '1979', '1980',\n       '1981', '1982', '1983', '1984', '1985', '1986', '1987', '1988',\n       '1989', '1990', '1991', '1992', '1993', '1994', '1995', '1996',\n       '1997', '1998', '1999', '2000', '2001', '2002', '2003', '2004',\n       '2005', '2006', '2007', '2008', '2009', '2010', '2011', '2012',\n       '2013', '2014', '2015', '2016'], dtype=object)\n\n\n\nlst =[ \n    df.assign(Year = list(map(lambda x: x.split('/')[-1], df.Date)))\\\n    .assign(Year = lambda df: list(map(lambda x: x.split('-')[0] ,df.Year)))\\\n    .groupby('Year')\\\n    .pipe(list)[_year][1]\\\n    .loc[:,['Latitude','Longitude']]\\\n    .pipe(np.array).tolist()\n    \n    for _year in range(2016-1965+1) \n]\n\n\n\nStep2: folium\n\nm=folium.Map(scrollWheelZoom=False)\nfolium.plugins.HeatMapWithTime(\n    lst,\n    radius=5,\n    index=list(range(1965,2017)) \n).add_to(m)\nm\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook"
  },
  {
    "objectID": "posts/DV_12(1121).html#세계지도-그리기",
    "href": "posts/DV_12(1121).html#세계지도-그리기",
    "title": "DV 12주차",
    "section": "세계지도 그리기",
    "text": "세계지도 그리기\n\npx.scatter_geo()\n\n                                                \n\n\n\npx.scatter_geo(projection='natural earth') #동그랗게"
  },
  {
    "objectID": "posts/DV_12(1121).html#세계지도-버블",
    "href": "posts/DV_12(1121).html#세계지도-버블",
    "title": "DV 12주차",
    "section": "세계지도 + 버블",
    "text": "세계지도 + 버블\n- 예시1\n\ndf = pd.DataFrame({'lat':[37,0], 'lon':[127,0], 'size':[100,5]})\ndf\n\n\n\n\n\n\n\n\nlat\nlon\nsize\n\n\n\n\n0\n37\n127\n100\n\n\n1\n0\n0\n5\n\n\n\n\n\n\n\n\npx.scatter_geo(\n    data_frame=df,\n    lat = 'lat',\n    lon = 'lon',\n    size = 'size'\n)\n\n                                                \n\n\n- 예시2\n\ndf= pd.DataFrame({'code':['KOR','JPN'], 'size':[100,30]})\ndf\n\n\n\n\n\n\n\n\ncode\nsize\n\n\n\n\n0\nKOR\n100\n\n\n1\nJPN\n30\n\n\n\n\n\n\n\n\npx.scatter_geo(\n    data_frame = df,\n    locations = 'code',\n    size = 'size'\n)\n\n                                                \n\n\n\nGapminder data 시각화\n- Gapminder data: 국가별 기대수명, 1인당 GDP, 인구에 대한 데이터\n\n특징: 연도별로 정리가 되어있다.\n\n\ndf=px.data.gapminder()\ndf\n\n\n\n\n\n\n\n\ncountry\ncontinent\nyear\nlifeExp\npop\ngdpPercap\niso_alpha\niso_num\n\n\n\n\n0\nAfghanistan\nAsia\n1952\n28.801\n8425333\n779.445314\nAFG\n4\n\n\n1\nAfghanistan\nAsia\n1957\n30.332\n9240934\n820.853030\nAFG\n4\n\n\n2\nAfghanistan\nAsia\n1962\n31.997\n10267083\n853.100710\nAFG\n4\n\n\n3\nAfghanistan\nAsia\n1967\n34.020\n11537966\n836.197138\nAFG\n4\n\n\n4\nAfghanistan\nAsia\n1972\n36.088\n13079460\n739.981106\nAFG\n4\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n1699\nZimbabwe\nAfrica\n1987\n62.351\n9216418\n706.157306\nZWE\n716\n\n\n1700\nZimbabwe\nAfrica\n1992\n60.377\n10704340\n693.420786\nZWE\n716\n\n\n1701\nZimbabwe\nAfrica\n1997\n46.809\n11404948\n792.449960\nZWE\n716\n\n\n1702\nZimbabwe\nAfrica\n2002\n39.989\n11926563\n672.038623\nZWE\n716\n\n\n1703\nZimbabwe\nAfrica\n2007\n43.487\n12311143\n469.709298\nZWE\n716\n\n\n\n\n1704 rows × 8 columns\n\n\n\n\ndf.query('year==2007')\n\n\n\n\n\n\n\n\ncountry\ncontinent\nyear\nlifeExp\npop\ngdpPercap\niso_alpha\niso_num\n\n\n\n\n11\nAfghanistan\nAsia\n2007\n43.828\n31889923\n974.580338\nAFG\n4\n\n\n23\nAlbania\nEurope\n2007\n76.423\n3600523\n5937.029526\nALB\n8\n\n\n35\nAlgeria\nAfrica\n2007\n72.301\n33333216\n6223.367465\nDZA\n12\n\n\n47\nAngola\nAfrica\n2007\n42.731\n12420476\n4797.231267\nAGO\n24\n\n\n59\nArgentina\nAmericas\n2007\n75.320\n40301927\n12779.379640\nARG\n32\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n1655\nVietnam\nAsia\n2007\n74.249\n85262356\n2441.576404\nVNM\n704\n\n\n1667\nWest Bank and Gaza\nAsia\n2007\n73.422\n4018332\n3025.349798\nPSE\n275\n\n\n1679\nYemen, Rep.\nAsia\n2007\n62.698\n22211743\n2280.769906\nYEM\n887\n\n\n1691\nZambia\nAfrica\n2007\n42.384\n11746035\n1271.211593\nZMB\n894\n\n\n1703\nZimbabwe\nAfrica\n2007\n43.487\n12311143\n469.709298\nZWE\n716\n\n\n\n\n142 rows × 8 columns\n\n\n\n\npx.scatter_geo(\n    data_frame = df,\n    locations = 'iso_alpha',  \n    size = 'pop'\n)\n\n                                                \n\n\n\npx.scatter_geo(\n    data_frame = df.query('year==2007'),\n    locations = 'iso_alpha',  \n    size = 'pop',\n    color = 'continent' # 국가\n)\n\n                                                \n\n\n\nx,y 좌표 잡기\n크기\ncolor\n시간\n\n….."
  },
  {
    "objectID": "posts/DV_10(1107).html",
    "href": "posts/DV_10(1107).html",
    "title": "DV 10주차(1)",
    "section": "",
    "text": "import pandas as pd\nimport numpy as np\nfrom plotnine import *"
  },
  {
    "objectID": "posts/DV_10(1107).html#melt",
    "href": "posts/DV_10(1107).html#melt",
    "title": "DV 10주차(1)",
    "section": "melt",
    "text": "melt\n- 데이터\n\ndf=pd.read_csv('https://raw.githubusercontent.com/guebin/2021DV/master/_notebooks/phone.csv')\ndf\n\n\n\n\n\n\n\n\nDate\nSamsung\nApple\nHuawei\nXiaomi\nOppo\nMobicel\nMotorola\nLG\nOthers\nRealme\nGoogle\nNokia\nLenovo\nOnePlus\nSony\nAsus\n\n\n\n\n0\n2019-10\n461\n324\n136\n109\n76\n81\n43\n37\n135\n28\n39\n14\n22\n17\n20\n17\n\n\n1\n2019-11\n461\n358\n167\n141\n86\n61\n29\n36\n141\n27\n29\n20\n23\n10\n19\n27\n\n\n2\n2019-12\n426\n383\n143\n105\n53\n45\n51\n48\n129\n30\n20\n26\n28\n18\n18\n19\n\n\n3\n2020-01\n677\n494\n212\n187\n110\n79\n65\n49\n158\n23\n13\n19\n19\n22\n27\n22\n\n\n4\n2020-02\n593\n520\n217\n195\n112\n67\n62\n71\n157\n25\n18\n16\n24\n18\n23\n20\n\n\n5\n2020-03\n637\n537\n246\n187\n92\n66\n59\n67\n145\n21\n16\n24\n18\n31\n22\n14\n\n\n6\n2020-04\n647\n583\n222\n154\n98\n59\n48\n64\n113\n20\n23\n25\n19\n19\n23\n21\n\n\n7\n2020-05\n629\n518\n192\n176\n91\n87\n50\n66\n150\n43\n27\n15\n18\n19\n19\n13\n\n\n8\n2020-06\n663\n552\n209\n185\n93\n69\n54\n60\n140\n39\n16\n16\n17\n29\n25\n16\n\n\n9\n2020-07\n599\n471\n214\n193\n89\n78\n65\n59\n130\n40\n27\n25\n21\n18\n18\n12\n\n\n10\n2020-08\n615\n567\n204\n182\n105\n82\n62\n42\n129\n47\n16\n23\n21\n27\n23\n20\n\n\n11\n2020-09\n621\n481\n230\n220\n102\n88\n56\n49\n143\n54\n14\n15\n17\n15\n19\n15\n\n\n12\n2020-10\n637\n555\n232\n203\n90\n52\n63\n49\n140\n33\n17\n20\n22\n9\n22\n21\n\n\n\n\n\n\n\n- 사용예시\n\ndf.melt()\n\n\n\n\n\n\n\n\nvariable\nvalue\n\n\n\n\n0\nDate\n2019-10\n\n\n1\nDate\n2019-11\n\n\n2\nDate\n2019-12\n\n\n3\nDate\n2020-01\n\n\n4\nDate\n2020-02\n\n\n...\n...\n...\n\n\n216\nAsus\n16\n\n\n217\nAsus\n12\n\n\n218\nAsus\n20\n\n\n219\nAsus\n15\n\n\n220\nAsus\n21\n\n\n\n\n221 rows × 2 columns\n\n\n\n\nvariable: column name들이 들어간다.\nvalue: column name에 대응하는 값들이 들어간다.\n\n- 사용예시2: id_vars -&gt; tidy data\n\ndf.melt(id_vars='Date')\n\n\n\n\n\n\n\n\nDate\nvariable\nvalue\n\n\n\n\n0\n2019-10\nSamsung\n461\n\n\n1\n2019-11\nSamsung\n461\n\n\n2\n2019-12\nSamsung\n426\n\n\n3\n2020-01\nSamsung\n677\n\n\n4\n2020-02\nSamsung\n593\n\n\n...\n...\n...\n...\n\n\n203\n2020-06\nAsus\n16\n\n\n204\n2020-07\nAsus\n12\n\n\n205\n2020-08\nAsus\n20\n\n\n206\n2020-09\nAsus\n15\n\n\n207\n2020-10\nAsus\n21\n\n\n\n\n208 rows × 3 columns\n\n\n\n- 사용예시3:\n\ndf.set_index('Date').melt()\n# 인덱스를 무시하면서 녹여버림\n\n\n\n\n\n\n\n\nvariable\nvalue\n\n\n\n\n0\nSamsung\n461\n\n\n1\nSamsung\n461\n\n\n2\nSamsung\n426\n\n\n3\nSamsung\n677\n\n\n4\nSamsung\n593\n\n\n...\n...\n...\n\n\n203\nAsus\n16\n\n\n204\nAsus\n12\n\n\n205\nAsus\n20\n\n\n206\nAsus\n15\n\n\n207\nAsus\n21\n\n\n\n\n208 rows × 2 columns\n\n\n\n- 사용예시4: ignore_index=False\n\ndf.set_index('Date').melt(ignore_index=False).reset_index()\n\n\n\n\n\n\n\n\nDate\nvariable\nvalue\n\n\n\n\n0\n2019-10\nSamsung\n461\n\n\n1\n2019-11\nSamsung\n461\n\n\n2\n2019-12\nSamsung\n426\n\n\n3\n2020-01\nSamsung\n677\n\n\n4\n2020-02\nSamsung\n593\n\n\n...\n...\n...\n...\n\n\n203\n2020-06\nAsus\n16\n\n\n204\n2020-07\nAsus\n12\n\n\n205\n2020-08\nAsus\n20\n\n\n206\n2020-09\nAsus\n15\n\n\n207\n2020-10\nAsus\n21\n\n\n\n\n208 rows × 3 columns"
  },
  {
    "objectID": "posts/DV_10(1107).html#stack",
    "href": "posts/DV_10(1107).html#stack",
    "title": "DV 10주차(1)",
    "section": "stack",
    "text": "stack\n\ndf=pd.read_csv('https://raw.githubusercontent.com/PacktPublishing/Pandas-Cookbook/master/data/flights.csv')\\\n.groupby([\"AIRLINE\",\"WEEKDAY\"]).agg({\"CANCELLED\":[np.mean,\"count\"],\"DIVERTED\":[np.mean,\"count\"]})\ndf\n\n\n\n\n\n\n\n\n\nCANCELLED\nDIVERTED\n\n\n\n\nmean\ncount\nmean\ncount\n\n\nAIRLINE\nWEEKDAY\n\n\n\n\n\n\n\n\nAA\n1\n0.032106\n1277\n0.004699\n1277\n\n\n2\n0.007341\n1226\n0.001631\n1226\n\n\n3\n0.011949\n1339\n0.001494\n1339\n\n\n4\n0.015004\n1333\n0.003751\n1333\n\n\n5\n0.014151\n1272\n0.000786\n1272\n\n\n...\n...\n...\n...\n...\n...\n\n\nWN\n3\n0.014118\n1275\n0.001569\n1275\n\n\n4\n0.007911\n1264\n0.003165\n1264\n\n\n5\n0.005828\n1201\n0.000000\n1201\n\n\n6\n0.010132\n987\n0.003040\n987\n\n\n7\n0.006066\n1154\n0.002600\n1154\n\n\n\n\n98 rows × 4 columns\n\n\n\n\ndf.stack()\n\n\n\n\n\n\n\n\n\n\nCANCELLED\nDIVERTED\n\n\nAIRLINE\nWEEKDAY\n\n\n\n\n\n\n\nAA\n1\nmean\n0.032106\n0.004699\n\n\ncount\n1277.000000\n1277.000000\n\n\n2\nmean\n0.007341\n0.001631\n\n\ncount\n1226.000000\n1226.000000\n\n\n3\nmean\n0.011949\n0.001494\n\n\n...\n...\n...\n...\n...\n\n\nWN\n5\ncount\n1201.000000\n1201.000000\n\n\n6\nmean\n0.010132\n0.003040\n\n\ncount\n987.000000\n987.000000\n\n\n7\nmean\n0.006066\n0.002600\n\n\ncount\n1154.000000\n1154.000000\n\n\n\n\n196 rows × 2 columns\n\n\n\n- 사용에시2\n\ndf.stack().stack().reset_index().rename({0:'value'},axis=1)\n#df.stack().stack().reset_index().rename(columns={'level_2':'aggtype'})\n\n\n\n\n\n\n\n\nAIRLINE\nWEEKDAY\nlevel_2\nlevel_3\nvalue\n\n\n\n\n0\nAA\n1\nmean\nCANCELLED\n0.032106\n\n\n1\nAA\n1\nmean\nDIVERTED\n0.004699\n\n\n2\nAA\n1\ncount\nCANCELLED\n1277.000000\n\n\n3\nAA\n1\ncount\nDIVERTED\n1277.000000\n\n\n4\nAA\n2\nmean\nCANCELLED\n0.007341\n\n\n...\n...\n...\n...\n...\n...\n\n\n387\nWN\n6\ncount\nDIVERTED\n987.000000\n\n\n388\nWN\n7\nmean\nCANCELLED\n0.006066\n\n\n389\nWN\n7\nmean\nDIVERTED\n0.002600\n\n\n390\nWN\n7\ncount\nCANCELLED\n1154.000000\n\n\n391\nWN\n7\ncount\nDIVERTED\n1154.000000\n\n\n\n\n392 rows × 5 columns\n\n\n\n- 사용예시3(unstack)\n\ndf.stack().unstack()\n\n\n\n\n\n\n\n\n\nCANCELLED\nDIVERTED\n\n\n\n\nmean\ncount\nmean\ncount\n\n\nAIRLINE\nWEEKDAY\n\n\n\n\n\n\n\n\nAA\n1\n0.032106\n1277.0\n0.004699\n1277.0\n\n\n2\n0.007341\n1226.0\n0.001631\n1226.0\n\n\n3\n0.011949\n1339.0\n0.001494\n1339.0\n\n\n4\n0.015004\n1333.0\n0.003751\n1333.0\n\n\n5\n0.014151\n1272.0\n0.000786\n1272.0\n\n\n...\n...\n...\n...\n...\n...\n\n\nWN\n3\n0.014118\n1275.0\n0.001569\n1275.0\n\n\n4\n0.007911\n1264.0\n0.003165\n1264.0\n\n\n5\n0.005828\n1201.0\n0.000000\n1201.0\n\n\n6\n0.010132\n987.0\n0.003040\n987.0\n\n\n7\n0.006066\n1154.0\n0.002600\n1154.0\n\n\n\n\n98 rows × 4 columns\n\n\n\ntidy data를 만들기 위해 melt, stack를 잘 이용하자"
  },
  {
    "objectID": "posts/DV_10(1107).html#tidydata의-정의",
    "href": "posts/DV_10(1107).html#tidydata의-정의",
    "title": "DV 10주차(1)",
    "section": "tidydata의 정의",
    "text": "tidydata의 정의\n- 느낌: ggplot로 그림 그리기 좋은 데이터 + pandas로 query, group by 등을 쓰기 좋은 자료\n- 정의: https://r4ds.had.co.nz/tidy-data.html\nEach variable must have its own column.\nEach observation must have its own row.\nEach value must have its own cell.\n- 예시1 (tidydata)\n\n\n\nobs\nx\ny\nshape\ncolor\n\n\n\n\n0\n0\n0\n‘star’\n‘F’\n\n\n1\n0\n1\n‘circ’\n‘F’\n\n\n2\n1\n0\n‘star’\n‘M’\n\n\n3\n1\n1\n‘circ’\n‘M’\n\n\n\n- 예시2 (tidy data x)\n\n\n\n\nshape=star\nshape=circ\n\n\n\n\ncolor=F\n(0,0)\n(0,1)\n\n\ncolor=M\n(1,0)\n(1,1)"
  },
  {
    "objectID": "posts/DV_10(1107).html#예제1-wide-df",
    "href": "posts/DV_10(1107).html#예제1-wide-df",
    "title": "DV 10주차(1)",
    "section": "예제1: wide df",
    "text": "예제1: wide df\n\ndf=pd.read_csv('https://raw.githubusercontent.com/guebin/2021DV/master/_notebooks/phone.csv')\ndf\n\n\n\n\n\n\n\n\nDate\nSamsung\nApple\nHuawei\nXiaomi\nOppo\nMobicel\nMotorola\nLG\nOthers\nRealme\nGoogle\nNokia\nLenovo\nOnePlus\nSony\nAsus\n\n\n\n\n0\n2019-10\n461\n324\n136\n109\n76\n81\n43\n37\n135\n28\n39\n14\n22\n17\n20\n17\n\n\n1\n2019-11\n461\n358\n167\n141\n86\n61\n29\n36\n141\n27\n29\n20\n23\n10\n19\n27\n\n\n2\n2019-12\n426\n383\n143\n105\n53\n45\n51\n48\n129\n30\n20\n26\n28\n18\n18\n19\n\n\n3\n2020-01\n677\n494\n212\n187\n110\n79\n65\n49\n158\n23\n13\n19\n19\n22\n27\n22\n\n\n4\n2020-02\n593\n520\n217\n195\n112\n67\n62\n71\n157\n25\n18\n16\n24\n18\n23\n20\n\n\n5\n2020-03\n637\n537\n246\n187\n92\n66\n59\n67\n145\n21\n16\n24\n18\n31\n22\n14\n\n\n6\n2020-04\n647\n583\n222\n154\n98\n59\n48\n64\n113\n20\n23\n25\n19\n19\n23\n21\n\n\n7\n2020-05\n629\n518\n192\n176\n91\n87\n50\n66\n150\n43\n27\n15\n18\n19\n19\n13\n\n\n8\n2020-06\n663\n552\n209\n185\n93\n69\n54\n60\n140\n39\n16\n16\n17\n29\n25\n16\n\n\n9\n2020-07\n599\n471\n214\n193\n89\n78\n65\n59\n130\n40\n27\n25\n21\n18\n18\n12\n\n\n10\n2020-08\n615\n567\n204\n182\n105\n82\n62\n42\n129\n47\n16\n23\n21\n27\n23\n20\n\n\n11\n2020-09\n621\n481\n230\n220\n102\n88\n56\n49\n143\n54\n14\n15\n17\n15\n19\n15\n\n\n12\n2020-10\n637\n555\n232\n203\n90\n52\n63\n49\n140\n33\n17\n20\n22\n9\n22\n21\n\n\n\n\n\n\n\n\ntidy data 아님\n정의에 의한 판단: 하나의 observation이 하나의 행을 차지하고 있지 않음.\n직관적인 판단: 회사별로 색을 다르게 하여 x:‘Date’, y:’판매량’을 하고 싶다면?\n\n- tidydata로 변환 (melt는 너무 쉬우니까 stack으로 해보자)\n\ndf.set_index('Date').stack().reset_index().rename({'level_1':'Company',0:'Sales'},axis=1)\n\n# axis=1 을 설정을 안해주면 index에 있는 0이 바뀌므로 컬럼에 있는 0 값을 바꿔주기 위해서 axis를 표시\n\n\n\n\n\n\n\n\nDate\nCompany\nSales\n\n\n\n\n0\n2019-10\nSamsung\n461\n\n\n1\n2019-10\nApple\n324\n\n\n2\n2019-10\nHuawei\n136\n\n\n3\n2019-10\nXiaomi\n109\n\n\n4\n2019-10\nOppo\n76\n\n\n...\n...\n...\n...\n\n\n203\n2020-10\nNokia\n20\n\n\n204\n2020-10\nLenovo\n22\n\n\n205\n2020-10\nOnePlus\n9\n\n\n206\n2020-10\nSony\n22\n\n\n207\n2020-10\nAsus\n21\n\n\n\n\n208 rows × 3 columns\n\n\n\n\ndf.melt('Date')\n\n\n\n\n\n\n\n\nDate\nvariable\nvalue\n\n\n\n\n0\n2019-10\nSamsung\n461\n\n\n1\n2019-11\nSamsung\n461\n\n\n2\n2019-12\nSamsung\n426\n\n\n3\n2020-01\nSamsung\n677\n\n\n4\n2020-02\nSamsung\n593\n\n\n...\n...\n...\n...\n\n\n203\n2020-06\nAsus\n16\n\n\n204\n2020-07\nAsus\n12\n\n\n205\n2020-08\nAsus\n20\n\n\n206\n2020-09\nAsus\n15\n\n\n207\n2020-10\nAsus\n21\n\n\n\n\n208 rows × 3 columns"
  },
  {
    "objectID": "posts/DV_10(1107).html#예제2-multi-indexed-data",
    "href": "posts/DV_10(1107).html#예제2-multi-indexed-data",
    "title": "DV 10주차(1)",
    "section": "예제2: multi-indexed data",
    "text": "예제2: multi-indexed data\n- 데이터\n\ndf=pd.read_csv('https://raw.githubusercontent.com/PacktPublishing/Pandas-Cookbook/master/data/flights.csv')\\\n.groupby([\"AIRLINE\",\"WEEKDAY\"]).agg({\"CANCELLED\":[np.mean,\"count\"],\"DIVERTED\":[np.mean,\"count\"]})\ndf\n\n\n\n\n\n\n\n\n\nCANCELLED\nDIVERTED\n\n\n\n\nmean\ncount\nmean\ncount\n\n\nAIRLINE\nWEEKDAY\n\n\n\n\n\n\n\n\nAA\n1\n0.032106\n1277\n0.004699\n1277\n\n\n2\n0.007341\n1226\n0.001631\n1226\n\n\n3\n0.011949\n1339\n0.001494\n1339\n\n\n4\n0.015004\n1333\n0.003751\n1333\n\n\n5\n0.014151\n1272\n0.000786\n1272\n\n\n...\n...\n...\n...\n...\n...\n\n\nWN\n3\n0.014118\n1275\n0.001569\n1275\n\n\n4\n0.007911\n1264\n0.003165\n1264\n\n\n5\n0.005828\n1201\n0.000000\n1201\n\n\n6\n0.010132\n987\n0.003040\n987\n\n\n7\n0.006066\n1154\n0.002600\n1154\n\n\n\n\n98 rows × 4 columns\n\n\n\n\nWEEKDAY == 4 and mean(CANCELLED)&gt; 0.001\n\n- tidydata로 변환 (stack으로 풀면 너무 쉬우니까 melt로 해보자)\n\ndf.melt(ignore_index=False).reset_index()\n\n\n\n\n\n\n\n\nAIRLINE\nWEEKDAY\nvariable_0\nvariable_1\nvalue\n\n\n\n\n0\nAA\n1\nCANCELLED\nmean\n0.032106\n\n\n1\nAA\n2\nCANCELLED\nmean\n0.007341\n\n\n2\nAA\n3\nCANCELLED\nmean\n0.011949\n\n\n3\nAA\n4\nCANCELLED\nmean\n0.015004\n\n\n4\nAA\n5\nCANCELLED\nmean\n0.014151\n\n\n...\n...\n...\n...\n...\n...\n\n\n387\nWN\n3\nDIVERTED\ncount\n1275.000000\n\n\n388\nWN\n4\nDIVERTED\ncount\n1264.000000\n\n\n389\nWN\n5\nDIVERTED\ncount\n1201.000000\n\n\n390\nWN\n6\nDIVERTED\ncount\n987.000000\n\n\n391\nWN\n7\nDIVERTED\ncount\n1154.000000\n\n\n\n\n392 rows × 5 columns\n\n\n\n\ndf.stack().stack().reset_index()\n\n\n\n\n\n\n\n\nAIRLINE\nWEEKDAY\nlevel_2\nlevel_3\n0\n\n\n\n\n0\nAA\n1\nmean\nCANCELLED\n0.032106\n\n\n1\nAA\n1\nmean\nDIVERTED\n0.004699\n\n\n2\nAA\n1\ncount\nCANCELLED\n1277.000000\n\n\n3\nAA\n1\ncount\nDIVERTED\n1277.000000\n\n\n4\nAA\n2\nmean\nCANCELLED\n0.007341\n\n\n...\n...\n...\n...\n...\n...\n\n\n387\nWN\n6\ncount\nDIVERTED\n987.000000\n\n\n388\nWN\n7\nmean\nCANCELLED\n0.006066\n\n\n389\nWN\n7\nmean\nDIVERTED\n0.002600\n\n\n390\nWN\n7\ncount\nCANCELLED\n1154.000000\n\n\n391\nWN\n7\ncount\nDIVERTED\n1154.000000\n\n\n\n\n392 rows × 5 columns"
  },
  {
    "objectID": "posts/DV_10(1107).html#geom_col",
    "href": "posts/DV_10(1107).html#geom_col",
    "title": "DV 10주차(1)",
    "section": "geom_col",
    "text": "geom_col\n- 예시1: 한국과 일본의 평균능력치 비교\n\ndf.groupby(\"Nationality\").agg({'Overall':np.mean})\n\n\n\n\n\n\n\n\nOverall\n\n\nNationality\n\n\n\n\n\nJapan\n66.478873\n\n\nKorea Republic\n65.457627\n\n\n\n\n\n\n\n\ndata=df.groupby(\"Nationality\").agg({'Overall':np.mean}).reset_index()\ndata\n\n\n\n\n\n\n\n\nNationality\nOverall\n\n\n\n\n0\nJapan\n66.478873\n\n\n1\nKorea Republic\n65.457627\n\n\n\n\n\n\n\n\nggplot(data) + geom_col(aes(x='Nationality',y='Overall'))\n\n\n\n\n- 예시2: 한국과 일본의 평균능력치 비교 (색상비교)\n\nggplot(data) + geom_col(aes(x='Nationality',y='Overall', color='Nationality'))\n\n\n\n\n\ncolor로 설정하니까 테두리에만 색이 변경\n\n\nggplot(data) + geom_col(aes(x='Nationality',y='Overall', fill='Nationality'))\n\n\n\n\n- 예시3: 한국과 일본의 평균연령 비교\n\ndata=df.groupby(\"Nationality\").agg({'Age':np.mean}).reset_index()\ndata\n\n\n\n\n\n\n\n\nNationality\nAge\n\n\n\n\n0\nJapan\n26.084507\n\n\n1\nKorea Republic\n27.158192\n\n\n\n\n\n\n\n\nggplot(data) + geom_col(aes(x='Nationality',y='Age', fill='Nationality'))"
  },
  {
    "objectID": "posts/DV_10(1107).html#geom_col-position-dodge",
    "href": "posts/DV_10(1107).html#geom_col-position-dodge",
    "title": "DV 10주차(1)",
    "section": "geom_col + position = ‘dodge’",
    "text": "geom_col + position = ‘dodge’\n- 예시1: 한국과 일본의 평균연령+ 평균능력치 비교\n\ndata=df.groupby('Nationality')[['Overall','Age']].mean().reset_index()\ndata\n\n\n\n\n\n\n\n\nNationality\nOverall\nAge\n\n\n\n\n0\nJapan\n66.478873\n26.084507\n\n\n1\nKorea Republic\n65.457627\n27.158192\n\n\n\n\n\n\n\n\ndata=df.groupby('Nationality').agg({'Overall':np.mean,'Age':np.mean})\\\n.stack().reset_index().rename({0:'value'},axis=1)\ndata\n\n\n\n\n\n\n\n\nNationality\nlevel_1\nvalue\n\n\n\n\n0\nJapan\nOverall\n66.478873\n\n\n1\nJapan\nAge\n26.084507\n\n\n2\nKorea Republic\nOverall\n65.457627\n\n\n3\nKorea Republic\nAge\n27.158192\n\n\n\n\n\n\n\n\nggplot(data)+geom_col(aes(x='level_1',fill='Nationality',y='value'))\n\n\n\n\n\nggplot(data)+geom_col(aes(x='level_1',fill='Nationality',y='value'),position='dodge')"
  },
  {
    "objectID": "posts/DV_10(1107).html#geom_col-coord_flip-90도회전",
    "href": "posts/DV_10(1107).html#geom_col-coord_flip-90도회전",
    "title": "DV 10주차(1)",
    "section": "geom_col + coord_flip() 90도회전",
    "text": "geom_col + coord_flip() 90도회전\n\nggplot(data)+geom_col(aes(x='level_1',fill='Nationality',y='value'),position='dodge')\\\n+coord_flip() # 90도 회전"
  },
  {
    "objectID": "posts/DV_10(1107).html#geom_col-facet_wrapvar-면분할",
    "href": "posts/DV_10(1107).html#geom_col-facet_wrapvar-면분할",
    "title": "DV 10주차(1)",
    "section": "geom_col + facet_wrap(var) 면분할",
    "text": "geom_col + facet_wrap(var) 면분할\n\nggplot(data)+geom_col(aes(x='level_1',fill='Nationality',y='value'),position='dodge')\\\n+facet_wrap('level_1')\n\n\n\n\n\nggplot(data)+geom_col(aes(x='Nationality',fill='Nationality',y='value'),position='dodge')\\\n+facet_wrap('level_1')\n\n\n\n\n\nggplot(data)+geom_col(aes(x='level_1',fill='Nationality',y='value'),position='dodge')\\\n+facet_wrap('Nationality')"
  },
  {
    "objectID": "posts/DV_10(1107).html#geom_col-facet_gridvar_y-var_x",
    "href": "posts/DV_10(1107).html#geom_col-facet_gridvar_y-var_x",
    "title": "DV 10주차(1)",
    "section": "geom_col + facet_grid(‘var_y ~ var_x’)",
    "text": "geom_col + facet_grid(‘var_y ~ var_x’)\n- 예시1: 한국과 일본의 평균연령+평균능력치+최대능력치 비교(면분할)\n\ndata=df.groupby('Nationality').agg({'Overall':[np.mean,np.max],'Age':np.mean})\\\n.melt(ignore_index=False).reset_index()\ndata\n\n\n\n\n\n\n\n\nNationality\nvariable_0\nvariable_1\nvalue\n\n\n\n\n0\nJapan\nOverall\nmean\n66.478873\n\n\n1\nKorea Republic\nOverall\nmean\n65.457627\n\n\n2\nJapan\nOverall\namax\n79.000000\n\n\n3\nKorea Republic\nOverall\namax\n89.000000\n\n\n4\nJapan\nAge\nmean\n26.084507\n\n\n5\nKorea Republic\nAge\nmean\n27.158192\n\n\n\n\n\n\n\n\nggplot(data)+geom_col(aes(fill='Nationality',x='Nationality',y='value'),position='dodge')\\\n+facet_grid('variable_1~variable_0')"
  },
  {
    "objectID": "posts/DV_10(1107).html#geom_bar-vs-geom_col",
    "href": "posts/DV_10(1107).html#geom_bar-vs-geom_col",
    "title": "DV 10주차(1)",
    "section": "geom_bar vs geom_col",
    "text": "geom_bar vs geom_col\n- 예시1: 한국과 일본의 단순 선수 숫자 비교 (with goem_col)\n\ndata=df.groupby('Nationality').agg({'Age':'count'}).reset_index().rename({'Age':'count'},axis=1)\ndata\n\n\n\n\n\n\n\n\nNationality\ncount\n\n\n\n\n0\nJapan\n284\n\n\n1\nKorea Republic\n177\n\n\n\n\n\n\n\n단순 숫자 비교이므로 Age, Overall 아무거나 변수 넣어도 상관 없음\n\nggplot(data) + geom_col(aes(x='Nationality',fill='Nationality', y='count'))\n\n\n\n\n- 예시2: 한국과 일본의 단순 선수 숫자 비교 (with goem_bar)\n\nggplot(df)+geom_bar(aes(x='Nationality',fill='Nationality'))\n\n\n\n\n\ngeom_bar : groupby + count 가 자동으로 수행된다.\n특징1: 원래 데이터프레임 그대로 하는게 아니라 뭔가 변형된 값이 출력 (정확하게는 groupby + count가 변형요소)\n특징2: y는 당연히 count이므로 y를 명시할 필요가 없음. (잘 생각해보면 명시하고 싶어도 명시할 수 없음, y는 groupby + count 에 의해서 계산된 값이고 df자체에는 존재하지 않음)\n\n- 이렇게 약속된 변형은 stat='count' 옵션 때문에 가능함\n\nstat='count'는 그룹바이이후에 count를 하라는 의미\n\n\nggplot(df)+geom_bar(aes(x='Nationality',fill='Nationality'), stat='count')\n\n\n\n\n- stat='identity’ 로 옵션을 바꾸면 약속된 변환이 수행되지 않음\n\nstat='identity'는 아무 변환도 하지말라는 의미\n\n\nggplot(df)+geom_bar(aes(x='Nationality',fill='Nationality'), stat='identity')\n\nKeyError: 'y'\n\n\n\n아무것도 변환하지 말라는 의미이므로 에러가 난다.\n\n- 아래 3개의 코드는 모두 같다.\n\nggplot(df)+geom_bar(aes(x='Nationality',y='..count..',fill='Nationality'),stat='count')\nggplot(df)+geom_bar(aes(x='Nationality',fill='Nationality'),stat='count') # y='..count..' 생략,\nggplot(df)+geom_bar(aes(x='Nationality',fill='Nationality')) # y='..count..' 생략, stat='count' 생략"
  },
  {
    "objectID": "posts/DV_10(1107).html#geom_bar의-불편한-점",
    "href": "posts/DV_10(1107).html#geom_bar의-불편한-점",
    "title": "DV 10주차(1)",
    "section": "geom_bar()의 불편한 점",
    "text": "geom_bar()의 불편한 점\n- 사실 편하라고 만든것 같은데, 그닥 편하지 않음.\n\n편하라고 만든 점1: groupby를 자동으로 해줘서 groupby를 못하는 유저들이 사용하기 편리하게 함 -&gt; 그런데 우리는 groupby 잘함\n편하라고 만든 점2: groupby이후 count연산을 알아서 해줌 -&gt; 그런데 count연산만 알아서해주고 그 이외의 연산은 잘 지원안됨\n\n- 결론: groupby + count 조합에서만 편리하고 나머지는 편하지 않다.\n- 불편한 예시: 나라별 overall의 평균을 geom_bar()로 플랏해보라.\n\ndata= df.groupby('Nationality').agg({'Overall':np.mean}).reset_index()\ndata\n\n\n\n\n\n\n\n\nNationality\nOverall\n\n\n\n\n0\nJapan\n66.478873\n\n\n1\nKorea Republic\n65.457627\n\n\n\n\n\n\n\n\nggplot(data)+geom_bar(aes(x='Nationality',y='Overall',fill='Nationality'),stat='identity')\nggplot(data)+geom_col(aes(x='Nationality',y='Overall',fill='Nationality'))"
  },
  {
    "objectID": "posts/DV_8(1024).html",
    "href": "posts/DV_8(1024).html",
    "title": "DV 8주차",
    "section": "",
    "text": "!pip install pandas_profiling\n\nCollecting pandas_profiling\n  Downloading pandas_profiling-3.6.6-py2.py3-none-any.whl (324 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 324.4/324.4 kB 13.2 MB/s eta 0:00:00\nCollecting ydata-profiling\n  Downloading ydata_profiling-4.0.0-py2.py3-none-any.whl (344 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 344.5/344.5 kB 43.0 MB/s eta 0:00:00\nCollecting typeguard&lt;2.14,&gt;=2.13.2\n  Downloading typeguard-2.13.3-py3-none-any.whl (17 kB)\nRequirement already satisfied: statsmodels&lt;0.14,&gt;=0.13.2 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from ydata-profiling-&gt;pandas_profiling) (0.13.5)\nRequirement already satisfied: scipy&lt;1.10,&gt;=1.4.1 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from ydata-profiling-&gt;pandas_profiling) (1.7.3)\nRequirement already satisfied: jinja2&lt;3.2,&gt;=2.11.1 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from ydata-profiling-&gt;pandas_profiling) (3.1.2)\nCollecting PyYAML&lt;6.1,&gt;=5.0.0\n  Downloading PyYAML-6.0-cp37-cp37m-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_12_x86_64.manylinux2010_x86_64.whl (596 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 596.3/596.3 kB 68.7 MB/s eta 0:00:00\nCollecting phik&lt;0.13,&gt;=0.11.1\n  Downloading phik-0.12.3-cp37-cp37m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (680 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 680.0/680.0 kB 36.1 MB/s eta 0:00:00\nCollecting multimethod&lt;1.10,&gt;=1.4\n  Downloading multimethod-1.9.1-py3-none-any.whl (10 kB)\nCollecting pydantic&lt;1.11,&gt;=1.8.1\n  Downloading pydantic-1.10.5-cp37-cp37m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.1 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.1/3.1 MB 78.6 MB/s eta 0:00:00:00:01\nRequirement already satisfied: matplotlib&lt;3.7,&gt;=3.2 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from ydata-profiling-&gt;pandas_profiling) (3.5.3)\nRequirement already satisfied: pandas!=1.4.0,&lt;1.6,&gt;1.1 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from ydata-profiling-&gt;pandas_profiling) (1.3.5)\nCollecting htmlmin==0.1.12\n  Downloading htmlmin-0.1.12.tar.gz (19 kB)\n  Preparing metadata (setup.py) ... done\nRequirement already satisfied: numpy&lt;1.24,&gt;=1.16.0 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from ydata-profiling-&gt;pandas_profiling) (1.21.6)\nRequirement already satisfied: seaborn&lt;0.13,&gt;=0.10.1 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from ydata-profiling-&gt;pandas_profiling) (0.12.2)\nCollecting tqdm&lt;4.65,&gt;=4.48.2\n  Downloading tqdm-4.64.1-py2.py3-none-any.whl (78 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 78.5/78.5 kB 15.4 MB/s eta 0:00:00\nRequirement already satisfied: requests&lt;2.29,&gt;=2.24.0 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from ydata-profiling-&gt;pandas_profiling) (2.28.2)\nCollecting visions[type_image_path]==0.7.5\n  Downloading visions-0.7.5-py3-none-any.whl (102 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 102.7/102.7 kB 20.6 MB/s eta 0:00:00\nRequirement already satisfied: attrs&gt;=19.3.0 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from visions[type_image_path]==0.7.5-&gt;ydata-profiling-&gt;pandas_profiling) (22.2.0)\nCollecting networkx&gt;=2.4\n  Downloading networkx-2.6.3-py3-none-any.whl (1.9 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.9/1.9 MB 90.1 MB/s eta 0:00:00\nCollecting tangled-up-in-unicode&gt;=0.0.4\n  Downloading tangled_up_in_unicode-0.2.0-py3-none-any.whl (4.7 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 4.7/4.7 MB 93.1 MB/s eta 0:00:00ta 0:00:01\nRequirement already satisfied: Pillow in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from visions[type_image_path]==0.7.5-&gt;ydata-profiling-&gt;pandas_profiling) (9.4.0)\nCollecting imagehash\n  Downloading ImageHash-4.3.1-py2.py3-none-any.whl (296 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 296.5/296.5 kB 56.5 MB/s eta 0:00:00\nRequirement already satisfied: MarkupSafe&gt;=2.0 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from jinja2&lt;3.2,&gt;=2.11.1-&gt;ydata-profiling-&gt;pandas_profiling) (2.1.1)\nRequirement already satisfied: packaging&gt;=20.0 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from matplotlib&lt;3.7,&gt;=3.2-&gt;ydata-profiling-&gt;pandas_profiling) (23.0)\nRequirement already satisfied: fonttools&gt;=4.22.0 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from matplotlib&lt;3.7,&gt;=3.2-&gt;ydata-profiling-&gt;pandas_profiling) (4.38.0)\nRequirement already satisfied: cycler&gt;=0.10 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from matplotlib&lt;3.7,&gt;=3.2-&gt;ydata-profiling-&gt;pandas_profiling) (0.11.0)\nRequirement already satisfied: pyparsing&gt;=2.2.1 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from matplotlib&lt;3.7,&gt;=3.2-&gt;ydata-profiling-&gt;pandas_profiling) (3.0.9)\nRequirement already satisfied: python-dateutil&gt;=2.7 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from matplotlib&lt;3.7,&gt;=3.2-&gt;ydata-profiling-&gt;pandas_profiling) (2.8.2)\nRequirement already satisfied: kiwisolver&gt;=1.0.1 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from matplotlib&lt;3.7,&gt;=3.2-&gt;ydata-profiling-&gt;pandas_profiling) (1.4.4)\nRequirement already satisfied: pytz&gt;=2017.3 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from pandas!=1.4.0,&lt;1.6,&gt;1.1-&gt;ydata-profiling-&gt;pandas_profiling) (2022.7.1)\nCollecting joblib&gt;=0.14.1\n  Downloading joblib-1.2.0-py3-none-any.whl (297 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 298.0/298.0 kB 52.3 MB/s eta 0:00:00\nRequirement already satisfied: typing-extensions&gt;=4.2.0 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from pydantic&lt;1.11,&gt;=1.8.1-&gt;ydata-profiling-&gt;pandas_profiling) (4.4.0)\nRequirement already satisfied: urllib3&lt;1.27,&gt;=1.21.1 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from requests&lt;2.29,&gt;=2.24.0-&gt;ydata-profiling-&gt;pandas_profiling) (1.26.14)\nRequirement already satisfied: certifi&gt;=2017.4.17 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from requests&lt;2.29,&gt;=2.24.0-&gt;ydata-profiling-&gt;pandas_profiling) (2022.12.7)\nRequirement already satisfied: charset-normalizer&lt;4,&gt;=2 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from requests&lt;2.29,&gt;=2.24.0-&gt;ydata-profiling-&gt;pandas_profiling) (2.1.1)\nRequirement already satisfied: idna&lt;4,&gt;=2.5 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from requests&lt;2.29,&gt;=2.24.0-&gt;ydata-profiling-&gt;pandas_profiling) (3.4)\nRequirement already satisfied: patsy&gt;=0.5.2 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from statsmodels&lt;0.14,&gt;=0.13.2-&gt;ydata-profiling-&gt;pandas_profiling) (0.5.3)\nRequirement already satisfied: six in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from patsy&gt;=0.5.2-&gt;statsmodels&lt;0.14,&gt;=0.13.2-&gt;ydata-profiling-&gt;pandas_profiling) (1.16.0)\nCollecting PyWavelets\n  Downloading PyWavelets-1.3.0-cp37-cp37m-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_12_x86_64.manylinux2010_x86_64.whl (6.4 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 6.4/6.4 MB 85.2 MB/s eta 0:00:00:00:0100:01\nBuilding wheels for collected packages: htmlmin\n  Building wheel for htmlmin (setup.py) ... done\n  Created wheel for htmlmin: filename=htmlmin-0.1.12-py3-none-any.whl size=27082 sha256=7bcfaa4b7942dcfb19895abe1a49d1c43c9f2d12c73d8bc74499ddcb933893c8\n  Stored in directory: /home/koinup4/.cache/pip/wheels/56/18/c1/6b3058b1db1f804221515aac5ecf2513d5ba971f33b8560c7a\nSuccessfully built htmlmin\nInstalling collected packages: htmlmin, typeguard, tqdm, tangled-up-in-unicode, PyYAML, PyWavelets, pydantic, networkx, multimethod, joblib, imagehash, visions, phik, ydata-profiling, pandas_profiling\nSuccessfully installed PyWavelets-1.3.0 PyYAML-6.0 htmlmin-0.1.12 imagehash-4.3.1 joblib-1.2.0 multimethod-1.9.1 networkx-2.6.3 pandas_profiling-3.6.6 phik-0.12.3 pydantic-1.10.5 tangled-up-in-unicode-0.2.0 tqdm-4.64.1 typeguard-2.13.3 visions-0.7.5 ydata-profiling-4.0.0\nimport pandas as pd\nimport numpy as np\nimport pandas_profiling\nfrom plotnine import *"
  },
  {
    "objectID": "posts/DV_8(1024).html#모티브",
    "href": "posts/DV_8(1024).html#모티브",
    "title": "DV 8주차",
    "section": "모티브",
    "text": "모티브\n- 원본데이터를 가급적 손상시키지 않으면서 데이터를 변형하고 싶음\n\ndf = pd.DataFrame({'A':range(0,5),'B':range(1,6)})\ndf\n\n\n\n\n\n\n\n\nA\nB\n\n\n\n\n0\n0\n1\n\n\n1\n1\n2\n\n\n2\n2\n3\n\n\n3\n3\n4\n\n\n4\n4\n5\n\n\n\n\n\n\n\n복사본 생성\n\ndf2 = df\ndf2\n\n\n\n\n\n\n\n\nA\nB\n\n\n\n\n0\n0\n1\n\n\n1\n1\n2\n\n\n2\n2\n3\n\n\n3\n3\n4\n\n\n4\n4\n5\n\n\n\n\n\n\n\n\ndf2['C'] = (df2.A+df2.B)/2\ndf2\n\n\n\n\n\n\n\n\nA\nB\nC\n\n\n\n\n0\n0\n1\n0.5\n\n\n1\n1\n2\n1.5\n\n\n2\n2\n3\n2.5\n\n\n3\n3\n4\n3.5\n\n\n4\n4\n5\n4.5\n\n\n\n\n\n\n\n\ndf2['D'] = (df2.C - np.mean(df2.C))/np.std(df2.C)\ndf2\n\n\n\n\n\n\n\n\nA\nB\nC\nD\n\n\n\n\n0\n0\n1\n0.5\n-1.414214\n\n\n1\n1\n2\n1.5\n-0.707107\n\n\n2\n2\n3\n2.5\n0.000000\n\n\n3\n3\n4\n3.5\n0.707107\n\n\n4\n4\n5\n4.5\n1.414214\n\n\n\n\n\n\n\n\ndf  # 왜 C랑 D 값이 들어가있노?\n\n\n\n\n\n\n\n\nA\nB\nC\nD\n\n\n\n\n0\n0\n1\n0.5\n-1.414214\n\n\n1\n1\n2\n1.5\n-0.707107\n\n\n2\n2\n3\n2.5\n0.000000\n\n\n3\n3\n4\n3.5\n0.707107\n\n\n4\n4\n5\n4.5\n1.414214\n\n\n\n\n\n\n\n\nshallow copy\ndeep copy"
  },
  {
    "objectID": "posts/DV_8(1024).html#해결책1",
    "href": "posts/DV_8(1024).html#해결책1",
    "title": "DV 8주차",
    "section": "해결책1",
    "text": "해결책1\n- 올바른코드1\n\ndf = pd.DataFrame({'A':range(0,5),'B':range(1,6)})\ndf2 = df.copy() \ndf2['C'] = (df2.A+ df2.B)/2\ndf2['D']= (df2.C - np.mean(df2.C))/np.std(df2.C) \n\n\ndf2\n\n\n\n\n\n\n\n\nA\nB\nC\nD\n\n\n\n\n0\n0\n1\n0.5\n-1.414214\n\n\n1\n1\n2\n1.5\n-0.707107\n\n\n2\n2\n3\n2.5\n0.000000\n\n\n3\n3\n4\n3.5\n0.707107\n\n\n4\n4\n5\n4.5\n1.414214\n\n\n\n\n\n\n\n\ndf\n\n\n\n\n\n\n\n\nA\nB\n\n\n\n\n0\n0\n1\n\n\n1\n1\n2\n\n\n2\n2\n3\n\n\n3\n3\n4\n\n\n4\n4\n5\n\n\n\n\n\n\n\n- 올바른 코드2 (eval)\n\ndf.eval('C=(A+B)/2').eval('D=C-mean(c))/std(C)')\n\nTokenError: ('EOF in multi-line statement', (2, 0))\n\n\n\nmean([1,2,3]) # 정의가 안되있으무로\n\nNameError: name 'mean' is not defined\n\n\n\nmean = np.mean\n\n\nmean([1,2,3])\n\n2.0\n\n\n\nmean = np.mean\nstd = np.std\ndf.eval('C=(A+B)/2').eval('D=(C-@mean(C))/@std(C)')\n# 외부에서 온 거란 걸 표시해주기 위해서 mean앞에 @ 붙인다.\n\n\n\n\n\n\n\n\nA\nB\nC\nD\n\n\n\n\n0\n0\n1\n0.5\n-1.414214\n\n\n1\n1\n2\n1.5\n-0.707107\n\n\n2\n2\n3\n2.5\n0.000000\n\n\n3\n3\n4\n3.5\n0.707107\n\n\n4\n4\n5\n4.5\n1.414214\n\n\n\n\n\n\n\n\n어디까지 eval expression 안에서 지원되는지 명확하지 않고\n외부에 함수를 선언하고 eval expression 안에 @를 붙이는게 가독성이 없다.\n\n- 올바른 코드3 (assign) —-&gt; 실패\n\ndf = pd.DataFrame({'A':range(0,5),'B':range(1,6)})\ndf.assign(C=(df.A+df.B)/2)\n\n\n\n\n\n\n\n\nA\nB\nC\n\n\n\n\n0\n0\n1\n0.5\n\n\n1\n1\n2\n1.5\n\n\n2\n2\n3\n2.5\n\n\n3\n3\n4\n3.5\n\n\n4\n4\n5\n4.5\n\n\n\n\n\n\n\n\ndf.assign(C=(df.A+df.B)/2).assign(D=(df.C-np.mean(df.C))/np.std(df.C))\n\nAttributeError: 'DataFrame' object has no attribute 'C'\n\n\n\n# df.C 하면 나오는 오류와 동일한 오류가 위처럼 나타난다.\n\n\ndf.assign(C=(df.A+df.B)/2)\n\n\n\n\n\n\n\n\nA\nB\nC\n\n\n\n\n0\n0\n1\n0.5\n\n\n1\n1\n2\n1.5\n\n\n2\n2\n3\n2.5\n\n\n3\n3\n4\n3.5\n\n\n4\n4\n5\n4.5\n\n\n\n\n\n\n\n아래와 같이 고쳐야함\n\n_df = df.assign(C=(df.A+df.B)/2)\n_df.assign(D=(_df.C-np.mean(_df.C))/np.std(_df.C))\n\n\n\n\n\n\n\n\nA\nB\nC\nD\n\n\n\n\n0\n0\n1\n0.5\n-1.414214\n\n\n1\n1\n2\n1.5\n-0.707107\n\n\n2\n2\n3\n2.5\n0.000000\n\n\n3\n3\n4\n3.5\n0.707107\n\n\n4\n4\n5\n4.5\n1.414214"
  },
  {
    "objectID": "posts/DV_8(1024).html#해결책2-assign",
    "href": "posts/DV_8(1024).html#해결책2-assign",
    "title": "DV 8주차",
    "section": "해결책2 (assign)",
    "text": "해결책2 (assign)\n실패한 코드\n\ndf.assign(C=(df.A+df.B)/2).assign(D=(df.C-np.mean(df.C))/np.std(df.C))\n\nAttributeError: 'DataFrame' object has no attribute 'C'\n\n\n두번째 assign에서 표현된 df.C에서 df current df ( = df.assign(C=(df.A+df.B)/2) 까지 연산된 상태) 를 의미하도록 만들고 싶다. \\(\\to\\) 아래와 같이 lambda df: 를 추가하면 된다.\n\ndf.assign(C=(df.A+df.B)/2).assign(D= lambda df: (df.C-np.mean(df.C))/np.std(df.C))\n\n\n\n\n\n\n\n\nA\nB\nC\nD\n\n\n\n\n0\n0\n1\n0.5\n-1.414214\n\n\n1\n1\n2\n1.5\n-0.707107\n\n\n2\n2\n3\n2.5\n0.000000\n\n\n3\n3\n4\n3.5\n0.707107\n\n\n4\n4\n5\n4.5\n1.414214\n\n\n\n\n\n\n\n- 연쇄할당\n\ndf.assign(C= (df.A+df.B)/2).assign(D= lambda df:df.C+2).assign(E = lambda df: df.D - 2)\n\n\n\n\n\n\n\n\nA\nB\nC\nD\nE\n\n\n\n\n0\n0\n1\n0.5\n2.5\n0.5\n\n\n1\n1\n2\n1.5\n3.5\n1.5\n\n\n2\n2\n3\n2.5\n4.5\n2.5\n\n\n3\n3\n4\n3.5\n5.5\n3.5\n\n\n4\n4\n5\n4.5\n6.5\n4.5"
  },
  {
    "objectID": "posts/DV_8(1024).html#fifa23-data",
    "href": "posts/DV_8(1024).html#fifa23-data",
    "title": "DV 8주차",
    "section": "FIFA23 DATA",
    "text": "FIFA23 DATA\n- FIFA23 라는 축구게임이 있음\n- 선수들의 능력치에 대한 데이터셋은 캐글에 공개 되어 있다.\nhttps://www.kaggle.com/datasets/bryanb/fifa-player-stats-database?select=FIFA23_official_data.csv"
  },
  {
    "objectID": "posts/DV_8(1024).html#데이터-살펴보기",
    "href": "posts/DV_8(1024).html#데이터-살펴보기",
    "title": "DV 8주차",
    "section": "데이터 살펴보기",
    "text": "데이터 살펴보기\n\ndf=pd.read_csv('https://raw.githubusercontent.com/guebin/DV2022/main/posts/FIFA23_official_data.csv')\ndf.head()\n\n\n\n\n\n\n\n\nID\nName\nAge\nPhoto\nNationality\nFlag\nOverall\nPotential\nClub\nClub Logo\n...\nReal Face\nPosition\nJoined\nLoaned From\nContract Valid Until\nHeight\nWeight\nRelease Clause\nKit Number\nBest Overall Rating\n\n\n\n\n0\n209658\nL. Goretzka\n27\nhttps://cdn.sofifa.net/players/209/658/23_60.png\nGermany\nhttps://cdn.sofifa.net/flags/de.png\n87\n88\nFC Bayern München\nhttps://cdn.sofifa.net/teams/21/30.png\n...\nYes\n&lt;span class=\"pos pos28\"&gt;SUB\nJul 1, 2018\nNaN\n2026\n189cm\n82kg\n€157M\n8.0\nNaN\n\n\n1\n212198\nBruno Fernandes\n27\nhttps://cdn.sofifa.net/players/212/198/23_60.png\nPortugal\nhttps://cdn.sofifa.net/flags/pt.png\n86\n87\nManchester United\nhttps://cdn.sofifa.net/teams/11/30.png\n...\nYes\n&lt;span class=\"pos pos15\"&gt;LCM\nJan 30, 2020\nNaN\n2026\n179cm\n69kg\n€155M\n8.0\nNaN\n\n\n2\n224334\nM. Acuña\n30\nhttps://cdn.sofifa.net/players/224/334/23_60.png\nArgentina\nhttps://cdn.sofifa.net/flags/ar.png\n85\n85\nSevilla FC\nhttps://cdn.sofifa.net/teams/481/30.png\n...\nNo\n&lt;span class=\"pos pos7\"&gt;LB\nSep 14, 2020\nNaN\n2024\n172cm\n69kg\n€97.7M\n19.0\nNaN\n\n\n3\n192985\nK. De Bruyne\n31\nhttps://cdn.sofifa.net/players/192/985/23_60.png\nBelgium\nhttps://cdn.sofifa.net/flags/be.png\n91\n91\nManchester City\nhttps://cdn.sofifa.net/teams/10/30.png\n...\nYes\n&lt;span class=\"pos pos13\"&gt;RCM\nAug 30, 2015\nNaN\n2025\n181cm\n70kg\n€198.9M\n17.0\nNaN\n\n\n4\n224232\nN. Barella\n25\nhttps://cdn.sofifa.net/players/224/232/23_60.png\nItaly\nhttps://cdn.sofifa.net/flags/it.png\n86\n89\nInter\nhttps://cdn.sofifa.net/teams/44/30.png\n...\nYes\n&lt;span class=\"pos pos13\"&gt;RCM\nSep 1, 2020\nNaN\n2026\n172cm\n68kg\n€154.4M\n23.0\nNaN\n\n\n\n\n5 rows × 29 columns\n\n\n\n트랜스포즈하여 보는 것이 편할 때도 있다\n\ndf.T\n\n\n\n\n\n\n\n\n0\n1\n2\n3\n4\n5\n6\n7\n8\n9\n...\n17650\n17651\n17652\n17653\n17654\n17655\n17656\n17657\n17658\n17659\n\n\n\n\nID\n209658\n212198\n224334\n192985\n224232\n212622\n197445\n187961\n208333\n210514\n...\n256879\n269546\n267647\n253186\n267461\n269526\n267946\n270567\n256624\n256376\n\n\nName\nL. Goretzka\nBruno Fernandes\nM. Acuña\nK. De Bruyne\nN. Barella\nJ. Kimmich\nD. Alaba\n22 Paulinho\nE. Can\nJoão Cancelo\n...\n22 G. Leijon\nWu Fei\n22 E. Grosz\n22 S. Booth\n22 L. Grimpe\nDeng Xiongtao\n22 Lim Jun Sub\nA. Demir\n21 S. Czajor\n21 F. Jakobsson\n\n\nAge\n27\n27\n30\n31\n25\n27\n30\n32\n28\n28\n...\n19\n32\n18\n20\n17\n19\n17\n25\n18\n20\n\n\nPhoto\nhttps://cdn.sofifa.net/players/209/658/23_60.png\nhttps://cdn.sofifa.net/players/212/198/23_60.png\nhttps://cdn.sofifa.net/players/224/334/23_60.png\nhttps://cdn.sofifa.net/players/192/985/23_60.png\nhttps://cdn.sofifa.net/players/224/232/23_60.png\nhttps://cdn.sofifa.net/players/212/622/23_60.png\nhttps://cdn.sofifa.net/players/197/445/23_60.png\nhttps://cdn.sofifa.net/players/187/961/22_60.png\nhttps://cdn.sofifa.net/players/208/333/23_60.png\nhttps://cdn.sofifa.net/players/210/514/23_60.png\n...\nhttps://cdn.sofifa.net/players/256/879/22_60.png\nhttps://cdn.sofifa.net/players/269/546/23_60.png\nhttps://cdn.sofifa.net/players/267/647/22_60.png\nhttps://cdn.sofifa.net/players/253/186/22_60.png\nhttps://cdn.sofifa.net/players/267/461/22_60.png\nhttps://cdn.sofifa.net/players/269/526/23_60.png\nhttps://cdn.sofifa.net/players/267/946/22_60.png\nhttps://cdn.sofifa.net/players/270/567/23_60.png\nhttps://cdn.sofifa.net/players/256/624/21_60.png\nhttps://cdn.sofifa.net/players/256/376/21_60.png\n\n\nNationality\nGermany\nPortugal\nArgentina\nBelgium\nItaly\nGermany\nAustria\nBrazil\nGermany\nPortugal\n...\nSweden\nChina PR\nRomania\nEngland\nGermany\nChina PR\nKorea Republic\nTurkey\nPoland\nSweden\n\n\nFlag\nhttps://cdn.sofifa.net/flags/de.png\nhttps://cdn.sofifa.net/flags/pt.png\nhttps://cdn.sofifa.net/flags/ar.png\nhttps://cdn.sofifa.net/flags/be.png\nhttps://cdn.sofifa.net/flags/it.png\nhttps://cdn.sofifa.net/flags/de.png\nhttps://cdn.sofifa.net/flags/at.png\nhttps://cdn.sofifa.net/flags/br.png\nhttps://cdn.sofifa.net/flags/de.png\nhttps://cdn.sofifa.net/flags/pt.png\n...\nhttps://cdn.sofifa.net/flags/se.png\nhttps://cdn.sofifa.net/flags/cn.png\nhttps://cdn.sofifa.net/flags/ro.png\nhttps://cdn.sofifa.net/flags/gb-eng.png\nhttps://cdn.sofifa.net/flags/de.png\nhttps://cdn.sofifa.net/flags/cn.png\nhttps://cdn.sofifa.net/flags/kr.png\nhttps://cdn.sofifa.net/flags/tr.png\nhttps://cdn.sofifa.net/flags/pl.png\nhttps://cdn.sofifa.net/flags/se.png\n\n\nOverall\n87\n86\n85\n91\n86\n89\n86\n83\n82\n88\n...\n52\n51\n52\n51\n54\n48\n48\n51\n50\n50\n\n\nPotential\n88\n87\n85\n91\n89\n90\n86\n83\n82\n88\n...\n62\n51\n70\n60\n68\n61\n64\n56\n65\n61\n\n\nClub\nFC Bayern München\nManchester United\nSevilla FC\nManchester City\nInter\nFC Bayern München\nReal Madrid CF\nAl Ahli\nBorussia Dortmund\nManchester City\n...\nÖrebro SK\nWuhan Three Towns\nGaz Metan Mediaş\nCrewe Alexandra\nRB Leipzig\nMeizhou Hakka\nJeju United FC\nÜmraniyespor\nFleetwood Town\nIFK Norrköping\n\n\nClub Logo\nhttps://cdn.sofifa.net/teams/21/30.png\nhttps://cdn.sofifa.net/teams/11/30.png\nhttps://cdn.sofifa.net/teams/481/30.png\nhttps://cdn.sofifa.net/teams/10/30.png\nhttps://cdn.sofifa.net/teams/44/30.png\nhttps://cdn.sofifa.net/teams/21/30.png\nhttps://cdn.sofifa.net/teams/243/30.png\nhttps://cdn.sofifa.net/teams/112387/30.png\nhttps://cdn.sofifa.net/teams/22/30.png\nhttps://cdn.sofifa.net/teams/10/30.png\n...\nhttps://cdn.sofifa.net/teams/705/30.png\nhttps://cdn.sofifa.net/teams/116361/30.png\nhttps://cdn.sofifa.net/teams/112637/30.png\nhttps://cdn.sofifa.net/teams/121/30.png\nhttps://cdn.sofifa.net/teams/112172/30.png\nhttps://cdn.sofifa.net/teams/114628/30.png\nhttps://cdn.sofifa.net/teams/1478/30.png\nhttps://cdn.sofifa.net/teams/113796/30.png\nhttps://cdn.sofifa.net/teams/112260/30.png\nhttps://cdn.sofifa.net/teams/702/30.png\n\n\nValue\n€91M\n€78.5M\n€46.5M\n€107.5M\n€89.5M\n€105.5M\n€55.5M\n€28.5M\n€30.5M\n€82.5M\n...\n€150K\n€30K\n€180K\n€110K\n€210K\n€100K\n€100K\n€70K\n€90K\n€90K\n\n\nWage\n€115K\n€190K\n€46K\n€350K\n€110K\n€130K\n€220K\n€61K\n€63K\n€250K\n...\n€500\n€2K\n€500\n€850\n€500\n€500\n€500\n€2K\n€500\n€500\n\n\nSpecial\n2312\n2305\n2303\n2303\n2296\n2283\n2277\n2273\n2271\n2262\n...\n779\n777\n775\n768\n767\n762\n761\n759\n758\n749\n\n\nPreferred Foot\nRight\nRight\nLeft\nRight\nRight\nRight\nLeft\nRight\nRight\nRight\n...\nRight\nRight\nRight\nRight\nRight\nRight\nRight\nRight\nRight\nLeft\n\n\nInternational Reputation\n4.0\n3.0\n2.0\n4.0\n3.0\n4.0\n4.0\n3.0\n3.0\n3.0\n...\n1.0\n1.0\n1.0\n1.0\n1.0\n1.0\n1.0\n1.0\n1.0\n1.0\n\n\nWeak Foot\n4.0\n3.0\n3.0\n5.0\n3.0\n4.0\n4.0\n4.0\n4.0\n4.0\n...\n3.0\n2.0\n2.0\n2.0\n3.0\n3.0\n2.0\n2.0\n2.0\n2.0\n\n\nSkill Moves\n3.0\n4.0\n3.0\n4.0\n3.0\n3.0\n3.0\n4.0\n3.0\n4.0\n...\n1.0\n1.0\n1.0\n1.0\n1.0\n1.0\n1.0\n1.0\n1.0\n1.0\n\n\nWork Rate\nHigh/ Medium\nHigh/ High\nHigh/ High\nHigh/ High\nHigh/ High\nHigh/ Medium\nMedium/ Medium\nHigh/ High\nMedium/ High\nHigh/ Medium\n...\nMedium/ Medium\nMedium/ Medium\nMedium/ Medium\nMedium/ Medium\nMedium/ Medium\nMedium/ Medium\nMedium/ Medium\nMedium/ Medium\nMedium/ Medium\nMedium/ Medium\n\n\nBody Type\nUnique\nUnique\nStocky (170-185)\nUnique\nNormal (170-)\nNormal (170-185)\nNormal (170-185)\nNormal (170-185)\nStocky (185+)\nUnique\n...\nNormal (185+)\nNormal (185+)\nLean (185+)\nLean (185+)\nLean (185+)\nNormal (185+)\nLean (185+)\nLean (185+)\nNormal (185+)\nNormal (185+)\n\n\nReal Face\nYes\nYes\nNo\nYes\nYes\nYes\nYes\nYes\nYes\nYes\n...\nNo\nNo\nNo\nNo\nNo\nNo\nNo\nNo\nNo\nNo\n\n\nPosition\n&lt;span class=\"pos pos28\"&gt;SUB\n&lt;span class=\"pos pos15\"&gt;LCM\n&lt;span class=\"pos pos7\"&gt;LB\n&lt;span class=\"pos pos13\"&gt;RCM\n&lt;span class=\"pos pos13\"&gt;RCM\n&lt;span class=\"pos pos9\"&gt;RDM\n&lt;span class=\"pos pos6\"&gt;LCB\n&lt;span class=\"pos pos15\"&gt;LCM\n&lt;span class=\"pos pos28\"&gt;SUB\n&lt;span class=\"pos pos7\"&gt;LB\n...\n&lt;span class=\"pos pos28\"&gt;SUB\n&lt;span class=\"pos pos28\"&gt;SUB\n&lt;span class=\"pos pos28\"&gt;SUB\n&lt;span class=\"pos pos29\"&gt;RES\n&lt;span class=\"pos pos29\"&gt;RES\n&lt;span class=\"pos pos29\"&gt;RES\n&lt;span class=\"pos pos29\"&gt;RES\n&lt;span class=\"pos pos29\"&gt;RES\n&lt;span class=\"pos pos29\"&gt;RES\n&lt;span class=\"pos pos29\"&gt;RES\n\n\nJoined\nJul 1, 2018\nJan 30, 2020\nSep 14, 2020\nAug 30, 2015\nSep 1, 2020\nJul 1, 2015\nJul 1, 2021\nJul 22, 2021\nFeb 18, 2020\nAug 7, 2019\n...\nJun 14, 2020\nFeb 15, 2019\nJul 1, 2020\nJul 1, 2019\nFeb 7, 2022\nApr 11, 2022\nJan 1, 2022\nJun 6, 2021\nJan 1, 2020\nJan 8, 2020\n\n\nLoaned From\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n...\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\nContract Valid Until\n2026\n2026\n2024\n2025\n2026\n2025\n2026\n2024\n2024\n2027\n...\n2022\n2022\n2022\n2022\n2023\n2027\n2026\n2023\n2021\n2021\n\n\nHeight\n189cm\n179cm\n172cm\n181cm\n172cm\n177cm\n180cm\n183cm\n186cm\n182cm\n...\n188cm\n186cm\n190cm\n195cm\n186cm\n190cm\n195cm\n190cm\n187cm\n186cm\n\n\nWeight\n82kg\n69kg\n69kg\n70kg\n68kg\n75kg\n78kg\n80kg\n86kg\n74kg\n...\n81kg\n78kg\n70kg\n80kg\n78kg\n78kg\n84kg\n82kg\n79kg\n78kg\n\n\nRelease Clause\n€157M\n€155M\n€97.7M\n€198.9M\n€154.4M\n€182M\n€113.8M\n€48.5M\n€51.9M\n€152.6M\n...\n€218K\n€47K\n€356K\n€215K\n€488K\n€218K\n€188K\n€142K\n€214K\n€131K\n\n\nKit Number\n8.0\n8.0\n19.0\n17.0\n23.0\n6.0\n4.0\n15.0\n23.0\n7.0\n...\n33.0\n1.0\n99.0\n27.0\n43.0\n35.0\n21.0\n12.0\n40.0\n30.0\n\n\nBest Overall Rating\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n...\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n\n\n29 rows × 17660 columns\n\n\n\n\ncolumns 조사\n\ndf.keys()\n\nIndex(['ID', 'Name', 'Age', 'Photo', 'Nationality', 'Flag', 'Overall',\n       'Potential', 'Club', 'Club Logo', 'Value', 'Wage', 'Special',\n       'Preferred Foot', 'International Reputation', 'Weak Foot',\n       'Skill Moves', 'Work Rate', 'Body Type', 'Real Face', 'Position',\n       'Joined', 'Loaned From', 'Contract Valid Until', 'Height', 'Weight',\n       'Release Clause', 'Kit Number', 'Best Overall Rating'],\n      dtype='object')\n\n\n\ndf.Body Type\n\nSyntaxError: invalid syntax (&lt;ipython-input-29-8965601661e6&gt;, line 1)\n\n\n띄어쓰기가 되어있어서 흠..\n\n\n각 column별로 자료형 조사\n\ndf['ID'].dtype\n\n\nfor key in df.keys():\n    print(df[key].dtype)\n\n\ndtypes = [df[key].dtype for key in df.keys()]\npd.DataFrame({'colname':df.keys(), 'dtype':dtypes})\n\n\n\n결측치 조사\n\n[df[key].isna().sum() for key in df.keys()]\n\n\npd.DataFrame({'colname':df.keys(), \n              'dtype':[df[key].dtype for key in df.keys()], \n              'na':[df[key].isna().sum() for key in df.keys()]})\n\n\n\n\n\n\n\n\ncolname\ndtype\nna\n\n\n\n\n0\nID\nint64\n0\n\n\n1\nName\nobject\n0\n\n\n2\nAge\nint64\n0\n\n\n3\nPhoto\nobject\n0\n\n\n4\nNationality\nobject\n0\n\n\n5\nFlag\nobject\n0\n\n\n6\nOverall\nint64\n0\n\n\n7\nPotential\nint64\n0\n\n\n8\nClub\nobject\n211\n\n\n9\nClub Logo\nobject\n0\n\n\n10\nValue\nobject\n0\n\n\n11\nWage\nobject\n0\n\n\n12\nSpecial\nint64\n0\n\n\n13\nPreferred Foot\nobject\n0\n\n\n14\nInternational Reputation\nfloat64\n0\n\n\n15\nWeak Foot\nfloat64\n0\n\n\n16\nSkill Moves\nfloat64\n0\n\n\n17\nWork Rate\nobject\n0\n\n\n18\nBody Type\nobject\n38\n\n\n19\nReal Face\nobject\n38\n\n\n20\nPosition\nobject\n35\n\n\n21\nJoined\nobject\n1098\n\n\n22\nLoaned From\nobject\n16966\n\n\n23\nContract Valid Until\nobject\n361\n\n\n24\nHeight\nobject\n0\n\n\n25\nWeight\nobject\n0\n\n\n26\nRelease Clause\nobject\n1151\n\n\n27\nKit Number\nfloat64\n35\n\n\n28\nBest Overall Rating\nobject\n17639\n\n\n\n\n\n\n\n\n열의선택: 결측치가 10000개 이상인 열을 보고싶다면?\n\n\ndf.loc[:,[df[key].isna().sum()&gt;10000 for key in df.keys()]]\n\n\n\n\n\n\n\n\nLoaned From\nBest Overall Rating\n\n\n\n\n0\nNaN\nNaN\n\n\n1\nNaN\nNaN\n\n\n2\nNaN\nNaN\n\n\n3\nNaN\nNaN\n\n\n4\nNaN\nNaN\n\n\n...\n...\n...\n\n\n17655\nNaN\nNaN\n\n\n17656\nNaN\nNaN\n\n\n17657\nNaN\nNaN\n\n\n17658\nNaN\nNaN\n\n\n17659\nNaN\nNaN\n\n\n\n\n17660 rows × 2 columns\n\n\n\n\n\n.info()\n\ndf.info()\n\n&lt;class 'pandas.core.frame.DataFrame'&gt;\nRangeIndex: 17660 entries, 0 to 17659\nData columns (total 29 columns):\n #   Column                    Non-Null Count  Dtype  \n---  ------                    --------------  -----  \n 0   ID                        17660 non-null  int64  \n 1   Name                      17660 non-null  object \n 2   Age                       17660 non-null  int64  \n 3   Photo                     17660 non-null  object \n 4   Nationality               17660 non-null  object \n 5   Flag                      17660 non-null  object \n 6   Overall                   17660 non-null  int64  \n 7   Potential                 17660 non-null  int64  \n 8   Club                      17449 non-null  object \n 9   Club Logo                 17660 non-null  object \n 10  Value                     17660 non-null  object \n 11  Wage                      17660 non-null  object \n 12  Special                   17660 non-null  int64  \n 13  Preferred Foot            17660 non-null  object \n 14  International Reputation  17660 non-null  float64\n 15  Weak Foot                 17660 non-null  float64\n 16  Skill Moves               17660 non-null  float64\n 17  Work Rate                 17660 non-null  object \n 18  Body Type                 17622 non-null  object \n 19  Real Face                 17622 non-null  object \n 20  Position                  17625 non-null  object \n 21  Joined                    16562 non-null  object \n 22  Loaned From               694 non-null    object \n 23  Contract Valid Until      17299 non-null  object \n 24  Height                    17660 non-null  object \n 25  Weight                    17660 non-null  object \n 26  Release Clause            16509 non-null  object \n 27  Kit Number                17625 non-null  float64\n 28  Best Overall Rating       21 non-null     object \ndtypes: float64(4), int64(5), object(20)\nmemory usage: 3.9+ MB\n\n\n### .describe()\n숫자들이 저장된 column에 대하여 기본통계량 조사\n\ndf.describe()\n\n\n\n\n\n\n\n\nID\nAge\nOverall\nPotential\nSpecial\nInternational Reputation\nWeak Foot\nSkill Moves\nKit Number\n\n\n\n\ncount\n17660.000000\n17660.000000\n17660.000000\n17660.000000\n17660.000000\n17660.000000\n17660.000000\n17660.000000\n17625.000000\n\n\nmean\n246319.424462\n23.127746\n63.369592\n70.981200\n1537.915855\n1.106285\n2.900340\n2.297169\n25.037957\n\n\nstd\n31487.892861\n4.639821\n8.036268\n6.529836\n285.893809\n0.407021\n0.663523\n0.754264\n19.154116\n\n\nmin\n16.000000\n15.000000\n43.000000\n42.000000\n749.000000\n1.000000\n1.000000\n1.000000\n1.000000\n\n\n25%\n240732.500000\n20.000000\n58.000000\n67.000000\n1387.000000\n1.000000\n3.000000\n2.000000\n11.000000\n\n\n50%\n257041.000000\n22.000000\n63.000000\n71.000000\n1548.000000\n1.000000\n3.000000\n2.000000\n22.000000\n\n\n75%\n263027.500000\n26.000000\n69.000000\n75.000000\n1727.000000\n1.000000\n3.000000\n3.000000\n32.000000\n\n\nmax\n271340.000000\n54.000000\n91.000000\n95.000000\n2312.000000\n5.000000\n5.000000\n5.000000\n99.000000\n\n\n\n\n\n\n\n- pandas_profiling.ProfileReport()를 이용한 전체적인 조사\n\npandas_profiling.ProfileReport(df).to_file('fifa2023_reprot.html')\n\n\n\n\n/home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages/pandas_profiling/model/correlations.py:73: UserWarning: There was an attempt to calculate the auto correlation, but this failed.\nTo hide this warning, disable the calculation\n(using `df.profile_report(correlations={\"auto\": {\"calculate\": False}})`\nIf this is problematic for your use case, please report this as an issue:\nhttps://github.com/ydataai/pandas-profiling/issues\n(include the error message: 'No data; `observed` has size 0.')\n\n\n\n\n\n\n\n\n\n\n\n\n\n특정열을 중심으로 정렬하여 보기\n\ndf.sort_values(by='Overall', ascending=False) \n# ascending=False  # 내림차순\n\n\n\n\n\n\n\n\nID\nName\nAge\nPhoto\nNationality\nFlag\nOverall\nPotential\nClub\nClub Logo\n...\nReal Face\nPosition\nJoined\nLoaned From\nContract Valid Until\nHeight\nWeight\nRelease Clause\nKit Number\nBest Overall Rating\n\n\n\n\n41\n188545\nR. Lewandowski\n33\nhttps://cdn.sofifa.net/players/188/545/23_60.png\nPoland\nhttps://cdn.sofifa.net/flags/pl.png\n91\n91\nFC Barcelona\nhttps://cdn.sofifa.net/teams/241/30.png\n...\nYes\n&lt;span class=\"pos pos25\"&gt;ST\nJul 18, 2022\nNaN\n2025\n185cm\n81kg\n€172.2M\n9.0\nNaN\n\n\n124\n165153\nK. Benzema\n34\nhttps://cdn.sofifa.net/players/165/153/23_60.png\nFrance\nhttps://cdn.sofifa.net/flags/fr.png\n91\n91\nReal Madrid CF\nhttps://cdn.sofifa.net/teams/243/30.png\n...\nYes\n&lt;span class=\"pos pos21\"&gt;CF\nJul 9, 2009\nNaN\n2023\n185cm\n81kg\n€131.2M\n9.0\nNaN\n\n\n3\n192985\nK. De Bruyne\n31\nhttps://cdn.sofifa.net/players/192/985/23_60.png\nBelgium\nhttps://cdn.sofifa.net/flags/be.png\n91\n91\nManchester City\nhttps://cdn.sofifa.net/teams/10/30.png\n...\nYes\n&lt;span class=\"pos pos13\"&gt;RCM\nAug 30, 2015\nNaN\n2025\n181cm\n70kg\n€198.9M\n17.0\nNaN\n\n\n56\n158023\nL. Messi\n35\nhttps://cdn.sofifa.net/players/158/023/23_60.png\nArgentina\nhttps://cdn.sofifa.net/flags/ar.png\n91\n91\nParis Saint-Germain\nhttps://cdn.sofifa.net/teams/73/30.png\n...\nYes\n&lt;span class=\"pos pos23\"&gt;RW\nAug 10, 2021\nNaN\n2023\n169cm\n67kg\n€99.9M\n30.0\nNaN\n\n\n75\n231747\nK. Mbappé\n23\nhttps://cdn.sofifa.net/players/231/747/23_60.png\nFrance\nhttps://cdn.sofifa.net/flags/fr.png\n91\n95\nParis Saint-Germain\nhttps://cdn.sofifa.net/teams/73/30.png\n...\nYes\n&lt;span class=\"pos pos25\"&gt;ST\nJul 1, 2018\nNaN\n2025\n182cm\n73kg\n€366.7M\n7.0\nNaN\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n15513\n266751\n22 Jung Ho Yeon\n20\nhttps://cdn.sofifa.net/players/266/751/22_60.png\nKorea Republic\nhttps://cdn.sofifa.net/flags/kr.png\n45\n53\nGwangJu FC\nhttps://cdn.sofifa.net/teams/112258/30.png\n...\nNo\n&lt;span class=\"pos pos29\"&gt;RES\nJan 20, 2022\nNaN\n2026\n180cm\n73kg\n€145K\n23.0\nNaN\n\n\n16215\n268279\n22 J. Looschen\n24\nhttps://cdn.sofifa.net/players/268/279/22_60.png\nGermany\nhttps://cdn.sofifa.net/flags/de.png\n44\n47\nSV Meppen\nhttps://cdn.sofifa.net/teams/110597/30.png\n...\nNo\n&lt;span class=\"pos pos29\"&gt;RES\nMar 19, 2022\nNaN\n2026\n178cm\n78kg\n€92K\n42.0\nNaN\n\n\n16042\n255283\n20 Kim Yeong Geun\n22\nhttps://cdn.sofifa.net/players/255/283/20_60.png\nKorea Republic\nhttps://cdn.sofifa.net/flags/kr.png\n44\n49\nGyeongnam FC\nhttps://cdn.sofifa.net/teams/111588/30.png\n...\nNo\n&lt;span class=\"pos pos29\"&gt;RES\nJan 9, 2020\nNaN\n2020\n174cm\n71kg\n€53K\n43.0\nNaN\n\n\n14634\n269038\n22 Zhang Wenxuan\n16\nhttps://cdn.sofifa.net/players/269/038/22_60.png\nChina PR\nhttps://cdn.sofifa.net/flags/cn.png\n44\n59\nGuangzhou FC\nhttps://cdn.sofifa.net/teams/111839/30.png\n...\nNo\n&lt;span class=\"pos pos29\"&gt;RES\nMay 1, 2022\nNaN\n2022\n175cm\n70kg\n€239K\n29.0\nNaN\n\n\n17618\n168933\n07 I. Paskov\n33\nhttps://cdn.sofifa.net/players/168/933/07_60.png\nBulgaria\nhttps://cdn.sofifa.net/flags/bg.png\n43\n42\nNaN\nhttps://cdn.sofifa.net/flags/bg.png\n...\nNaN\n&lt;span class=\"pos pos28\"&gt;SUB\nNaN\nNaN\nNaN\n184cm\n79kg\nNaN\n24.0\nNaN\n\n\n\n\n17660 rows × 29 columns\n\n\n\n\ndf.sort_values(by='Overall', ascending=False,ignore_index=True)\n# df.sort_values(by='Overall', ascending=False).reset_index() 와 같음\n# 맨 왼쪽 인덱스 순서 정렬\n\n\n\n\n\n\n\n\nID\nName\nAge\nPhoto\nNationality\nFlag\nOverall\nPotential\nClub\nClub Logo\n...\nReal Face\nPosition\nJoined\nLoaned From\nContract Valid Until\nHeight\nWeight\nRelease Clause\nKit Number\nBest Overall Rating\n\n\n\n\n0\n188545\nR. Lewandowski\n33\nhttps://cdn.sofifa.net/players/188/545/23_60.png\nPoland\nhttps://cdn.sofifa.net/flags/pl.png\n91\n91\nFC Barcelona\nhttps://cdn.sofifa.net/teams/241/30.png\n...\nYes\n&lt;span class=\"pos pos25\"&gt;ST\nJul 18, 2022\nNaN\n2025\n185cm\n81kg\n€172.2M\n9.0\nNaN\n\n\n1\n165153\nK. Benzema\n34\nhttps://cdn.sofifa.net/players/165/153/23_60.png\nFrance\nhttps://cdn.sofifa.net/flags/fr.png\n91\n91\nReal Madrid CF\nhttps://cdn.sofifa.net/teams/243/30.png\n...\nYes\n&lt;span class=\"pos pos21\"&gt;CF\nJul 9, 2009\nNaN\n2023\n185cm\n81kg\n€131.2M\n9.0\nNaN\n\n\n2\n192985\nK. De Bruyne\n31\nhttps://cdn.sofifa.net/players/192/985/23_60.png\nBelgium\nhttps://cdn.sofifa.net/flags/be.png\n91\n91\nManchester City\nhttps://cdn.sofifa.net/teams/10/30.png\n...\nYes\n&lt;span class=\"pos pos13\"&gt;RCM\nAug 30, 2015\nNaN\n2025\n181cm\n70kg\n€198.9M\n17.0\nNaN\n\n\n3\n158023\nL. Messi\n35\nhttps://cdn.sofifa.net/players/158/023/23_60.png\nArgentina\nhttps://cdn.sofifa.net/flags/ar.png\n91\n91\nParis Saint-Germain\nhttps://cdn.sofifa.net/teams/73/30.png\n...\nYes\n&lt;span class=\"pos pos23\"&gt;RW\nAug 10, 2021\nNaN\n2023\n169cm\n67kg\n€99.9M\n30.0\nNaN\n\n\n4\n231747\nK. Mbappé\n23\nhttps://cdn.sofifa.net/players/231/747/23_60.png\nFrance\nhttps://cdn.sofifa.net/flags/fr.png\n91\n95\nParis Saint-Germain\nhttps://cdn.sofifa.net/teams/73/30.png\n...\nYes\n&lt;span class=\"pos pos25\"&gt;ST\nJul 1, 2018\nNaN\n2025\n182cm\n73kg\n€366.7M\n7.0\nNaN\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n17655\n266751\n22 Jung Ho Yeon\n20\nhttps://cdn.sofifa.net/players/266/751/22_60.png\nKorea Republic\nhttps://cdn.sofifa.net/flags/kr.png\n45\n53\nGwangJu FC\nhttps://cdn.sofifa.net/teams/112258/30.png\n...\nNo\n&lt;span class=\"pos pos29\"&gt;RES\nJan 20, 2022\nNaN\n2026\n180cm\n73kg\n€145K\n23.0\nNaN\n\n\n17656\n268279\n22 J. Looschen\n24\nhttps://cdn.sofifa.net/players/268/279/22_60.png\nGermany\nhttps://cdn.sofifa.net/flags/de.png\n44\n47\nSV Meppen\nhttps://cdn.sofifa.net/teams/110597/30.png\n...\nNo\n&lt;span class=\"pos pos29\"&gt;RES\nMar 19, 2022\nNaN\n2026\n178cm\n78kg\n€92K\n42.0\nNaN\n\n\n17657\n255283\n20 Kim Yeong Geun\n22\nhttps://cdn.sofifa.net/players/255/283/20_60.png\nKorea Republic\nhttps://cdn.sofifa.net/flags/kr.png\n44\n49\nGyeongnam FC\nhttps://cdn.sofifa.net/teams/111588/30.png\n...\nNo\n&lt;span class=\"pos pos29\"&gt;RES\nJan 9, 2020\nNaN\n2020\n174cm\n71kg\n€53K\n43.0\nNaN\n\n\n17658\n269038\n22 Zhang Wenxuan\n16\nhttps://cdn.sofifa.net/players/269/038/22_60.png\nChina PR\nhttps://cdn.sofifa.net/flags/cn.png\n44\n59\nGuangzhou FC\nhttps://cdn.sofifa.net/teams/111839/30.png\n...\nNo\n&lt;span class=\"pos pos29\"&gt;RES\nMay 1, 2022\nNaN\n2022\n175cm\n70kg\n€239K\n29.0\nNaN\n\n\n17659\n168933\n07 I. Paskov\n33\nhttps://cdn.sofifa.net/players/168/933/07_60.png\nBulgaria\nhttps://cdn.sofifa.net/flags/bg.png\n43\n42\nNaN\nhttps://cdn.sofifa.net/flags/bg.png\n...\nNaN\n&lt;span class=\"pos pos28\"&gt;SUB\nNaN\nNaN\nNaN\n184cm\n79kg\nNaN\n24.0\nNaN\n\n\n\n\n17660 rows × 29 columns\n\n\n\n\n\n특정열을 중심으로 그룹화하여 보기(\\(\\star\\)): groupby\n\ndf.query('Nationality == \"Germany\"')['Overall'].mean()\n\n63.50481695568401\n\n\n\ndf.Nationality.unique()\n\narray(['Germany', 'Portugal', 'Argentina', 'Belgium', 'Italy', 'Austria',\n       'Brazil', 'Croatia', 'Serbia', 'Spain', 'Netherlands', 'France',\n       'Colombia', 'England', 'Uruguay', 'Morocco', 'Egypt', 'Algeria',\n       'Ukraine', 'United States', \"Côte d'Ivoire\", 'Poland', 'Chile',\n       'Senegal', 'Central African Republic', 'Denmark', 'Nigeria',\n       'Mexico', 'Turkey', 'Canada', 'Wales', 'Scotland', 'Romania',\n       'Czech Republic', 'Ghana', 'Korea Republic',\n       'Bosnia and Herzegovina', 'Mali', 'Slovakia', 'Armenia', 'Norway',\n       'Switzerland', 'Cameroon', 'Peru', 'Jamaica', 'Zambia', 'Guinea',\n       'Sweden', 'North Macedonia', 'Russia', 'Tunisia', 'Malta',\n       'Angola', 'Republic of Ireland', 'Ecuador', 'Benin', 'Paraguay',\n       'Montenegro', 'Australia', 'Comoros', 'Gabon', 'Iceland',\n       'Slovenia', 'Japan', 'Israel', 'China PR', 'Venezuela', 'Liberia',\n       'Greece', 'Bulgaria', 'Honduras', 'Saudi Arabia', 'Curacao',\n       'Northern Ireland', 'Guinea Bissau', 'Kosovo', 'Hungary',\n       'Finland', 'Costa Rica', 'Albania', 'Congo DR', 'Iran',\n       'Mozambique', 'Suriname', 'Cape Verde Islands', 'Bolivia',\n       'Madagascar', 'New Zealand', 'Burkina Faso', 'Dominican Republic',\n       'Kazakhstan', 'Syria', 'Luxembourg', 'Kenya', 'Zimbabwe', 'Haiti',\n       'Uzbekistan', 'South Africa', 'Cyprus', 'Qatar',\n       'Equatorial Guinea', 'Libya', 'Thailand', 'Togo',\n       'Trinidad and Tobago', 'Liechtenstein', 'Gambia', 'Georgia',\n       'Philippines', 'Burundi', 'United Arab Emirates', 'Grenada',\n       'Iraq', 'Panama', 'Malaysia', 'Moldova', 'Congo', 'India',\n       'Jordan', 'Kuwait', 'Antigua and Barbuda', 'Cuba', 'Vietnam',\n       'Korea DPR', 'Uganda', 'Lithuania', 'Estonia', 'Montserrat',\n       'Sierra Leone', 'Afghanistan', 'New Caledonia', 'Belarus', 'Laos',\n       'Saint Lucia', 'Bhutan', 'Guyana', 'Mauritania', 'Faroe Islands',\n       'Namibia', 'Niger', 'Palestine', 'Sudan', 'Azerbaijan',\n       'Hong Kong', 'Gibraltar', 'Tanzania', 'Latvia', 'Chinese Taipei',\n       'Singapore', 'Lebanon', 'El Salvador', 'Indonesia', 'Guatemala',\n       'Papua New Guinea', 'Puerto Rico', 'Malawi', 'South Sudan',\n       'Ethiopia', 'San Marino', 'Andorra', 'Saint Kitts and Nevis'],\n      dtype=object)\n\n\n\nlen(df.Nationality.unique())\n\n161\n\n\n\ndf.groupby(by='Nationality')[['Overall']].agg({np.mean,len}).sort_values(('Overall', 'mean'),ascending=False)\n\n\n\n\n\n\n\n\nOverall\n\n\n\nmean\nlen\n\n\nNationality\n\n\n\n\n\n\nPhilippines\n74.000000\n1\n\n\nNamibia\n72.000000\n1\n\n\nMozambique\n72.000000\n2\n\n\nKuwait\n71.000000\n1\n\n\nBrazil\n70.556586\n539\n\n\n...\n...\n...\n\n\nSan Marino\n53.000000\n1\n\n\nChina PR\n52.230769\n325\n\n\nSouth Sudan\n52.000000\n5\n\n\nIndia\n51.994681\n188\n\n\nSaint Kitts and Nevis\n51.000000\n1\n\n\n\n\n161 rows × 2 columns"
  },
  {
    "objectID": "posts/DV_8(1024).html#데이터-정리하기",
    "href": "posts/DV_8(1024).html#데이터-정리하기",
    "title": "DV 8주차",
    "section": "데이터 정리하기",
    "text": "데이터 정리하기\n\n칼럼이름 변경\n\ndf.columns\n\nIndex(['ID', 'Name', 'Age', 'Photo', 'Nationality', 'Flag', 'Overall',\n       'Potential', 'Club', 'Club Logo', 'Value', 'Wage', 'Special',\n       'Preferred Foot', 'International Reputation', 'Weak Foot',\n       'Skill Moves', 'Work Rate', 'Body Type', 'Real Face', 'Position',\n       'Joined', 'Loaned From', 'Contract Valid Until', 'Height', 'Weight',\n       'Release Clause', 'Kit Number', 'Best Overall Rating'],\n      dtype='object')\n\n\n\nlist(map(lambda x: x.replace(' ','_'), df.columns))\n\n['ID',\n 'Name',\n 'Age',\n 'Photo',\n 'Nationality',\n 'Flag',\n 'Overall',\n 'Potential',\n 'Club',\n 'Club_Logo',\n 'Value',\n 'Wage',\n 'Special',\n 'Preferred_Foot',\n 'International_Reputation',\n 'Weak_Foot',\n 'Skill_Moves',\n 'Work_Rate',\n 'Body_Type',\n 'Real_Face',\n 'Position',\n 'Joined',\n 'Loaned_From',\n 'Contract_Valid_Until',\n 'Height',\n 'Weight',\n 'Release_Clause',\n 'Kit_Number',\n 'Best_Overall_Rating']\n\n\n\ndf.set_axis(list(map(lambda x: x.replace(' ','_'), df.columns)), axis=1)\n\n\n\n\n\n\n\n\nID\nName\nAge\nPhoto\nNationality\nFlag\nOverall\nPotential\nClub\nClub_Logo\n...\nReal_Face\nPosition\nJoined\nLoaned_From\nContract_Valid_Until\nHeight\nWeight\nRelease_Clause\nKit_Number\nBest_Overall_Rating\n\n\n\n\n0\n209658\nL. Goretzka\n27\nhttps://cdn.sofifa.net/players/209/658/23_60.png\nGermany\nhttps://cdn.sofifa.net/flags/de.png\n87\n88\nFC Bayern München\nhttps://cdn.sofifa.net/teams/21/30.png\n...\nYes\n&lt;span class=\"pos pos28\"&gt;SUB\nJul 1, 2018\nNaN\n2026\n189cm\n82kg\n€157M\n8.0\nNaN\n\n\n1\n212198\nBruno Fernandes\n27\nhttps://cdn.sofifa.net/players/212/198/23_60.png\nPortugal\nhttps://cdn.sofifa.net/flags/pt.png\n86\n87\nManchester United\nhttps://cdn.sofifa.net/teams/11/30.png\n...\nYes\n&lt;span class=\"pos pos15\"&gt;LCM\nJan 30, 2020\nNaN\n2026\n179cm\n69kg\n€155M\n8.0\nNaN\n\n\n2\n224334\nM. Acuña\n30\nhttps://cdn.sofifa.net/players/224/334/23_60.png\nArgentina\nhttps://cdn.sofifa.net/flags/ar.png\n85\n85\nSevilla FC\nhttps://cdn.sofifa.net/teams/481/30.png\n...\nNo\n&lt;span class=\"pos pos7\"&gt;LB\nSep 14, 2020\nNaN\n2024\n172cm\n69kg\n€97.7M\n19.0\nNaN\n\n\n3\n192985\nK. De Bruyne\n31\nhttps://cdn.sofifa.net/players/192/985/23_60.png\nBelgium\nhttps://cdn.sofifa.net/flags/be.png\n91\n91\nManchester City\nhttps://cdn.sofifa.net/teams/10/30.png\n...\nYes\n&lt;span class=\"pos pos13\"&gt;RCM\nAug 30, 2015\nNaN\n2025\n181cm\n70kg\n€198.9M\n17.0\nNaN\n\n\n4\n224232\nN. Barella\n25\nhttps://cdn.sofifa.net/players/224/232/23_60.png\nItaly\nhttps://cdn.sofifa.net/flags/it.png\n86\n89\nInter\nhttps://cdn.sofifa.net/teams/44/30.png\n...\nYes\n&lt;span class=\"pos pos13\"&gt;RCM\nSep 1, 2020\nNaN\n2026\n172cm\n68kg\n€154.4M\n23.0\nNaN\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n17655\n269526\nDeng Xiongtao\n19\nhttps://cdn.sofifa.net/players/269/526/23_60.png\nChina PR\nhttps://cdn.sofifa.net/flags/cn.png\n48\n61\nMeizhou Hakka\nhttps://cdn.sofifa.net/teams/114628/30.png\n...\nNo\n&lt;span class=\"pos pos29\"&gt;RES\nApr 11, 2022\nNaN\n2027\n190cm\n78kg\n€218K\n35.0\nNaN\n\n\n17656\n267946\n22 Lim Jun Sub\n17\nhttps://cdn.sofifa.net/players/267/946/22_60.png\nKorea Republic\nhttps://cdn.sofifa.net/flags/kr.png\n48\n64\nJeju United FC\nhttps://cdn.sofifa.net/teams/1478/30.png\n...\nNo\n&lt;span class=\"pos pos29\"&gt;RES\nJan 1, 2022\nNaN\n2026\n195cm\n84kg\n€188K\n21.0\nNaN\n\n\n17657\n270567\nA. Demir\n25\nhttps://cdn.sofifa.net/players/270/567/23_60.png\nTurkey\nhttps://cdn.sofifa.net/flags/tr.png\n51\n56\nÜmraniyespor\nhttps://cdn.sofifa.net/teams/113796/30.png\n...\nNo\n&lt;span class=\"pos pos29\"&gt;RES\nJun 6, 2021\nNaN\n2023\n190cm\n82kg\n€142K\n12.0\nNaN\n\n\n17658\n256624\n21 S. Czajor\n18\nhttps://cdn.sofifa.net/players/256/624/21_60.png\nPoland\nhttps://cdn.sofifa.net/flags/pl.png\n50\n65\nFleetwood Town\nhttps://cdn.sofifa.net/teams/112260/30.png\n...\nNo\n&lt;span class=\"pos pos29\"&gt;RES\nJan 1, 2020\nNaN\n2021\n187cm\n79kg\n€214K\n40.0\nNaN\n\n\n17659\n256376\n21 F. Jakobsson\n20\nhttps://cdn.sofifa.net/players/256/376/21_60.png\nSweden\nhttps://cdn.sofifa.net/flags/se.png\n50\n61\nIFK Norrköping\nhttps://cdn.sofifa.net/teams/702/30.png\n...\nNo\n&lt;span class=\"pos pos29\"&gt;RES\nJan 8, 2020\nNaN\n2021\n186cm\n78kg\n€131K\n30.0\nNaN\n\n\n\n\n17660 rows × 29 columns\n\n\n\n\ndf.set_axis(pd.Index(map(lambda x: x.replace(' ','_'), df.columns)), axis=1)\n\n\n\n\n\n\n\n\nID\nName\nAge\nPhoto\nNationality\nFlag\nOverall\nPotential\nClub\nClub_Logo\n...\nReal_Face\nPosition\nJoined\nLoaned_From\nContract_Valid_Until\nHeight\nWeight\nRelease_Clause\nKit_Number\nBest_Overall_Rating\n\n\n\n\n0\n209658\nL. Goretzka\n27\nhttps://cdn.sofifa.net/players/209/658/23_60.png\nGermany\nhttps://cdn.sofifa.net/flags/de.png\n87\n88\nFC Bayern München\nhttps://cdn.sofifa.net/teams/21/30.png\n...\nYes\n&lt;span class=\"pos pos28\"&gt;SUB\nJul 1, 2018\nNaN\n2026\n189cm\n82kg\n€157M\n8.0\nNaN\n\n\n1\n212198\nBruno Fernandes\n27\nhttps://cdn.sofifa.net/players/212/198/23_60.png\nPortugal\nhttps://cdn.sofifa.net/flags/pt.png\n86\n87\nManchester United\nhttps://cdn.sofifa.net/teams/11/30.png\n...\nYes\n&lt;span class=\"pos pos15\"&gt;LCM\nJan 30, 2020\nNaN\n2026\n179cm\n69kg\n€155M\n8.0\nNaN\n\n\n2\n224334\nM. Acuña\n30\nhttps://cdn.sofifa.net/players/224/334/23_60.png\nArgentina\nhttps://cdn.sofifa.net/flags/ar.png\n85\n85\nSevilla FC\nhttps://cdn.sofifa.net/teams/481/30.png\n...\nNo\n&lt;span class=\"pos pos7\"&gt;LB\nSep 14, 2020\nNaN\n2024\n172cm\n69kg\n€97.7M\n19.0\nNaN\n\n\n3\n192985\nK. De Bruyne\n31\nhttps://cdn.sofifa.net/players/192/985/23_60.png\nBelgium\nhttps://cdn.sofifa.net/flags/be.png\n91\n91\nManchester City\nhttps://cdn.sofifa.net/teams/10/30.png\n...\nYes\n&lt;span class=\"pos pos13\"&gt;RCM\nAug 30, 2015\nNaN\n2025\n181cm\n70kg\n€198.9M\n17.0\nNaN\n\n\n4\n224232\nN. Barella\n25\nhttps://cdn.sofifa.net/players/224/232/23_60.png\nItaly\nhttps://cdn.sofifa.net/flags/it.png\n86\n89\nInter\nhttps://cdn.sofifa.net/teams/44/30.png\n...\nYes\n&lt;span class=\"pos pos13\"&gt;RCM\nSep 1, 2020\nNaN\n2026\n172cm\n68kg\n€154.4M\n23.0\nNaN\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n17655\n269526\nDeng Xiongtao\n19\nhttps://cdn.sofifa.net/players/269/526/23_60.png\nChina PR\nhttps://cdn.sofifa.net/flags/cn.png\n48\n61\nMeizhou Hakka\nhttps://cdn.sofifa.net/teams/114628/30.png\n...\nNo\n&lt;span class=\"pos pos29\"&gt;RES\nApr 11, 2022\nNaN\n2027\n190cm\n78kg\n€218K\n35.0\nNaN\n\n\n17656\n267946\n22 Lim Jun Sub\n17\nhttps://cdn.sofifa.net/players/267/946/22_60.png\nKorea Republic\nhttps://cdn.sofifa.net/flags/kr.png\n48\n64\nJeju United FC\nhttps://cdn.sofifa.net/teams/1478/30.png\n...\nNo\n&lt;span class=\"pos pos29\"&gt;RES\nJan 1, 2022\nNaN\n2026\n195cm\n84kg\n€188K\n21.0\nNaN\n\n\n17657\n270567\nA. Demir\n25\nhttps://cdn.sofifa.net/players/270/567/23_60.png\nTurkey\nhttps://cdn.sofifa.net/flags/tr.png\n51\n56\nÜmraniyespor\nhttps://cdn.sofifa.net/teams/113796/30.png\n...\nNo\n&lt;span class=\"pos pos29\"&gt;RES\nJun 6, 2021\nNaN\n2023\n190cm\n82kg\n€142K\n12.0\nNaN\n\n\n17658\n256624\n21 S. Czajor\n18\nhttps://cdn.sofifa.net/players/256/624/21_60.png\nPoland\nhttps://cdn.sofifa.net/flags/pl.png\n50\n65\nFleetwood Town\nhttps://cdn.sofifa.net/teams/112260/30.png\n...\nNo\n&lt;span class=\"pos pos29\"&gt;RES\nJan 1, 2020\nNaN\n2021\n187cm\n79kg\n€214K\n40.0\nNaN\n\n\n17659\n256376\n21 F. Jakobsson\n20\nhttps://cdn.sofifa.net/players/256/376/21_60.png\nSweden\nhttps://cdn.sofifa.net/flags/se.png\n50\n61\nIFK Norrköping\nhttps://cdn.sofifa.net/teams/702/30.png\n...\nNo\n&lt;span class=\"pos pos29\"&gt;RES\nJan 8, 2020\nNaN\n2021\n186cm\n78kg\n€131K\n30.0\nNaN\n\n\n\n\n17660 rows × 29 columns\n\n\n\n\nindex 로 쓰는게 좀 더 명확함\n\n\n\n결측치 제거\n\ndf.info()\n\n&lt;class 'pandas.core.frame.DataFrame'&gt;\nRangeIndex: 17660 entries, 0 to 17659\nData columns (total 29 columns):\n #   Column                    Non-Null Count  Dtype  \n---  ------                    --------------  -----  \n 0   ID                        17660 non-null  int64  \n 1   Name                      17660 non-null  object \n 2   Age                       17660 non-null  int64  \n 3   Photo                     17660 non-null  object \n 4   Nationality               17660 non-null  object \n 5   Flag                      17660 non-null  object \n 6   Overall                   17660 non-null  int64  \n 7   Potential                 17660 non-null  int64  \n 8   Club                      17449 non-null  object \n 9   Club Logo                 17660 non-null  object \n 10  Value                     17660 non-null  object \n 11  Wage                      17660 non-null  object \n 12  Special                   17660 non-null  int64  \n 13  Preferred Foot            17660 non-null  object \n 14  International Reputation  17660 non-null  float64\n 15  Weak Foot                 17660 non-null  float64\n 16  Skill Moves               17660 non-null  float64\n 17  Work Rate                 17660 non-null  object \n 18  Body Type                 17622 non-null  object \n 19  Real Face                 17622 non-null  object \n 20  Position                  17625 non-null  object \n 21  Joined                    16562 non-null  object \n 22  Loaned From               694 non-null    object \n 23  Contract Valid Until      17299 non-null  object \n 24  Height                    17660 non-null  object \n 25  Weight                    17660 non-null  object \n 26  Release Clause            16509 non-null  object \n 27  Kit Number                17625 non-null  float64\n 28  Best Overall Rating       21 non-null     object \ndtypes: float64(4), int64(5), object(20)\nmemory usage: 3.9+ MB\n\n\n\ndf.drop(columns=['Loaned From', 'Best Overall Rating'])\n\n\n\n\n\n\n\n\nID\nName\nAge\nPhoto\nNationality\nFlag\nOverall\nPotential\nClub\nClub Logo\n...\nWork Rate\nBody Type\nReal Face\nPosition\nJoined\nContract Valid Until\nHeight\nWeight\nRelease Clause\nKit Number\n\n\n\n\n0\n209658\nL. Goretzka\n27\nhttps://cdn.sofifa.net/players/209/658/23_60.png\nGermany\nhttps://cdn.sofifa.net/flags/de.png\n87\n88\nFC Bayern München\nhttps://cdn.sofifa.net/teams/21/30.png\n...\nHigh/ Medium\nUnique\nYes\n&lt;span class=\"pos pos28\"&gt;SUB\nJul 1, 2018\n2026\n189cm\n82kg\n€157M\n8.0\n\n\n1\n212198\nBruno Fernandes\n27\nhttps://cdn.sofifa.net/players/212/198/23_60.png\nPortugal\nhttps://cdn.sofifa.net/flags/pt.png\n86\n87\nManchester United\nhttps://cdn.sofifa.net/teams/11/30.png\n...\nHigh/ High\nUnique\nYes\n&lt;span class=\"pos pos15\"&gt;LCM\nJan 30, 2020\n2026\n179cm\n69kg\n€155M\n8.0\n\n\n2\n224334\nM. Acuña\n30\nhttps://cdn.sofifa.net/players/224/334/23_60.png\nArgentina\nhttps://cdn.sofifa.net/flags/ar.png\n85\n85\nSevilla FC\nhttps://cdn.sofifa.net/teams/481/30.png\n...\nHigh/ High\nStocky (170-185)\nNo\n&lt;span class=\"pos pos7\"&gt;LB\nSep 14, 2020\n2024\n172cm\n69kg\n€97.7M\n19.0\n\n\n3\n192985\nK. De Bruyne\n31\nhttps://cdn.sofifa.net/players/192/985/23_60.png\nBelgium\nhttps://cdn.sofifa.net/flags/be.png\n91\n91\nManchester City\nhttps://cdn.sofifa.net/teams/10/30.png\n...\nHigh/ High\nUnique\nYes\n&lt;span class=\"pos pos13\"&gt;RCM\nAug 30, 2015\n2025\n181cm\n70kg\n€198.9M\n17.0\n\n\n4\n224232\nN. Barella\n25\nhttps://cdn.sofifa.net/players/224/232/23_60.png\nItaly\nhttps://cdn.sofifa.net/flags/it.png\n86\n89\nInter\nhttps://cdn.sofifa.net/teams/44/30.png\n...\nHigh/ High\nNormal (170-)\nYes\n&lt;span class=\"pos pos13\"&gt;RCM\nSep 1, 2020\n2026\n172cm\n68kg\n€154.4M\n23.0\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n17655\n269526\nDeng Xiongtao\n19\nhttps://cdn.sofifa.net/players/269/526/23_60.png\nChina PR\nhttps://cdn.sofifa.net/flags/cn.png\n48\n61\nMeizhou Hakka\nhttps://cdn.sofifa.net/teams/114628/30.png\n...\nMedium/ Medium\nNormal (185+)\nNo\n&lt;span class=\"pos pos29\"&gt;RES\nApr 11, 2022\n2027\n190cm\n78kg\n€218K\n35.0\n\n\n17656\n267946\n22 Lim Jun Sub\n17\nhttps://cdn.sofifa.net/players/267/946/22_60.png\nKorea Republic\nhttps://cdn.sofifa.net/flags/kr.png\n48\n64\nJeju United FC\nhttps://cdn.sofifa.net/teams/1478/30.png\n...\nMedium/ Medium\nLean (185+)\nNo\n&lt;span class=\"pos pos29\"&gt;RES\nJan 1, 2022\n2026\n195cm\n84kg\n€188K\n21.0\n\n\n17657\n270567\nA. Demir\n25\nhttps://cdn.sofifa.net/players/270/567/23_60.png\nTurkey\nhttps://cdn.sofifa.net/flags/tr.png\n51\n56\nÜmraniyespor\nhttps://cdn.sofifa.net/teams/113796/30.png\n...\nMedium/ Medium\nLean (185+)\nNo\n&lt;span class=\"pos pos29\"&gt;RES\nJun 6, 2021\n2023\n190cm\n82kg\n€142K\n12.0\n\n\n17658\n256624\n21 S. Czajor\n18\nhttps://cdn.sofifa.net/players/256/624/21_60.png\nPoland\nhttps://cdn.sofifa.net/flags/pl.png\n50\n65\nFleetwood Town\nhttps://cdn.sofifa.net/teams/112260/30.png\n...\nMedium/ Medium\nNormal (185+)\nNo\n&lt;span class=\"pos pos29\"&gt;RES\nJan 1, 2020\n2021\n187cm\n79kg\n€214K\n40.0\n\n\n17659\n256376\n21 F. Jakobsson\n20\nhttps://cdn.sofifa.net/players/256/376/21_60.png\nSweden\nhttps://cdn.sofifa.net/flags/se.png\n50\n61\nIFK Norrköping\nhttps://cdn.sofifa.net/teams/702/30.png\n...\nMedium/ Medium\nNormal (185+)\nNo\n&lt;span class=\"pos pos29\"&gt;RES\nJan 8, 2020\n2021\n186cm\n78kg\n€131K\n30.0\n\n\n\n\n17660 rows × 27 columns\n\n\n\n- Height, Weight의 자료형을 float형으로 수정하기\n\ndf[['Height', 'Weight']]\n\n\n\n\n\n\n\n\nHeight\nWeight\n\n\n\n\n0\n189cm\n82kg\n\n\n1\n179cm\n69kg\n\n\n2\n172cm\n69kg\n\n\n3\n181cm\n70kg\n\n\n4\n172cm\n68kg\n\n\n...\n...\n...\n\n\n17655\n190cm\n78kg\n\n\n17656\n195cm\n84kg\n\n\n17657\n190cm\n82kg\n\n\n17658\n187cm\n79kg\n\n\n17659\n186cm\n78kg\n\n\n\n\n17660 rows × 2 columns\n\n\n\ncm, kg으로 되어있어서 object형인데 이걸 float형으로 바꾸자\n\ndf.assign(\n    Height= list(map(lambda x: float(x[:-2]), df.Height)),\n    Weight= list(map(lambda x: float(x[:-2]), df.Weight))\n)\n\n\n\n\n\n\n\n\nID\nName\nAge\nPhoto\nNationality\nFlag\nOverall\nPotential\nClub\nClub Logo\n...\nReal Face\nPosition\nJoined\nLoaned From\nContract Valid Until\nHeight\nWeight\nRelease Clause\nKit Number\nBest Overall Rating\n\n\n\n\n0\n209658\nL. Goretzka\n27\nhttps://cdn.sofifa.net/players/209/658/23_60.png\nGermany\nhttps://cdn.sofifa.net/flags/de.png\n87\n88\nFC Bayern München\nhttps://cdn.sofifa.net/teams/21/30.png\n...\nYes\n&lt;span class=\"pos pos28\"&gt;SUB\nJul 1, 2018\nNaN\n2026\n189.0\n82.0\n€157M\n8.0\nNaN\n\n\n1\n212198\nBruno Fernandes\n27\nhttps://cdn.sofifa.net/players/212/198/23_60.png\nPortugal\nhttps://cdn.sofifa.net/flags/pt.png\n86\n87\nManchester United\nhttps://cdn.sofifa.net/teams/11/30.png\n...\nYes\n&lt;span class=\"pos pos15\"&gt;LCM\nJan 30, 2020\nNaN\n2026\n179.0\n69.0\n€155M\n8.0\nNaN\n\n\n2\n224334\nM. Acuña\n30\nhttps://cdn.sofifa.net/players/224/334/23_60.png\nArgentina\nhttps://cdn.sofifa.net/flags/ar.png\n85\n85\nSevilla FC\nhttps://cdn.sofifa.net/teams/481/30.png\n...\nNo\n&lt;span class=\"pos pos7\"&gt;LB\nSep 14, 2020\nNaN\n2024\n172.0\n69.0\n€97.7M\n19.0\nNaN\n\n\n3\n192985\nK. De Bruyne\n31\nhttps://cdn.sofifa.net/players/192/985/23_60.png\nBelgium\nhttps://cdn.sofifa.net/flags/be.png\n91\n91\nManchester City\nhttps://cdn.sofifa.net/teams/10/30.png\n...\nYes\n&lt;span class=\"pos pos13\"&gt;RCM\nAug 30, 2015\nNaN\n2025\n181.0\n70.0\n€198.9M\n17.0\nNaN\n\n\n4\n224232\nN. Barella\n25\nhttps://cdn.sofifa.net/players/224/232/23_60.png\nItaly\nhttps://cdn.sofifa.net/flags/it.png\n86\n89\nInter\nhttps://cdn.sofifa.net/teams/44/30.png\n...\nYes\n&lt;span class=\"pos pos13\"&gt;RCM\nSep 1, 2020\nNaN\n2026\n172.0\n68.0\n€154.4M\n23.0\nNaN\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n17655\n269526\nDeng Xiongtao\n19\nhttps://cdn.sofifa.net/players/269/526/23_60.png\nChina PR\nhttps://cdn.sofifa.net/flags/cn.png\n48\n61\nMeizhou Hakka\nhttps://cdn.sofifa.net/teams/114628/30.png\n...\nNo\n&lt;span class=\"pos pos29\"&gt;RES\nApr 11, 2022\nNaN\n2027\n190.0\n78.0\n€218K\n35.0\nNaN\n\n\n17656\n267946\n22 Lim Jun Sub\n17\nhttps://cdn.sofifa.net/players/267/946/22_60.png\nKorea Republic\nhttps://cdn.sofifa.net/flags/kr.png\n48\n64\nJeju United FC\nhttps://cdn.sofifa.net/teams/1478/30.png\n...\nNo\n&lt;span class=\"pos pos29\"&gt;RES\nJan 1, 2022\nNaN\n2026\n195.0\n84.0\n€188K\n21.0\nNaN\n\n\n17657\n270567\nA. Demir\n25\nhttps://cdn.sofifa.net/players/270/567/23_60.png\nTurkey\nhttps://cdn.sofifa.net/flags/tr.png\n51\n56\nÜmraniyespor\nhttps://cdn.sofifa.net/teams/113796/30.png\n...\nNo\n&lt;span class=\"pos pos29\"&gt;RES\nJun 6, 2021\nNaN\n2023\n190.0\n82.0\n€142K\n12.0\nNaN\n\n\n17658\n256624\n21 S. Czajor\n18\nhttps://cdn.sofifa.net/players/256/624/21_60.png\nPoland\nhttps://cdn.sofifa.net/flags/pl.png\n50\n65\nFleetwood Town\nhttps://cdn.sofifa.net/teams/112260/30.png\n...\nNo\n&lt;span class=\"pos pos29\"&gt;RES\nJan 1, 2020\nNaN\n2021\n187.0\n79.0\n€214K\n40.0\nNaN\n\n\n17659\n256376\n21 F. Jakobsson\n20\nhttps://cdn.sofifa.net/players/256/376/21_60.png\nSweden\nhttps://cdn.sofifa.net/flags/se.png\n50\n61\nIFK Norrköping\nhttps://cdn.sofifa.net/teams/702/30.png\n...\nNo\n&lt;span class=\"pos pos29\"&gt;RES\nJan 8, 2020\nNaN\n2021\n186.0\n78.0\n€131K\n30.0\nNaN\n\n\n\n\n17660 rows × 29 columns\n\n\n\n- Release Clause의 자료형을 float으로 수정하기\n\ndf['Release Clause']\n\n0          €157M\n1          €155M\n2         €97.7M\n3        €198.9M\n4        €154.4M\n          ...   \n17655      €218K\n17656      €188K\n17657      €142K\n17658      €214K\n17659      €131K\nName: Release Clause, Length: 17660, dtype: object\n\n\n\n_f = lambda x: float(x[1:-1])*1000 if x[-1]=='K' else float(x[1:-1])*1000000\n\n\n_f('€157M')\n\n157000000.0\n\n\n\n_f('€131K')\n\n131000.0\n\n\n(시도1) - 실패\n\nlist(map(_f, df['Release Clause']))\n\nTypeError: 'float' object is not subscriptable\n\n\n\ndf['Release Clause'].isna().sum()   # 이 column에는 1151개의 결측치가 존재\n\n1151\n\n\n(nan에 대한 예비학습)\n\ndf.loc[df['Release Clause'].isna(), 'Release Clause']\n\n18       NaN\n34       NaN\n38       NaN\n49       NaN\n50       NaN\n        ... \n17378    NaN\n17386    NaN\n17535    NaN\n17590    NaN\n17618    NaN\nName: Release Clause, Length: 1151, dtype: object\n\n\n\ndf.loc[18, 'Release Clause']\n\nnan\n\n\n\npd.isna(df.loc[18, 'Release Clause'])\n\nTrue\n\n\n\ntype(df.loc[18, 'Release Clause'])\n\nfloat\n\n\n\ndf.loc[18, 'Release Clause'][-1]\n\nTypeError: 'float' object is not subscriptable\n\n\n\n_f 함수에는 문자열이 들어가야하는데 nan이 들어가니까 에러가 뜸..\n\n(시도2) - 성공\n\ndf.rename(columns={'Release Clause':'ReleaseClause'})\\\n.assign(ReleaseClause = list(map(lambda x: _f(x) if pd.isna(x)==False else x , df['Release Clause'])))\\\n.rename(columns={'ReleaseClause':'Release Clause'})\n\n\n\n\n\n\n\n\nID\nName\nAge\nPhoto\nNationality\nFlag\nOverall\nPotential\nClub\nClub Logo\n...\nReal Face\nPosition\nJoined\nLoaned From\nContract Valid Until\nHeight\nWeight\nRelease Clause\nKit Number\nBest Overall Rating\n\n\n\n\n0\n209658\nL. Goretzka\n27\nhttps://cdn.sofifa.net/players/209/658/23_60.png\nGermany\nhttps://cdn.sofifa.net/flags/de.png\n87\n88\nFC Bayern München\nhttps://cdn.sofifa.net/teams/21/30.png\n...\nYes\n&lt;span class=\"pos pos28\"&gt;SUB\nJul 1, 2018\nNaN\n2026\n189cm\n82kg\n157000000.0\n8.0\nNaN\n\n\n1\n212198\nBruno Fernandes\n27\nhttps://cdn.sofifa.net/players/212/198/23_60.png\nPortugal\nhttps://cdn.sofifa.net/flags/pt.png\n86\n87\nManchester United\nhttps://cdn.sofifa.net/teams/11/30.png\n...\nYes\n&lt;span class=\"pos pos15\"&gt;LCM\nJan 30, 2020\nNaN\n2026\n179cm\n69kg\n155000000.0\n8.0\nNaN\n\n\n2\n224334\nM. Acuña\n30\nhttps://cdn.sofifa.net/players/224/334/23_60.png\nArgentina\nhttps://cdn.sofifa.net/flags/ar.png\n85\n85\nSevilla FC\nhttps://cdn.sofifa.net/teams/481/30.png\n...\nNo\n&lt;span class=\"pos pos7\"&gt;LB\nSep 14, 2020\nNaN\n2024\n172cm\n69kg\n97700000.0\n19.0\nNaN\n\n\n3\n192985\nK. De Bruyne\n31\nhttps://cdn.sofifa.net/players/192/985/23_60.png\nBelgium\nhttps://cdn.sofifa.net/flags/be.png\n91\n91\nManchester City\nhttps://cdn.sofifa.net/teams/10/30.png\n...\nYes\n&lt;span class=\"pos pos13\"&gt;RCM\nAug 30, 2015\nNaN\n2025\n181cm\n70kg\n198900000.0\n17.0\nNaN\n\n\n4\n224232\nN. Barella\n25\nhttps://cdn.sofifa.net/players/224/232/23_60.png\nItaly\nhttps://cdn.sofifa.net/flags/it.png\n86\n89\nInter\nhttps://cdn.sofifa.net/teams/44/30.png\n...\nYes\n&lt;span class=\"pos pos13\"&gt;RCM\nSep 1, 2020\nNaN\n2026\n172cm\n68kg\n154400000.0\n23.0\nNaN\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n17655\n269526\nDeng Xiongtao\n19\nhttps://cdn.sofifa.net/players/269/526/23_60.png\nChina PR\nhttps://cdn.sofifa.net/flags/cn.png\n48\n61\nMeizhou Hakka\nhttps://cdn.sofifa.net/teams/114628/30.png\n...\nNo\n&lt;span class=\"pos pos29\"&gt;RES\nApr 11, 2022\nNaN\n2027\n190cm\n78kg\n218000.0\n35.0\nNaN\n\n\n17656\n267946\n22 Lim Jun Sub\n17\nhttps://cdn.sofifa.net/players/267/946/22_60.png\nKorea Republic\nhttps://cdn.sofifa.net/flags/kr.png\n48\n64\nJeju United FC\nhttps://cdn.sofifa.net/teams/1478/30.png\n...\nNo\n&lt;span class=\"pos pos29\"&gt;RES\nJan 1, 2022\nNaN\n2026\n195cm\n84kg\n188000.0\n21.0\nNaN\n\n\n17657\n270567\nA. Demir\n25\nhttps://cdn.sofifa.net/players/270/567/23_60.png\nTurkey\nhttps://cdn.sofifa.net/flags/tr.png\n51\n56\nÜmraniyespor\nhttps://cdn.sofifa.net/teams/113796/30.png\n...\nNo\n&lt;span class=\"pos pos29\"&gt;RES\nJun 6, 2021\nNaN\n2023\n190cm\n82kg\n142000.0\n12.0\nNaN\n\n\n17658\n256624\n21 S. Czajor\n18\nhttps://cdn.sofifa.net/players/256/624/21_60.png\nPoland\nhttps://cdn.sofifa.net/flags/pl.png\n50\n65\nFleetwood Town\nhttps://cdn.sofifa.net/teams/112260/30.png\n...\nNo\n&lt;span class=\"pos pos29\"&gt;RES\nJan 1, 2020\nNaN\n2021\n187cm\n79kg\n214000.0\n40.0\nNaN\n\n\n17659\n256376\n21 F. Jakobsson\n20\nhttps://cdn.sofifa.net/players/256/376/21_60.png\nSweden\nhttps://cdn.sofifa.net/flags/se.png\n50\n61\nIFK Norrköping\nhttps://cdn.sofifa.net/teams/702/30.png\n...\nNo\n&lt;span class=\"pos pos29\"&gt;RES\nJan 8, 2020\nNaN\n2021\n186cm\n78kg\n131000.0\n30.0\nNaN\n\n\n\n\n17660 rows × 29 columns\n\n\n\n\ndf.rename(columns={'Release Clause':'ReleaseClause'})\\\n.assign(ReleaseClause = list(map(lambda x: _f(x) if pd.isna(x)==False else x , df['Release Clause'])))\\\n.rename(columns={'ReleaseClause':'Release Clause'}).info()\n\n&lt;class 'pandas.core.frame.DataFrame'&gt;\nRangeIndex: 17660 entries, 0 to 17659\nData columns (total 29 columns):\n #   Column                    Non-Null Count  Dtype  \n---  ------                    --------------  -----  \n 0   ID                        17660 non-null  int64  \n 1   Name                      17660 non-null  object \n 2   Age                       17660 non-null  int64  \n 3   Photo                     17660 non-null  object \n 4   Nationality               17660 non-null  object \n 5   Flag                      17660 non-null  object \n 6   Overall                   17660 non-null  int64  \n 7   Potential                 17660 non-null  int64  \n 8   Club                      17449 non-null  object \n 9   Club Logo                 17660 non-null  object \n 10  Value                     17660 non-null  object \n 11  Wage                      17660 non-null  object \n 12  Special                   17660 non-null  int64  \n 13  Preferred Foot            17660 non-null  object \n 14  International Reputation  17660 non-null  float64\n 15  Weak Foot                 17660 non-null  float64\n 16  Skill Moves               17660 non-null  float64\n 17  Work Rate                 17660 non-null  object \n 18  Body Type                 17622 non-null  object \n 19  Real Face                 17622 non-null  object \n 20  Position                  17625 non-null  object \n 21  Joined                    16562 non-null  object \n 22  Loaned From               694 non-null    object \n 23  Contract Valid Until      17299 non-null  object \n 24  Height                    17660 non-null  object \n 25  Weight                    17660 non-null  object \n 26  Release Clause            16509 non-null  float64\n 27  Kit Number                17625 non-null  float64\n 28  Best Overall Rating       21 non-null     object \ndtypes: float64(5), int64(5), object(19)\nmemory usage: 3.9+ MB\n\n\n26번 컬럼이 float64로 바뀜!\n(시도3) - 성공, 그냥 결측치를 제거하고 변경해도 무방\n\ndf2 = df.drop(columns=['Loaned From', 'Best Overall Rating']).dropna()\ndf2['Release Clause'] = list(map(lambda x: _f(x) if pd.isna(x)==False else x , df2['Release Clause']))\ndf2\n\n\n\n\n\n\n\n\nID\nName\nAge\nPhoto\nNationality\nFlag\nOverall\nPotential\nClub\nClub Logo\n...\nWork Rate\nBody Type\nReal Face\nPosition\nJoined\nContract Valid Until\nHeight\nWeight\nRelease Clause\nKit Number\n\n\n\n\n0\n209658\nL. Goretzka\n27\nhttps://cdn.sofifa.net/players/209/658/23_60.png\nGermany\nhttps://cdn.sofifa.net/flags/de.png\n87\n88\nFC Bayern München\nhttps://cdn.sofifa.net/teams/21/30.png\n...\nHigh/ Medium\nUnique\nYes\n&lt;span class=\"pos pos28\"&gt;SUB\nJul 1, 2018\n2026\n189cm\n82kg\n157000000.0\n8.0\n\n\n1\n212198\nBruno Fernandes\n27\nhttps://cdn.sofifa.net/players/212/198/23_60.png\nPortugal\nhttps://cdn.sofifa.net/flags/pt.png\n86\n87\nManchester United\nhttps://cdn.sofifa.net/teams/11/30.png\n...\nHigh/ High\nUnique\nYes\n&lt;span class=\"pos pos15\"&gt;LCM\nJan 30, 2020\n2026\n179cm\n69kg\n155000000.0\n8.0\n\n\n2\n224334\nM. Acuña\n30\nhttps://cdn.sofifa.net/players/224/334/23_60.png\nArgentina\nhttps://cdn.sofifa.net/flags/ar.png\n85\n85\nSevilla FC\nhttps://cdn.sofifa.net/teams/481/30.png\n...\nHigh/ High\nStocky (170-185)\nNo\n&lt;span class=\"pos pos7\"&gt;LB\nSep 14, 2020\n2024\n172cm\n69kg\n97700000.0\n19.0\n\n\n3\n192985\nK. De Bruyne\n31\nhttps://cdn.sofifa.net/players/192/985/23_60.png\nBelgium\nhttps://cdn.sofifa.net/flags/be.png\n91\n91\nManchester City\nhttps://cdn.sofifa.net/teams/10/30.png\n...\nHigh/ High\nUnique\nYes\n&lt;span class=\"pos pos13\"&gt;RCM\nAug 30, 2015\n2025\n181cm\n70kg\n198900000.0\n17.0\n\n\n4\n224232\nN. Barella\n25\nhttps://cdn.sofifa.net/players/224/232/23_60.png\nItaly\nhttps://cdn.sofifa.net/flags/it.png\n86\n89\nInter\nhttps://cdn.sofifa.net/teams/44/30.png\n...\nHigh/ High\nNormal (170-)\nYes\n&lt;span class=\"pos pos13\"&gt;RCM\nSep 1, 2020\n2026\n172cm\n68kg\n154400000.0\n23.0\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n17655\n269526\nDeng Xiongtao\n19\nhttps://cdn.sofifa.net/players/269/526/23_60.png\nChina PR\nhttps://cdn.sofifa.net/flags/cn.png\n48\n61\nMeizhou Hakka\nhttps://cdn.sofifa.net/teams/114628/30.png\n...\nMedium/ Medium\nNormal (185+)\nNo\n&lt;span class=\"pos pos29\"&gt;RES\nApr 11, 2022\n2027\n190cm\n78kg\n218000.0\n35.0\n\n\n17656\n267946\n22 Lim Jun Sub\n17\nhttps://cdn.sofifa.net/players/267/946/22_60.png\nKorea Republic\nhttps://cdn.sofifa.net/flags/kr.png\n48\n64\nJeju United FC\nhttps://cdn.sofifa.net/teams/1478/30.png\n...\nMedium/ Medium\nLean (185+)\nNo\n&lt;span class=\"pos pos29\"&gt;RES\nJan 1, 2022\n2026\n195cm\n84kg\n188000.0\n21.0\n\n\n17657\n270567\nA. Demir\n25\nhttps://cdn.sofifa.net/players/270/567/23_60.png\nTurkey\nhttps://cdn.sofifa.net/flags/tr.png\n51\n56\nÜmraniyespor\nhttps://cdn.sofifa.net/teams/113796/30.png\n...\nMedium/ Medium\nLean (185+)\nNo\n&lt;span class=\"pos pos29\"&gt;RES\nJun 6, 2021\n2023\n190cm\n82kg\n142000.0\n12.0\n\n\n17658\n256624\n21 S. Czajor\n18\nhttps://cdn.sofifa.net/players/256/624/21_60.png\nPoland\nhttps://cdn.sofifa.net/flags/pl.png\n50\n65\nFleetwood Town\nhttps://cdn.sofifa.net/teams/112260/30.png\n...\nMedium/ Medium\nNormal (185+)\nNo\n&lt;span class=\"pos pos29\"&gt;RES\nJan 1, 2020\n2021\n187cm\n79kg\n214000.0\n40.0\n\n\n17659\n256376\n21 F. Jakobsson\n20\nhttps://cdn.sofifa.net/players/256/376/21_60.png\nSweden\nhttps://cdn.sofifa.net/flags/se.png\n50\n61\nIFK Norrköping\nhttps://cdn.sofifa.net/teams/702/30.png\n...\nMedium/ Medium\nNormal (185+)\nNo\n&lt;span class=\"pos pos29\"&gt;RES\nJan 8, 2020\n2021\n186cm\n78kg\n131000.0\n30.0\n\n\n\n\n16364 rows × 27 columns\n\n\n\n\ndf2.info()\n\n&lt;class 'pandas.core.frame.DataFrame'&gt;\nInt64Index: 16364 entries, 0 to 17659\nData columns (total 27 columns):\n #   Column                    Non-Null Count  Dtype  \n---  ------                    --------------  -----  \n 0   ID                        16364 non-null  int64  \n 1   Name                      16364 non-null  object \n 2   Age                       16364 non-null  int64  \n 3   Photo                     16364 non-null  object \n 4   Nationality               16364 non-null  object \n 5   Flag                      16364 non-null  object \n 6   Overall                   16364 non-null  int64  \n 7   Potential                 16364 non-null  int64  \n 8   Club                      16364 non-null  object \n 9   Club Logo                 16364 non-null  object \n 10  Value                     16364 non-null  object \n 11  Wage                      16364 non-null  object \n 12  Special                   16364 non-null  int64  \n 13  Preferred Foot            16364 non-null  object \n 14  International Reputation  16364 non-null  float64\n 15  Weak Foot                 16364 non-null  float64\n 16  Skill Moves               16364 non-null  float64\n 17  Work Rate                 16364 non-null  object \n 18  Body Type                 16364 non-null  object \n 19  Real Face                 16364 non-null  object \n 20  Position                  16364 non-null  object \n 21  Joined                    16364 non-null  object \n 22  Contract Valid Until      16364 non-null  object \n 23  Height                    16364 non-null  object \n 24  Weight                    16364 non-null  object \n 25  Release Clause            16364 non-null  float64\n 26  Kit Number                16364 non-null  float64\ndtypes: float64(5), int64(5), object(17)\nmemory usage: 3.5+ MB\n\n\n\n분석의 편의를 위하여 (1) colnames를 변경하고 (2) 결측치를 제거하고 (3) 몇 가지 전 처리를 추가로 진행한 뒤 df2를 만들어서 분석하는게 좋음"
  },
  {
    "objectID": "posts/DV_8(1024).html#데이터-분석하기",
    "href": "posts/DV_8(1024).html#데이터-분석하기",
    "title": "DV 8주차",
    "section": "데이터 분석하기",
    "text": "데이터 분석하기\n\nOverall vs Potential\n(의문)현재 능력치가 좋은 선수는 잠재력이 없는 거일까?\n\ndf.Potential # 잠재능력\n\n0        88\n1        87\n2        85\n3        91\n4        89\n         ..\n17655    61\n17656    64\n17657    56\n17658    65\n17659    61\nName: Potential, Length: 17660, dtype: int64\n\n\n\ndf.Overall  # 전반적인\n\n0        87\n1        86\n2        85\n3        91\n4        86\n         ..\n17655    48\n17656    48\n17657    51\n17658    50\n17659    50\nName: Overall, Length: 17660, dtype: int64\n\n\n\nfig = ggplot(data=df) + geom_point(aes(x='Overall',y='Potential'))\nfig\n\n\n\n\n\n뭔가 Potential &gt; Overall 인 관계가 성립하는 듯 하다. \\(\\to\\) 우리가 생각하는 포텐셜의 의미는 사실 Potential2 = Potential - Overall 에 더 가깝다. \\(\\to\\) Potential2 = Potential - Overall 인 변수를 새로 만들고 시각화 해보자.\n\n- Potential2 = Potential - Overall 를 계산하여 새로운 열을 추가하자.\n\ndf.eval('Potential2 = Potential - Overall')\n\n\n\n\n\n\n\n\nID\nName\nAge\nPhoto\nNationality\nFlag\nOverall\nPotential\nClub\nClub Logo\n...\nPosition\nJoined\nLoaned From\nContract Valid Until\nHeight\nWeight\nRelease Clause\nKit Number\nBest Overall Rating\nPotential2\n\n\n\n\n0\n209658\nL. Goretzka\n27\nhttps://cdn.sofifa.net/players/209/658/23_60.png\nGermany\nhttps://cdn.sofifa.net/flags/de.png\n87\n88\nFC Bayern München\nhttps://cdn.sofifa.net/teams/21/30.png\n...\n&lt;span class=\"pos pos28\"&gt;SUB\nJul 1, 2018\nNaN\n2026\n189cm\n82kg\n€157M\n8.0\nNaN\n1\n\n\n1\n212198\nBruno Fernandes\n27\nhttps://cdn.sofifa.net/players/212/198/23_60.png\nPortugal\nhttps://cdn.sofifa.net/flags/pt.png\n86\n87\nManchester United\nhttps://cdn.sofifa.net/teams/11/30.png\n...\n&lt;span class=\"pos pos15\"&gt;LCM\nJan 30, 2020\nNaN\n2026\n179cm\n69kg\n€155M\n8.0\nNaN\n1\n\n\n2\n224334\nM. Acuña\n30\nhttps://cdn.sofifa.net/players/224/334/23_60.png\nArgentina\nhttps://cdn.sofifa.net/flags/ar.png\n85\n85\nSevilla FC\nhttps://cdn.sofifa.net/teams/481/30.png\n...\n&lt;span class=\"pos pos7\"&gt;LB\nSep 14, 2020\nNaN\n2024\n172cm\n69kg\n€97.7M\n19.0\nNaN\n0\n\n\n3\n192985\nK. De Bruyne\n31\nhttps://cdn.sofifa.net/players/192/985/23_60.png\nBelgium\nhttps://cdn.sofifa.net/flags/be.png\n91\n91\nManchester City\nhttps://cdn.sofifa.net/teams/10/30.png\n...\n&lt;span class=\"pos pos13\"&gt;RCM\nAug 30, 2015\nNaN\n2025\n181cm\n70kg\n€198.9M\n17.0\nNaN\n0\n\n\n4\n224232\nN. Barella\n25\nhttps://cdn.sofifa.net/players/224/232/23_60.png\nItaly\nhttps://cdn.sofifa.net/flags/it.png\n86\n89\nInter\nhttps://cdn.sofifa.net/teams/44/30.png\n...\n&lt;span class=\"pos pos13\"&gt;RCM\nSep 1, 2020\nNaN\n2026\n172cm\n68kg\n€154.4M\n23.0\nNaN\n3\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n17655\n269526\nDeng Xiongtao\n19\nhttps://cdn.sofifa.net/players/269/526/23_60.png\nChina PR\nhttps://cdn.sofifa.net/flags/cn.png\n48\n61\nMeizhou Hakka\nhttps://cdn.sofifa.net/teams/114628/30.png\n...\n&lt;span class=\"pos pos29\"&gt;RES\nApr 11, 2022\nNaN\n2027\n190cm\n78kg\n€218K\n35.0\nNaN\n13\n\n\n17656\n267946\n22 Lim Jun Sub\n17\nhttps://cdn.sofifa.net/players/267/946/22_60.png\nKorea Republic\nhttps://cdn.sofifa.net/flags/kr.png\n48\n64\nJeju United FC\nhttps://cdn.sofifa.net/teams/1478/30.png\n...\n&lt;span class=\"pos pos29\"&gt;RES\nJan 1, 2022\nNaN\n2026\n195cm\n84kg\n€188K\n21.0\nNaN\n16\n\n\n17657\n270567\nA. Demir\n25\nhttps://cdn.sofifa.net/players/270/567/23_60.png\nTurkey\nhttps://cdn.sofifa.net/flags/tr.png\n51\n56\nÜmraniyespor\nhttps://cdn.sofifa.net/teams/113796/30.png\n...\n&lt;span class=\"pos pos29\"&gt;RES\nJun 6, 2021\nNaN\n2023\n190cm\n82kg\n€142K\n12.0\nNaN\n5\n\n\n17658\n256624\n21 S. Czajor\n18\nhttps://cdn.sofifa.net/players/256/624/21_60.png\nPoland\nhttps://cdn.sofifa.net/flags/pl.png\n50\n65\nFleetwood Town\nhttps://cdn.sofifa.net/teams/112260/30.png\n...\n&lt;span class=\"pos pos29\"&gt;RES\nJan 1, 2020\nNaN\n2021\n187cm\n79kg\n€214K\n40.0\nNaN\n15\n\n\n17659\n256376\n21 F. Jakobsson\n20\nhttps://cdn.sofifa.net/players/256/376/21_60.png\nSweden\nhttps://cdn.sofifa.net/flags/se.png\n50\n61\nIFK Norrköping\nhttps://cdn.sofifa.net/teams/702/30.png\n...\n&lt;span class=\"pos pos29\"&gt;RES\nJan 8, 2020\nNaN\n2021\n186cm\n78kg\n€131K\n30.0\nNaN\n11\n\n\n\n\n17660 rows × 30 columns\n\n\n\n- 수정된 df에 다시 시각화를 하면\n\nggplot(data=df.eval('Potential2 = Potential - Overall'))\\\n+ geom_point(aes(x='Overall',y='Potential2'),alpha=0.01)\n\n\n\n\n\nggplot(data=df.eval('Potential2 = Potential - Overall'))\\\n+ geom_point(aes(x='Overall',y='Potential2'),alpha=0.05,position='jitter')\n\n# position='jitter' 흩뿌려진 점\n\n\n\n\n- 해석\n\n해석1: Overall, Potential2는 음의 상관관계가 있다.\n해석2: 0근처에 데이터가 많음.. 이미 은퇴한 선수들이 아닐까?\n해석3: Overall의 값이 작을수록 Potential2의 분산이 크다.\n\n- 은퇴한 선수들을 제외하고 시각화\n\nggplot(data=df.eval('Potential2 = Potential - Overall').query('Potential2 &gt; 1'))\\\n+ geom_point(aes(x='Overall',y='Potential2'),alpha=0.05,position='jitter')\n\n# .query('Potential2 &gt; 1') : 은퇴선수제외, 0에 몰려있는 데이터 제외\n\n\n\n\n- Overall에 따라서 구간을 나누고 그 구간에 대응하는 boxplot을 그리자\n\ndf.eval('Potential2 = Potential - Overall').query('Potential2 &gt; 1')\\\n.Overall.describe()\n\ncount    13644.000000\nmean        61.415347\nstd          7.247821\nmin         44.000000\n25%         56.000000\n50%         61.000000\n75%         66.000000\nmax         91.000000\nName: Overall, dtype: float64\n\n\n\ndef f(x):\n    if x&gt;66: \n        y='66&lt;'\n    elif x&gt;61:\n        y='61~66'\n    elif x&gt;56:\n        y='56~61'\n    else:\n        y='&lt;56' \n    return y\n\n\nggplot(data=df.eval('Potential2 = Potential - Overall').query('Potential2 &gt; 1')\\\n.assign(Overall_grouped= lambda df: list(map(f,df.Overall))))\\\n    + geom_boxplot(aes(x='Overall_grouped',y='Potential2',color='Overall_grouped'))\n\nNameError: name 'f' is not defined\n\n\n\nOverall_grouped = “&lt;56” 에 대응하는 점들을 모두 뽑아서 mean(Overall)를 계산하고 그 값을 Overall_grouped = “&lt;56”에 대응하는 박스플랏의 x축위치로 설정\nOverall_grouped = “56 ~ 61” 에 대응하는 점들을 모두 뽑아서 mean(Overall)를 계산하고 그 값을 Overall_grouped = “56~61” 에 대응하는 박스플랏의 x축위치로 설정\nOverall_grouped = “61 ~ 66” 에 대응하는 점들을 모두 뽑아서 mean(Overall)를 계산하고 그 값을 Overall_grouped = “61 ~ 66” 에 대응하는 박스플랏의 x축위치로 설정\nOverall_grouped = “66&lt;” 에 대응하는 점들을 모두 뽑아서 mean(Overall)를 계산하고 그 값을 Overall_grouped = “66&lt;” 에 대응하는 박스플랏의 x축위치로 설정\n\n\ndf.eval('Potential2 = Potential - Overall').query('Potential2 &gt; 1')\\\n.assign(Overall_grouped= lambda df: list(map(f,df.Overall)))\\\n.query(\"Overall_grouped == '66&lt;'\").Overall.mean()\n\n71.8127687727423\n\n\n(방법1)\n\ndef g(x):\n    if x=='66&lt;': \n        y= 71.8127687727423\n    elif x=='61~66':\n        y= 63.773918342474104\n    elif x=='56~61':\n        y= 59.155840684309005\n    else:\n        y= 52.87743190661479\n    return y\n\n\ndf.eval('Potential2 = Potential - Overall').query('Potential2 &gt; 1')\\\n.assign(Overall_grouped= lambda df: list(map(f,df.Overall)))\\\n.assign(Overall_x= lambda df: list(map(g,df.Overall_grouped)))\n\n\n\n\n\n\n\n\nID\nName\nAge\nPhoto\nNationality\nFlag\nOverall\nPotential\nClub\nClub Logo\n...\nLoaned From\nContract Valid Until\nHeight\nWeight\nRelease Clause\nKit Number\nBest Overall Rating\nPotential2\nOverall_grouped\nOverall_x\n\n\n\n\n4\n224232\nN. Barella\n25\nhttps://cdn.sofifa.net/players/224/232/23_60.png\nItaly\nhttps://cdn.sofifa.net/flags/it.png\n86\n89\nInter\nhttps://cdn.sofifa.net/teams/44/30.png\n...\nNaN\n2026\n172cm\n68kg\n€154.4M\n23.0\nNaN\n3\n66&lt;\n71.812769\n\n\n10\n228251\nL. Pellegrini\n26\nhttps://cdn.sofifa.net/players/228/251/23_60.png\nItaly\nhttps://cdn.sofifa.net/flags/it.png\n84\n87\nRoma\nhttps://cdn.sofifa.net/teams/52/30.png\n...\nNaN\n2026\n186cm\n77kg\n€97.6M\n7.0\nNaN\n3\n66&lt;\n71.812769\n\n\n13\n225193\nMerino\n26\nhttps://cdn.sofifa.net/players/225/193/23_60.png\nSpain\nhttps://cdn.sofifa.net/flags/es.png\n83\n86\nReal Sociedad\nhttps://cdn.sofifa.net/teams/457/30.png\n...\nNaN\n2025\n189cm\n83kg\n€102.2M\n8.0\nNaN\n3\n66&lt;\n71.812769\n\n\n17\n228702\nF. de Jong\n25\nhttps://cdn.sofifa.net/players/228/702/23_60.png\nNetherlands\nhttps://cdn.sofifa.net/flags/nl.png\n87\n92\nFC Barcelona\nhttps://cdn.sofifa.net/teams/241/30.png\n...\nNaN\n2026\n180cm\n74kg\n€247.6M\n21.0\nNaN\n5\n66&lt;\n71.812769\n\n\n21\n231281\nT. Alexander-Arnold\n23\nhttps://cdn.sofifa.net/players/231/281/23_60.png\nEngland\nhttps://cdn.sofifa.net/flags/gb-eng.png\n87\n90\nLiverpool\nhttps://cdn.sofifa.net/teams/9/30.png\n...\nNaN\n2025\n180cm\n69kg\n€193.5M\n66.0\nNaN\n3\n66&lt;\n71.812769\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n17655\n269526\nDeng Xiongtao\n19\nhttps://cdn.sofifa.net/players/269/526/23_60.png\nChina PR\nhttps://cdn.sofifa.net/flags/cn.png\n48\n61\nMeizhou Hakka\nhttps://cdn.sofifa.net/teams/114628/30.png\n...\nNaN\n2027\n190cm\n78kg\n€218K\n35.0\nNaN\n13\n&lt;56\n52.877432\n\n\n17656\n267946\n22 Lim Jun Sub\n17\nhttps://cdn.sofifa.net/players/267/946/22_60.png\nKorea Republic\nhttps://cdn.sofifa.net/flags/kr.png\n48\n64\nJeju United FC\nhttps://cdn.sofifa.net/teams/1478/30.png\n...\nNaN\n2026\n195cm\n84kg\n€188K\n21.0\nNaN\n16\n&lt;56\n52.877432\n\n\n17657\n270567\nA. Demir\n25\nhttps://cdn.sofifa.net/players/270/567/23_60.png\nTurkey\nhttps://cdn.sofifa.net/flags/tr.png\n51\n56\nÜmraniyespor\nhttps://cdn.sofifa.net/teams/113796/30.png\n...\nNaN\n2023\n190cm\n82kg\n€142K\n12.0\nNaN\n5\n&lt;56\n52.877432\n\n\n17658\n256624\n21 S. Czajor\n18\nhttps://cdn.sofifa.net/players/256/624/21_60.png\nPoland\nhttps://cdn.sofifa.net/flags/pl.png\n50\n65\nFleetwood Town\nhttps://cdn.sofifa.net/teams/112260/30.png\n...\nNaN\n2021\n187cm\n79kg\n€214K\n40.0\nNaN\n15\n&lt;56\n52.877432\n\n\n17659\n256376\n21 F. Jakobsson\n20\nhttps://cdn.sofifa.net/players/256/376/21_60.png\nSweden\nhttps://cdn.sofifa.net/flags/se.png\n50\n61\nIFK Norrköping\nhttps://cdn.sofifa.net/teams/702/30.png\n...\nNaN\n2021\n186cm\n78kg\n€131K\n30.0\nNaN\n11\n&lt;56\n52.877432\n\n\n\n\n13644 rows × 32 columns\n\n\n\n\ndf2=df.eval('Potential2 = Potential - Overall').query('Potential2 &gt; 1')\\\n.assign(Overall_grouped= lambda df: list(map(f,df.Overall)))\\\n.assign(Overall_x= lambda df: list(map(g,df.Overall_grouped)))\n\n\nggplot(data=df2)\\\n+geom_point(aes(x='Overall',y='Potential2',color='Overall_grouped'),position='jitter',alpha=0.05)\\\n+geom_boxplot(aes(x='Overall_x',y='Potential2',color='Overall_grouped'))\n\n(방법2)\n\n_df = df.eval('Potential2 = Potential - Overall').query('Potential2 &gt; 1')\\\n.assign(Overall_grouped= lambda df: list(map(f,df.Overall)))\n\n\ndf3=_df.groupby(by=\"Overall_grouped\").agg({'Overall':np.mean}).reset_index()\\\n.rename(columns={'Overall':'Overall_x'}).merge(_df)\n\n\nggplot(data=df3)\\\n+geom_point(aes(x='Overall',y='Potential2',color='Overall_grouped'),position='jitter',alpha=0.05)\\\n+geom_boxplot(aes(x='Overall_x',y='Potential2',color='Overall_grouped'))\n\n\ndf3.head()\n\n\n\n\n\n\n\n\nOverall_grouped\nOverall_x\nID\nName\nAge\nPhoto\nNationality\nFlag\nOverall\nPotential\n...\nPosition\nJoined\nLoaned From\nContract Valid Until\nHeight\nWeight\nRelease Clause\nKit Number\nBest Overall Rating\nPotential2\n\n\n\n\n0\n56~61\n59.155841\n227288\nJ. Flores\n26\nhttps://cdn.sofifa.net/players/227/288/23_60.png\nEngland\nhttps://cdn.sofifa.net/flags/gb-eng.png\n61\n64\n...\n&lt;span class=\"pos pos9\"&gt;RDM\nJan 31, 2022\nNaN\n2024\n180cm\n75kg\n€609K\n21.0\nNaN\n3\n\n\n1\n56~61\n59.155841\n270916\nA. Smrcka\n19\nhttps://cdn.sofifa.net/players/270/916/23_60.png\nAustria\nhttps://cdn.sofifa.net/flags/at.png\n60\n70\n...\n&lt;span class=\"pos pos29\"&gt;RES\nJul 1, 2022\nNaN\n2025\n177cm\n72kg\n€866K\n43.0\nNaN\n10\n\n\n2\n56~61\n59.155841\n246789\nA. Smith\n23\nhttps://cdn.sofifa.net/players/246/789/23_60.png\nEngland\nhttps://cdn.sofifa.net/flags/gb-eng.png\n61\n66\n...\n&lt;span class=\"pos pos13\"&gt;RCM\nJul 1, 2021\nNaN\n2023\n185cm\n73kg\n€913K\n8.0\nNaN\n5\n\n\n3\n56~61\n59.155841\n242056\nC. Timmins\n22\nhttps://cdn.sofifa.net/players/242/056/23_60.png\nAustralia\nhttps://cdn.sofifa.net/flags/au.png\n61\n68\n...\n&lt;span class=\"pos pos28\"&gt;SUB\nAug 4, 2022\nNaN\n2023\n182cm\n72kg\n€979K\n15.0\nNaN\n7\n\n\n4\n56~61\n59.155841\n262363\n22 M. Anderson\n20\nhttps://cdn.sofifa.net/players/262/363/22_60.png\nScotland\nhttps://cdn.sofifa.net/flags/gb-sct.png\n61\n71\n...\n&lt;span class=\"pos pos13\"&gt;RCM\nNov 5, 2019\nNaN\n2023\n167cm\n70kg\n€1.4M\n24.0\nNaN\n10\n\n\n\n\n5 rows × 32 columns"
  },
  {
    "objectID": "posts/DV_8(1024).html#flights-data",
    "href": "posts/DV_8(1024).html#flights-data",
    "title": "DV 8주차",
    "section": "flights data",
    "text": "flights data\n\ndf=pd.read_csv('https://raw.githubusercontent.com/PacktPublishing/Pandas-Cookbook/master/data/flights.csv')\ndf.info()\n\n&lt;class 'pandas.core.frame.DataFrame'&gt;\nRangeIndex: 58492 entries, 0 to 58491\nData columns (total 14 columns):\n #   Column     Non-Null Count  Dtype  \n---  ------     --------------  -----  \n 0   MONTH      58492 non-null  int64  \n 1   DAY        58492 non-null  int64  \n 2   WEEKDAY    58492 non-null  int64  \n 3   AIRLINE    58492 non-null  object \n 4   ORG_AIR    58492 non-null  object \n 5   DEST_AIR   58492 non-null  object \n 6   SCHED_DEP  58492 non-null  int64  \n 7   DEP_DELAY  57659 non-null  float64\n 8   AIR_TIME   57474 non-null  float64\n 9   DIST       58492 non-null  int64  \n 10  SCHED_ARR  58492 non-null  int64  \n 11  ARR_DELAY  57474 non-null  float64\n 12  DIVERTED   58492 non-null  int64  \n 13  CANCELLED  58492 non-null  int64  \ndtypes: float64(3), int64(8), object(3)\nmemory usage: 6.2+ MB\n\n\n\ndf[['ARR_DELAY','CANCELLED']]\n\n\n\n\n\n\n\n\nARR_DELAY\nCANCELLED\n\n\n\n\n0\n65.0\n0\n\n\n1\n-13.0\n0\n\n\n2\n35.0\n0\n\n\n3\n-7.0\n0\n\n\n4\n39.0\n0\n\n\n...\n...\n...\n\n\n58487\n-19.0\n0\n\n\n58488\n4.0\n0\n\n\n58489\n-5.0\n0\n\n\n58490\n34.0\n0\n\n\n58491\n-1.0\n0\n\n\n\n\n58492 rows × 2 columns"
  },
  {
    "objectID": "posts/DV_8(1024).html#get_groups",
    "href": "posts/DV_8(1024).html#get_groups",
    "title": "DV 8주차",
    "section": "get_groups",
    "text": "get_groups\n- groupby\n\n데이터프레임을 여러개의 서브데이터프레임으로 나누는 기준\n단독으로 쓸 이유는 별로 없다. \\(\\to\\) 그룹을 나누고 그룹을 어떠한 “변수”에 “연산”을 하기 위함이다.\n\n\ndf['AIRLINE'].unique()\n\narray(['WN', 'UA', 'MQ', 'AA', 'F9', 'EV', 'OO', 'NK', 'US', 'AS', 'DL',\n       'VX', 'B6', 'HA'], dtype=object)\n\n\n\ndf.groupby(by='AIRLINE')\n\n&lt;pandas.core.groupby.generic.DataFrameGroupBy object at 0x7f58e3f69090&gt;\n\n\n\n지금 이것은 항공사별로 데이터프레임이 나누어진 상태\n\n- sub dataframe으로 나누어져 있는지 확인\n\ngrouped = df.groupby(by='AIRLINE')\ngrouped.groups.keys()\n\ndict_keys(['AA', 'AS', 'B6', 'DL', 'EV', 'F9', 'HA', 'MQ', 'NK', 'OO', 'UA', 'US', 'VX', 'WN'])\n\n\n\ngrouped.get_group('AS')\n\n\n\n\n\n\n\n\nMONTH\nDAY\nWEEKDAY\nAIRLINE\nORG_AIR\nDEST_AIR\nSCHED_DEP\nDEP_DELAY\nAIR_TIME\nDIST\nSCHED_ARR\nARR_DELAY\nDIVERTED\nCANCELLED\n\n\n\n\n38\n1\n1\n4\nAS\nPHX\nSEA\n1505\n-2.0\n155.0\n1107\n1702\n-3.0\n0\n0\n\n\n198\n1\n2\n5\nAS\nLAX\nSEA\n2110\n5.0\n145.0\n954\n2352\n8.0\n0\n0\n\n\n241\n1\n2\n5\nAS\nLAS\nPDX\n650\n-5.0\n117.0\n763\n906\n-3.0\n0\n0\n\n\n277\n1\n2\n5\nAS\nORD\nANC\n935\n-1.0\n402.0\n2846\n1339\n-6.0\n0\n0\n\n\n397\n1\n3\n6\nAS\nLAS\nSEA\n1300\n48.0\n137.0\n867\n1535\n47.0\n0\n0\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n58305\n12\n30\n3\nAS\nLAX\nSEA\n1325\n-2.0\n134.0\n954\n1608\n-7.0\n0\n0\n\n\n58355\n12\n31\n4\nAS\nPHX\nSEA\n1200\n-5.0\n145.0\n1107\n1407\n-24.0\n0\n0\n\n\n58404\n12\n31\n4\nAS\nSFO\nSLC\n2110\n-2.0\n80.0\n599\n2358\n-4.0\n0\n0\n\n\n58407\n12\n31\n4\nAS\nSFO\nPDX\n645\n-2.0\n81.0\n550\n832\n-3.0\n0\n0\n\n\n58428\n12\n31\n4\nAS\nLAX\nSEA\n1420\n-8.0\n127.0\n954\n1709\n-25.0\n0\n0\n\n\n\n\n768 rows × 14 columns\n\n\n\n\n#collapse_output\nfor key in grouped.groups.keys():\n    display(grouped.get_group(key))\n\n\n\n\n\n\n\n\nMONTH\nDAY\nWEEKDAY\nAIRLINE\nORG_AIR\nDEST_AIR\nSCHED_DEP\nDEP_DELAY\nAIR_TIME\nDIST\nSCHED_ARR\nARR_DELAY\nDIVERTED\nCANCELLED\n\n\n\n\n3\n1\n1\n4\nAA\nDFW\nDCA\n1555\n7.0\n126.0\n1192\n1935\n-7.0\n0\n0\n\n\n6\n1\n1\n4\nAA\nDFW\nMSY\n1250\n84.0\n64.0\n447\n1410\n83.0\n0\n0\n\n\n8\n1\n1\n4\nAA\nORD\nSTL\n1845\n-5.0\n44.0\n258\n1950\n-5.0\n0\n0\n\n\n15\n1\n1\n4\nAA\nDEN\nDFW\n1445\n-6.0\n93.0\n641\n1745\n4.0\n0\n0\n\n\n26\n1\n1\n4\nAA\nLAX\nAUS\n1430\n33.0\n157.0\n1242\n1925\n41.0\n0\n0\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n58470\n12\n31\n4\nAA\nDFW\nFAT\n1020\n-3.0\n196.0\n1313\n1156\n-2.0\n0\n0\n\n\n58475\n12\n31\n4\nAA\nIAH\nCLT\n710\n1.0\n113.0\n912\n1037\n-12.0\n0\n0\n\n\n58476\n12\n31\n4\nAA\nDFW\nTPA\n1020\n-3.0\n121.0\n929\n1340\n-6.0\n0\n0\n\n\n58479\n12\n31\n4\nAA\nDFW\nELP\n1200\n3.0\n94.0\n551\n1250\n13.0\n0\n0\n\n\n58487\n12\n31\n4\nAA\nSFO\nDFW\n515\n5.0\n166.0\n1464\n1045\n-19.0\n0\n0\n\n\n\n\n8900 rows × 14 columns\n\n\n\n\n\n\n\n\n\n\nMONTH\nDAY\nWEEKDAY\nAIRLINE\nORG_AIR\nDEST_AIR\nSCHED_DEP\nDEP_DELAY\nAIR_TIME\nDIST\nSCHED_ARR\nARR_DELAY\nDIVERTED\nCANCELLED\n\n\n\n\n38\n1\n1\n4\nAS\nPHX\nSEA\n1505\n-2.0\n155.0\n1107\n1702\n-3.0\n0\n0\n\n\n198\n1\n2\n5\nAS\nLAX\nSEA\n2110\n5.0\n145.0\n954\n2352\n8.0\n0\n0\n\n\n241\n1\n2\n5\nAS\nLAS\nPDX\n650\n-5.0\n117.0\n763\n906\n-3.0\n0\n0\n\n\n277\n1\n2\n5\nAS\nORD\nANC\n935\n-1.0\n402.0\n2846\n1339\n-6.0\n0\n0\n\n\n397\n1\n3\n6\nAS\nLAS\nSEA\n1300\n48.0\n137.0\n867\n1535\n47.0\n0\n0\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n58305\n12\n30\n3\nAS\nLAX\nSEA\n1325\n-2.0\n134.0\n954\n1608\n-7.0\n0\n0\n\n\n58355\n12\n31\n4\nAS\nPHX\nSEA\n1200\n-5.0\n145.0\n1107\n1407\n-24.0\n0\n0\n\n\n58404\n12\n31\n4\nAS\nSFO\nSLC\n2110\n-2.0\n80.0\n599\n2358\n-4.0\n0\n0\n\n\n58407\n12\n31\n4\nAS\nSFO\nPDX\n645\n-2.0\n81.0\n550\n832\n-3.0\n0\n0\n\n\n58428\n12\n31\n4\nAS\nLAX\nSEA\n1420\n-8.0\n127.0\n954\n1709\n-25.0\n0\n0\n\n\n\n\n768 rows × 14 columns\n\n\n\n\n\n\n\n\n\n\nMONTH\nDAY\nWEEKDAY\nAIRLINE\nORG_AIR\nDEST_AIR\nSCHED_DEP\nDEP_DELAY\nAIR_TIME\nDIST\nSCHED_ARR\nARR_DELAY\nDIVERTED\nCANCELLED\n\n\n\n\n123\n1\n1\n4\nB6\nLAS\nBOS\n1230\n0.0\n246.0\n2381\n2026\n-27.0\n0\n0\n\n\n127\n1\n1\n4\nB6\nLAS\nBOS\n2359\n68.0\n247.0\n2381\n749\n46.0\n0\n0\n\n\n239\n1\n2\n5\nB6\nORD\nBOS\n540\n-8.0\n96.0\n867\n856\n-22.0\n0\n0\n\n\n333\n1\n3\n6\nB6\nLAX\nFLL\n2237\n32.0\n270.0\n2342\n619\n42.0\n0\n0\n\n\n548\n1\n4\n7\nB6\nSFO\nFLL\n2307\n-4.0\n298.0\n2583\n724\n-1.0\n0\n0\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n58262\n12\n30\n3\nB6\nSFO\nLGB\n1921\n-6.0\n57.0\n354\n2038\n-14.0\n0\n0\n\n\n58301\n12\n30\n3\nB6\nLAX\nJFK\n630\n4.0\n285.0\n2475\n1445\n-6.0\n0\n0\n\n\n58425\n12\n31\n4\nB6\nORD\nSJU\n700\n239.0\n250.0\n2072\n1335\n239.0\n0\n0\n\n\n58477\n12\n31\n4\nB6\nDFW\nBOS\n1145\n12.0\n161.0\n1562\n1608\n-14.0\n0\n0\n\n\n58483\n12\n31\n4\nB6\nPHX\nBOS\n2236\n-12.0\n231.0\n2300\n515\n-45.0\n0\n0\n\n\n\n\n543 rows × 14 columns\n\n\n\n\n\n\n\n\n\n\nMONTH\nDAY\nWEEKDAY\nAIRLINE\nORG_AIR\nDEST_AIR\nSCHED_DEP\nDEP_DELAY\nAIR_TIME\nDIST\nSCHED_ARR\nARR_DELAY\nDIVERTED\nCANCELLED\n\n\n\n\n53\n1\n1\n4\nDL\nLAS\nMSP\n713\n-5.0\n156.0\n1299\n1220\n-18.0\n0\n0\n\n\n57\n1\n1\n4\nDL\nMSP\nRSW\n700\n-1.0\n169.0\n1416\n1130\n-20.0\n0\n0\n\n\n77\n1\n1\n4\nDL\nLAX\nATL\n1130\n24.0\n217.0\n1947\n1840\n16.0\n0\n0\n\n\n79\n1\n1\n4\nDL\nLAX\nCMH\n2146\n-3.0\n223.0\n1995\n459\n-13.0\n0\n0\n\n\n85\n1\n1\n4\nDL\nATL\nOKC\n2059\n-4.0\n116.0\n761\n2227\n-12.0\n0\n0\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n58440\n12\n31\n4\nDL\nATL\nCVG\n1611\n-4.0\n61.0\n373\n1736\n-6.0\n0\n0\n\n\n58448\n12\n31\n4\nDL\nATL\nSRQ\n1610\n0.0\n61.0\n444\n1740\n-13.0\n0\n0\n\n\n58464\n12\n31\n4\nDL\nLAX\nSFO\n700\n108.0\n54.0\n337\n825\n105.0\n0\n0\n\n\n58467\n12\n31\n4\nDL\nATL\nIND\n1235\n-3.0\n63.0\n432\n1407\n-13.0\n0\n0\n\n\n58485\n12\n31\n4\nDL\nATL\nCMH\n2206\n2.0\n64.0\n447\n2338\n-8.0\n0\n0\n\n\n\n\n10601 rows × 14 columns\n\n\n\n\n\n\n\n\n\n\nMONTH\nDAY\nWEEKDAY\nAIRLINE\nORG_AIR\nDEST_AIR\nSCHED_DEP\nDEP_DELAY\nAIR_TIME\nDIST\nSCHED_ARR\nARR_DELAY\nDIVERTED\nCANCELLED\n\n\n\n\n11\n1\n1\n4\nEV\nORD\nJAN\n1155\n6.0\n113.0\n677\n1403\n5.0\n0\n0\n\n\n13\n1\n1\n4\nEV\nORD\nCMH\n1010\n-2.0\n46.0\n296\n1228\n-9.0\n0\n0\n\n\n29\n1\n1\n4\nEV\nORD\nIND\n1025\n-6.0\n29.0\n177\n1228\n-19.0\n0\n0\n\n\n40\n1\n1\n4\nEV\nIAH\nCLE\n1038\n-3.0\n126.0\n1091\n1425\n-18.0\n0\n0\n\n\n69\n1\n1\n4\nEV\nATL\nRAP\n1930\n-5.0\n181.0\n1230\n2104\n-15.0\n0\n0\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n58445\n12\n31\n4\nEV\nDFW\nTXK\n850\n-5.0\n30.0\n181\n948\n-17.0\n0\n0\n\n\n58452\n12\n31\n4\nEV\nDFW\nSHV\n1650\n-4.0\n32.0\n190\n1746\n-12.0\n0\n0\n\n\n58459\n12\n31\n4\nEV\nMSP\nORD\n1435\n18.0\n61.0\n334\n1609\n3.0\n0\n0\n\n\n58463\n12\n31\n4\nEV\nORD\nMSN\n1220\n18.0\n32.0\n108\n1319\n27.0\n0\n0\n\n\n58486\n12\n31\n4\nEV\nDFW\nLFT\n850\n21.0\n52.0\n351\n1012\n14.0\n0\n0\n\n\n\n\n5858 rows × 14 columns\n\n\n\n\n\n\n\n\n\n\nMONTH\nDAY\nWEEKDAY\nAIRLINE\nORG_AIR\nDEST_AIR\nSCHED_DEP\nDEP_DELAY\nAIR_TIME\nDIST\nSCHED_ARR\nARR_DELAY\nDIVERTED\nCANCELLED\n\n\n\n\n7\n1\n1\n4\nF9\nSFO\nPHX\n1020\n-7.0\n91.0\n651\n1315\n-6.0\n0\n0\n\n\n93\n1\n1\n4\nF9\nATL\nDEN\n859\n16.0\n181.0\n1199\n1026\n10.0\n0\n0\n\n\n209\n1\n2\n5\nF9\nMSP\nDEN\n1025\n-6.0\n97.0\n680\n1134\n-13.0\n0\n0\n\n\n232\n1\n2\n5\nF9\nDEN\nPHX\n2040\n-7.0\n83.0\n602\n2228\n-18.0\n0\n0\n\n\n247\n1\n2\n5\nF9\nORD\nATL\n730\n10.0\n86.0\n606\n1020\n23.0\n0\n0\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n58288\n12\n30\n3\nF9\nDEN\nORD\n625\n-4.0\n136.0\n888\n1000\n14.0\n0\n0\n\n\n58331\n12\n30\n3\nF9\nORD\nPHX\n825\n18.0\n207.0\n1440\n1127\n14.0\n0\n0\n\n\n58447\n12\n31\n4\nF9\nDEN\nLAS\n1245\n13.0\n94.0\n628\n1340\n13.0\n0\n0\n\n\n58449\n12\n31\n4\nF9\nDEN\nMCO\n645\n11.0\n169.0\n1546\n1224\n-11.0\n0\n0\n\n\n58488\n12\n31\n4\nF9\nLAS\nSFO\n1910\n13.0\n71.0\n414\n2050\n4.0\n0\n0\n\n\n\n\n1317 rows × 14 columns\n\n\n\n\n\n\n\n\n\n\nMONTH\nDAY\nWEEKDAY\nAIRLINE\nORG_AIR\nDEST_AIR\nSCHED_DEP\nDEP_DELAY\nAIR_TIME\nDIST\nSCHED_ARR\nARR_DELAY\nDIVERTED\nCANCELLED\n\n\n\n\n582\n1\n4\n7\nHA\nLAX\nOGG\n1115\n-11.0\n310.0\n2486\n1500\n-27.0\n0\n0\n\n\n712\n1\n5\n1\nHA\nLAS\nHNL\n900\n-5.0\n357.0\n2762\n1315\n5.0\n0\n0\n\n\n878\n1\n6\n2\nHA\nPHX\nHNL\n800\n1.0\n374.0\n2917\n1140\n3.0\n0\n0\n\n\n1053\n1\n7\n3\nHA\nLAX\nHNL\n1705\n0.0\n332.0\n2556\n2055\n-2.0\n0\n0\n\n\n1269\n1\n8\n4\nHA\nLAX\nHNL\n1000\n-1.0\n335.0\n2556\n1350\n0.0\n0\n0\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n55883\n12\n16\n3\nHA\nLAX\nHNL\n835\n1.0\n314.0\n2556\n1235\n-18.0\n0\n0\n\n\n56174\n12\n18\n5\nHA\nLAX\nHNL\n835\n-5.0\n342.0\n2556\n1235\n-4.0\n0\n0\n\n\n56350\n12\n19\n6\nHA\nPHX\nHNL\n800\n-5.0\n363.0\n2917\n1155\n-34.0\n0\n0\n\n\n56816\n12\n21\n1\nHA\nLAX\nLIH\n740\n20.0\n303.0\n2615\n1145\n-11.0\n0\n0\n\n\n58391\n12\n31\n4\nHA\nLAX\nHNL\n1000\n0.0\n324.0\n2556\n1350\n-9.0\n0\n0\n\n\n\n\n112 rows × 14 columns\n\n\n\n\n\n\n\n\n\n\nMONTH\nDAY\nWEEKDAY\nAIRLINE\nORG_AIR\nDEST_AIR\nSCHED_DEP\nDEP_DELAY\nAIR_TIME\nDIST\nSCHED_ARR\nARR_DELAY\nDIVERTED\nCANCELLED\n\n\n\n\n2\n1\n1\n4\nMQ\nDFW\nVPS\n1305\n36.0\n85.0\n641\n1453\n35.0\n0\n0\n\n\n10\n1\n1\n4\nMQ\nDFW\nDRO\n1335\n28.0\n104.0\n674\n1438\n28.0\n0\n0\n\n\n18\n1\n1\n4\nMQ\nORD\nDAY\n2220\n19.0\n37.0\n240\n23\n20.0\n0\n0\n\n\n24\n1\n1\n4\nMQ\nDFW\nBTR\n730\nNaN\nNaN\n383\n853\nNaN\n0\n1\n\n\n50\n1\n1\n4\nMQ\nORD\nCID\n1135\n-7.0\n37.0\n196\n1238\n-15.0\n0\n0\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n58415\n12\n31\n4\nMQ\nORD\nFWA\n845\n-2.0\n37.0\n157\n1045\n-4.0\n0\n0\n\n\n58426\n12\n31\n4\nMQ\nDFW\nFAR\n1154\n4.0\n124.0\n968\n1437\n-13.0\n0\n0\n\n\n58468\n12\n31\n4\nMQ\nDFW\nOKC\n1720\n-3.0\n31.0\n175\n1819\n-10.0\n0\n0\n\n\n58474\n12\n31\n4\nMQ\nORD\nFNT\n829\n4.0\n40.0\n223\n1034\n-4.0\n0\n0\n\n\n58484\n12\n31\n4\nMQ\nORD\nDSM\n1333\n1.0\n57.0\n299\n1455\n-7.0\n0\n0\n\n\n\n\n3471 rows × 14 columns\n\n\n\n\n\n\n\n\n\n\nMONTH\nDAY\nWEEKDAY\nAIRLINE\nORG_AIR\nDEST_AIR\nSCHED_DEP\nDEP_DELAY\nAIR_TIME\nDIST\nSCHED_ARR\nARR_DELAY\nDIVERTED\nCANCELLED\n\n\n\n\n17\n1\n1\n4\nNK\nDEN\nDTW\n1952\n37.0\n124.0\n1123\n31\n54.0\n0\n0\n\n\n74\n1\n1\n4\nNK\nPHX\nDFW\n159\n-1.0\n103.0\n868\n502\n1.0\n0\n0\n\n\n95\n1\n1\n4\nNK\nLAS\nOAK\n1115\n22.0\n62.0\n407\n1246\n10.0\n0\n0\n\n\n109\n1\n1\n4\nNK\nMSP\nORD\n616\n2.0\n49.0\n334\n745\n-19.0\n0\n0\n\n\n166\n1\n2\n5\nNK\nLAS\nPDX\n1535\n-8.0\n123.0\n763\n1754\n-4.0\n0\n0\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n58160\n12\n29\n2\nNK\nMSP\nMCO\n740\n0.0\n171.0\n1310\n1158\n33.0\n0\n0\n\n\n58197\n12\n30\n3\nNK\nIAH\nORD\n755\n-8.0\n136.0\n925\n1030\n-2.0\n0\n0\n\n\n58437\n12\n31\n4\nNK\nORD\nDFW\n1952\n15.0\n135.0\n802\n2225\n23.0\n0\n0\n\n\n58461\n12\n31\n4\nNK\nORD\nLGA\n1801\n-5.0\n84.0\n733\n2109\n-26.0\n0\n0\n\n\n58469\n12\n31\n4\nNK\nLAS\nMSY\n1950\n124.0\n163.0\n1500\n112\n101.0\n0\n0\n\n\n\n\n1516 rows × 14 columns\n\n\n\n\n\n\n\n\n\n\nMONTH\nDAY\nWEEKDAY\nAIRLINE\nORG_AIR\nDEST_AIR\nSCHED_DEP\nDEP_DELAY\nAIR_TIME\nDIST\nSCHED_ARR\nARR_DELAY\nDIVERTED\nCANCELLED\n\n\n\n\n12\n1\n1\n4\nOO\nORD\nMSP\n1510\n2.0\n65.0\n334\n1646\n4.0\n0\n0\n\n\n16\n1\n1\n4\nOO\nDEN\nSGU\n1105\n21.0\n66.0\n517\n1249\n20.0\n0\n0\n\n\n22\n1\n1\n4\nOO\nLAS\nLAX\n1544\n-4.0\n39.0\n236\n1655\n-12.0\n0\n0\n\n\n25\n1\n1\n4\nOO\nORD\nSPI\n2110\n-4.0\n31.0\n174\n2205\n5.0\n0\n0\n\n\n27\n1\n1\n4\nOO\nIAH\nJAC\n1104\n-1.0\n161.0\n1265\n1316\n-1.0\n0\n0\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n58451\n12\n31\n4\nOO\nATL\nFWA\n1905\n-3.0\n72.0\n508\n2051\n-14.0\n0\n0\n\n\n58480\n12\n31\n4\nOO\nMSP\nBIS\n1310\n-2.0\n65.0\n386\n1449\n-9.0\n0\n0\n\n\n58482\n12\n31\n4\nOO\nDEN\nCPR\n1850\n-2.0\n38.0\n230\n1956\n1.0\n0\n0\n\n\n58489\n12\n31\n4\nOO\nSFO\nSBA\n1846\n-6.0\n46.0\n262\n1956\n-5.0\n0\n0\n\n\n58491\n12\n31\n4\nOO\nSFO\nBOI\n859\n5.0\n73.0\n522\n1146\n-1.0\n0\n0\n\n\n\n\n6588 rows × 14 columns\n\n\n\n\n\n\n\n\n\n\nMONTH\nDAY\nWEEKDAY\nAIRLINE\nORG_AIR\nDEST_AIR\nSCHED_DEP\nDEP_DELAY\nAIR_TIME\nDIST\nSCHED_ARR\nARR_DELAY\nDIVERTED\nCANCELLED\n\n\n\n\n1\n1\n1\n4\nUA\nDEN\nIAD\n823\n7.0\n154.0\n1452\n1333\n-13.0\n0\n0\n\n\n5\n1\n1\n4\nUA\nIAH\nSAN\n1450\n1.0\n178.0\n1303\n1620\n-14.0\n0\n0\n\n\n9\n1\n1\n4\nUA\nIAH\nSJC\n925\n3.0\n215.0\n1608\n1136\n-14.0\n0\n0\n\n\n14\n1\n1\n4\nUA\nIAH\nIND\n1426\n-1.0\n102.0\n844\n1742\n-20.0\n0\n0\n\n\n21\n1\n1\n4\nUA\nORD\nCLE\n2102\n48.0\n47.0\n315\n2320\n41.0\n0\n0\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n58422\n12\n31\n4\nUA\nDEN\nSAN\n1535\n0.0\n124.0\n853\n1704\n-13.0\n0\n0\n\n\n58432\n12\n31\n4\nUA\nORD\nSAN\n1915\n7.0\n238.0\n1723\n2143\n-3.0\n0\n0\n\n\n58457\n12\n31\n4\nUA\nORD\nLAX\n659\n-1.0\n241.0\n1744\n946\n0.0\n0\n0\n\n\n58460\n12\n31\n4\nUA\nSFO\nPHL\n2235\n-6.0\n265.0\n2521\n700\n-42.0\n0\n0\n\n\n58481\n12\n31\n4\nUA\nIAH\nLAX\n1433\n1.0\n197.0\n1379\n1625\n-13.0\n0\n0\n\n\n\n\n7792 rows × 14 columns\n\n\n\n\n\n\n\n\n\n\nMONTH\nDAY\nWEEKDAY\nAIRLINE\nORG_AIR\nDEST_AIR\nSCHED_DEP\nDEP_DELAY\nAIR_TIME\nDIST\nSCHED_ARR\nARR_DELAY\nDIVERTED\nCANCELLED\n\n\n\n\n31\n1\n1\n4\nUS\nPHX\nDEN\n1810\n29.0\n94.0\n602\n1954\n49.0\n0\n0\n\n\n35\n1\n1\n4\nUS\nORD\nPHL\n1600\n-2.0\n80.0\n678\n1857\n-9.0\n0\n0\n\n\n49\n1\n1\n4\nUS\nIAH\nPHX\n1445\n-1.0\n147.0\n1009\n1638\n-7.0\n0\n0\n\n\n96\n1\n1\n4\nUS\nATL\nPHL\n1445\n-4.0\n90.0\n666\n1644\n-11.0\n0\n0\n\n\n104\n1\n1\n4\nUS\nMSP\nPHX\n730\n-3.0\n174.0\n1276\n1010\n-20.0\n0\n0\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n31514\n6\n30\n2\nUS\nDEN\nPHL\n705\n-4.0\n188.0\n1558\n1240\n1.0\n0\n0\n\n\n31523\n6\n30\n2\nUS\nPHX\nDEN\n1451\n6.0\n85.0\n602\n1738\n7.0\n0\n0\n\n\n31535\n6\n30\n2\nUS\nPHX\nAUS\n840\n-3.0\n116.0\n872\n1304\n-11.0\n0\n0\n\n\n31561\n6\n30\n2\nUS\nORD\nPHX\n710\n-5.0\n170.0\n1440\n901\n-50.0\n0\n0\n\n\n31582\n6\n30\n2\nUS\nPHX\nOGG\n800\n-4.0\n356.0\n2845\n1127\n-13.0\n0\n0\n\n\n\n\n1615 rows × 14 columns\n\n\n\n\n\n\n\n\n\n\nMONTH\nDAY\nWEEKDAY\nAIRLINE\nORG_AIR\nDEST_AIR\nSCHED_DEP\nDEP_DELAY\nAIR_TIME\nDIST\nSCHED_ARR\nARR_DELAY\nDIVERTED\nCANCELLED\n\n\n\n\n56\n1\n1\n4\nVX\nLAS\nSFO\n900\n23.0\n65.0\n414\n1035\n11.0\n0\n0\n\n\n227\n1\n2\n5\nVX\nSFO\nLAS\n1220\n-5.0\n68.0\n414\n1350\n-5.0\n0\n0\n\n\n243\n1\n2\n5\nVX\nSFO\nSEA\n700\n-4.0\n104.0\n679\n905\n-1.0\n0\n0\n\n\n417\n1\n3\n6\nVX\nSFO\nLAS\n900\n-2.0\n62.0\n414\n1030\n-11.0\n0\n0\n\n\n432\n1\n3\n6\nVX\nSFO\nSEA\n2035\n-2.0\n106.0\n679\n2240\n-2.0\n0\n0\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n58332\n12\n30\n3\nVX\nSFO\nLAS\n1950\n-3.0\n58.0\n414\n2120\n-4.0\n0\n0\n\n\n58383\n12\n31\n4\nVX\nSFO\nPSP\n1630\n-7.0\n65.0\n421\n1755\n-12.0\n0\n0\n\n\n58400\n12\n31\n4\nVX\nSFO\nLAX\n1125\n-4.0\n54.0\n337\n1245\n-10.0\n0\n0\n\n\n58471\n12\n31\n4\nVX\nSFO\nLAX\n700\n6.0\n51.0\n337\n820\n3.0\n0\n0\n\n\n58478\n12\n31\n4\nVX\nSFO\nLAX\n1530\n29.0\n52.0\n337\n1650\n22.0\n0\n0\n\n\n\n\n993 rows × 14 columns\n\n\n\n\n\n\n\n\n\n\nMONTH\nDAY\nWEEKDAY\nAIRLINE\nORG_AIR\nDEST_AIR\nSCHED_DEP\nDEP_DELAY\nAIR_TIME\nDIST\nSCHED_ARR\nARR_DELAY\nDIVERTED\nCANCELLED\n\n\n\n\n0\n1\n1\n4\nWN\nLAX\nSLC\n1625\n58.0\n94.0\n590\n1905\n65.0\n0\n0\n\n\n4\n1\n1\n4\nWN\nLAX\nMCI\n1720\n48.0\n166.0\n1363\n2225\n39.0\n0\n0\n\n\n19\n1\n1\n4\nWN\nPHX\nLAX\n1640\n51.0\n58.0\n370\n1700\n59.0\n0\n0\n\n\n20\n1\n1\n4\nWN\nATL\nBWI\n1115\n1.0\n76.0\n577\n1305\n-15.0\n0\n0\n\n\n23\n1\n1\n4\nWN\nATL\nHOU\n1555\n30.0\n113.0\n696\n1720\n18.0\n0\n0\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n58455\n12\n31\n4\nWN\nLAX\nSMF\n1420\n-2.0\n64.0\n373\n1540\n-7.0\n0\n0\n\n\n58458\n12\n31\n4\nWN\nLAS\nSFO\n1825\n25.0\n67.0\n414\n1955\n17.0\n0\n0\n\n\n58472\n12\n31\n4\nWN\nPHX\nHOU\n845\n5.0\n119.0\n1020\n1210\n7.0\n0\n0\n\n\n58473\n12\n31\n4\nWN\nDEN\nPDX\n1205\n4.0\n130.0\n991\n1400\n-13.0\n0\n0\n\n\n58490\n12\n31\n4\nWN\nMSP\nATL\n525\n39.0\n124.0\n907\n855\n34.0\n0\n0\n\n\n\n\n8418 rows × 14 columns"
  },
  {
    "objectID": "posts/DV_8(1024).html#범주형-변수를-기준으로-groupby---agg",
    "href": "posts/DV_8(1024).html#범주형-변수를-기준으로-groupby---agg",
    "title": "DV 8주차",
    "section": "범주형 변수를 기준으로 groupby -> agg",
    "text": "범주형 변수를 기준으로 groupby -&gt; agg\n\nEX1: [AIRLINE] \\(\\to\\) {ARR_DELAY:mean}\n- 방법1: groupby() \\(\\to\\) .agg({colname: function})\n\ndf.groupby(by=\"AIRLINE\")\n\n&lt;pandas.core.groupby.generic.DataFrameGroupBy object at 0x7f5900e60850&gt;\n\n\n\ndf.AIRLINE.unique().__len__()\n\n14\n\n\n(예시1)\n\ndf.groupby(by=\"AIRLINE\").agg({'ARR_DELAY':np.mean})\n\n\n\n\n\n\n\n\nARR_DELAY\n\n\nAIRLINE\n\n\n\n\n\nAA\n5.542661\n\n\nAS\n-0.833333\n\n\nB6\n8.692593\n\n\nDL\n0.339691\n\n\nEV\n7.034580\n\n\nF9\n13.630651\n\n\nHA\n4.972973\n\n\nMQ\n6.860591\n\n\nNK\n18.436070\n\n\nOO\n7.593463\n\n\nUA\n7.765755\n\n\nUS\n1.681105\n\n\nVX\n5.348884\n\n\nWN\n6.397353\n\n\n\n\n\n\n\n(예시2)\n\ndf.groupby(by=\"AIRLINE\").agg({'ARR_DELAY':mean})\n\n# numpy로 하지 않고 mean만을 해도 된다\n\n\n\n\n\n\n\n\nARR_DELAY\n\n\nAIRLINE\n\n\n\n\n\nAA\n5.542661\n\n\nAS\n-0.833333\n\n\nB6\n8.692593\n\n\nDL\n0.339691\n\n\nEV\n7.034580\n\n\nF9\n13.630651\n\n\nHA\n4.972973\n\n\nMQ\n6.860591\n\n\nNK\n18.436070\n\n\nOO\n7.593463\n\n\nUA\n7.765755\n\n\nUS\n1.681105\n\n\nVX\n5.348884\n\n\nWN\n6.397353\n\n\n\n\n\n\n\n(실습)\n\ndf.groupby(by=\"AIRLINE\").agg({'ARR_DELAY':std})\n\n\n\n\n\n\n\n\nARR_DELAY\n\n\nAIRLINE\n\n\n\n\n\nAA\n43.323160\n\n\nAS\n31.168354\n\n\nB6\n40.221718\n\n\nDL\n32.299471\n\n\nEV\n36.682336\n\n\nF9\n53.030912\n\n\nHA\n37.528283\n\n\nMQ\n36.324657\n\n\nNK\n48.727259\n\n\nOO\n35.331344\n\n\nUA\n46.405935\n\n\nUS\n27.030227\n\n\nVX\n33.747675\n\n\nWN\n32.610666\n\n\n\n\n\n\n\n\ndf.groupby(by=\"AIRLINE\").agg({'ARR_DELAY':max})\n\n\n\n\n\n\n\n\nARR_DELAY\n\n\nAIRLINE\n\n\n\n\n\nAA\n858.0\n\n\nAS\n344.0\n\n\nB6\n331.0\n\n\nDL\n741.0\n\n\nEV\n669.0\n\n\nF9\n839.0\n\n\nHA\n298.0\n\n\nMQ\n357.0\n\n\nNK\n474.0\n\n\nOO\n724.0\n\n\nUA\n1185.0\n\n\nUS\n431.0\n\n\nVX\n236.0\n\n\nWN\n493.0\n\n\n\n\n\n\n\n- 방법2: groupby() \\(\\to\\) key로 column 선택 \\(\\to\\) .agg(function) or .function()\n(예시1)\n\ndf.groupby(by='AIRLINE')['ARR_DELAY'].agg(np.mean)\n\nAIRLINE\nAA     5.542661\nAS    -0.833333\nB6     8.692593\nDL     0.339691\nEV     7.034580\nF9    13.630651\nHA     4.972973\nMQ     6.860591\nNK    18.436070\nOO     7.593463\nUA     7.765755\nUS     1.681105\nVX     5.348884\nWN     6.397353\nName: ARR_DELAY, dtype: float64\n\n\n(예시2)\n\ndf.groupby(by='AIRLINE')['ARR_DELAY'].agg(mean)\n# mean에 \" \" 들어가도 된다\n\nAIRLINE\nAA     5.542661\nAS    -0.833333\nB6     8.692593\nDL     0.339691\nEV     7.034580\nF9    13.630651\nHA     4.972973\nMQ     6.860591\nNK    18.436070\nOO     7.593463\nUA     7.765755\nUS     1.681105\nVX     5.348884\nWN     6.397353\nName: ARR_DELAY, dtype: float64\n\n\n(예시3)\n\ndf.groupby(by='AIRLINE')['ARR_DELAY'].mean()\n\nAIRLINE\nAA     5.542661\nAS    -0.833333\nB6     8.692593\nDL     0.339691\nEV     7.034580\nF9    13.630651\nHA     4.972973\nMQ     6.860591\nNK    18.436070\nOO     7.593463\nUA     7.765755\nUS     1.681105\nVX     5.348884\nWN     6.397353\nName: ARR_DELAY, dtype: float64\n\n\n\n\nEX2: [AIRLINE, WEEKDAY] \\(\\to\\) {CANCELLED:mean}\n- 방법1\n(예시1)\n\ndf.groupby(by=['AIRLINE', 'WEEKDAY']).agg({'CANCELLED':np.sum})\n# 몇요일에 항공사별로 취소가 많이 되었는지 (sum)\n\n\n\n\n\n\n\n\n\nCANCELLED\n\n\nAIRLINE\nWEEKDAY\n\n\n\n\n\nAA\n1\n41\n\n\n2\n9\n\n\n3\n16\n\n\n4\n20\n\n\n5\n18\n\n\n...\n...\n...\n\n\nWN\n3\n18\n\n\n4\n10\n\n\n5\n7\n\n\n6\n10\n\n\n7\n7\n\n\n\n\n98 rows × 1 columns\n\n\n\n(예시2)\n\ndf.groupby(by=['AIRLINE', 'WEEKDAY']).agg({'CANCELLED':sum})\n\n\n\n\n\n\n\n\n\nCANCELLED\n\n\nAIRLINE\nWEEKDAY\n\n\n\n\n\nAA\n1\n41\n\n\n2\n9\n\n\n3\n16\n\n\n4\n20\n\n\n5\n18\n\n\n...\n...\n...\n\n\nWN\n3\n18\n\n\n4\n10\n\n\n5\n7\n\n\n6\n10\n\n\n7\n7\n\n\n\n\n98 rows × 1 columns\n\n\n\n- 방법2\n(예시1)\n\ndf.groupby(by=['AIRLINE', 'WEEKDAY'])[\"CANCELLED\"].agg(np.sum)\n\nAIRLINE  WEEKDAY\nAA       1          41\n         2           9\n         3          16\n         4          20\n         5          18\n                    ..\nWN       3          18\n         4          10\n         5           7\n         6          10\n         7           7\nName: CANCELLED, Length: 98, dtype: int64\n\n\n(예시2)\n\ndf.groupby(by=['AIRLINE', 'WEEKDAY'])[\"CANCELLED\"].agg(\"sum\")\n\nAIRLINE  WEEKDAY\nAA       1          41\n         2           9\n         3          16\n         4          20\n         5          18\n                    ..\nWN       3          18\n         4          10\n         5           7\n         6          10\n         7           7\nName: CANCELLED, Length: 98, dtype: int64\n\n\n(예시3)\n\ndf.groupby(by=['AIRLINE', 'WEEKDAY'])[\"CANCELLED\"].sum()\n\nAIRLINE  WEEKDAY\nAA       1          41\n         2           9\n         3          16\n         4          20\n         5          18\n                    ..\nWN       3          18\n         4          10\n         5           7\n         6          10\n         7           7\nName: CANCELLED, Length: 98, dtype: int64\n\n\n\ndf.groupby(by=['AIRLINE', 'WEEKDAY'])[[\"CANCELLED\"]].sum()\n\n\n\n\n\n\n\n\n\nCANCELLED\n\n\nAIRLINE\nWEEKDAY\n\n\n\n\n\nAA\n1\n41\n\n\n2\n9\n\n\n3\n16\n\n\n4\n20\n\n\n5\n18\n\n\n...\n...\n...\n\n\nWN\n3\n18\n\n\n4\n10\n\n\n5\n7\n\n\n6\n10\n\n\n7\n7\n\n\n\n\n98 rows × 1 columns\n\n\n\n\n\nEX3: [AIRLINE,WEEKDAY] \\(\\to\\) {CANCELLED:sum,mean}, {DIVERTED: sum,mean}\n- 방법1\n(예시1)\n\ndf.groupby([\"AIRLINE\",\"WEEKDAY\"])\\\n.agg({\"CANCELLED\":[np.sum,np.mean],\"DIVERTED\":[np.sum,np.mean]})\n\n\n\n\n\n\n\n\n\nCANCELLED\nDIVERTED\n\n\n\n\nsum\nmean\nsum\nmean\n\n\nAIRLINE\nWEEKDAY\n\n\n\n\n\n\n\n\nAA\n1\n41\n0.032106\n6\n0.004699\n\n\n2\n9\n0.007341\n2\n0.001631\n\n\n3\n16\n0.011949\n2\n0.001494\n\n\n4\n20\n0.015004\n5\n0.003751\n\n\n5\n18\n0.014151\n1\n0.000786\n\n\n...\n...\n...\n...\n...\n...\n\n\nWN\n3\n18\n0.014118\n2\n0.001569\n\n\n4\n10\n0.007911\n4\n0.003165\n\n\n5\n7\n0.005828\n0\n0.000000\n\n\n6\n10\n0.010132\n3\n0.003040\n\n\n7\n7\n0.006066\n3\n0.002600\n\n\n\n\n98 rows × 4 columns\n\n\n\n(예시2)\n\nnp.sum([1,2,3])\n\n6\n\n\n\ndf.groupby([\"AIRLINE\",\"WEEKDAY\"])\\\n.agg({\"CANCELLED\":[sum,np.mean],\"DIVERTED\":[sum,np.mean]})\n\n\n\n\n\n\n\n\n\nCANCELLED\nDIVERTED\n\n\n\n\nsum\nmean\nsum\nmean\n\n\nAIRLINE\nWEEKDAY\n\n\n\n\n\n\n\n\nAA\n1\n41\n0.032106\n6\n0.004699\n\n\n2\n9\n0.007341\n2\n0.001631\n\n\n3\n16\n0.011949\n2\n0.001494\n\n\n4\n20\n0.015004\n5\n0.003751\n\n\n5\n18\n0.014151\n1\n0.000786\n\n\n...\n...\n...\n...\n...\n...\n\n\nWN\n3\n18\n0.014118\n2\n0.001569\n\n\n4\n10\n0.007911\n4\n0.003165\n\n\n5\n7\n0.005828\n0\n0.000000\n\n\n6\n10\n0.010132\n3\n0.003040\n\n\n7\n7\n0.006066\n3\n0.002600\n\n\n\n\n98 rows × 4 columns\n\n\n\n- 방법2\n(예시1)\n\ndf.groupby([\"AIRLINE\",\"WEEKDAY\"])[[\"CANCELLED\",\"DIVERTED\"]]\\\n.agg([np.sum,np.mean])\n\n\n\n\n\n\n\n\n\nCANCELLED\nDIVERTED\n\n\n\n\nsum\nmean\nsum\nmean\n\n\nAIRLINE\nWEEKDAY\n\n\n\n\n\n\n\n\nAA\n1\n41\n0.032106\n6\n0.004699\n\n\n2\n9\n0.007341\n2\n0.001631\n\n\n3\n16\n0.011949\n2\n0.001494\n\n\n4\n20\n0.015004\n5\n0.003751\n\n\n5\n18\n0.014151\n1\n0.000786\n\n\n...\n...\n...\n...\n...\n...\n\n\nWN\n3\n18\n0.014118\n2\n0.001569\n\n\n4\n10\n0.007911\n4\n0.003165\n\n\n5\n7\n0.005828\n0\n0.000000\n\n\n6\n10\n0.010132\n3\n0.003040\n\n\n7\n7\n0.006066\n3\n0.002600\n\n\n\n\n98 rows × 4 columns\n\n\n\n(예시2)\n\ndf.groupby([\"AIRLINE\",\"WEEKDAY\"])[[\"CANCELLED\",\"DIVERTED\"]]\\\n.agg([\"sum\",\"mean\"])\n\n\n\n\n\n\n\n\n\nCANCELLED\nDIVERTED\n\n\n\n\nsum\nmean\nsum\nmean\n\n\nAIRLINE\nWEEKDAY\n\n\n\n\n\n\n\n\nAA\n1\n41\n0.032106\n6\n0.004699\n\n\n2\n9\n0.007341\n2\n0.001631\n\n\n3\n16\n0.011949\n2\n0.001494\n\n\n4\n20\n0.015004\n5\n0.003751\n\n\n5\n18\n0.014151\n1\n0.000786\n\n\n...\n...\n...\n...\n...\n...\n\n\nWN\n3\n18\n0.014118\n2\n0.001569\n\n\n4\n10\n0.007911\n4\n0.003165\n\n\n5\n7\n0.005828\n0\n0.000000\n\n\n6\n10\n0.010132\n3\n0.003040\n\n\n7\n7\n0.006066\n3\n0.002600\n\n\n\n\n98 rows × 4 columns\n\n\n\n(예시3) - 사용불가\n\n\nEX4: [AIRLINE,WEEKDAY] \\(\\to\\) {CANCELLED:sum,mean,count}, {AIR_TIME: mean,var}\n방법2 불가\n- 방법1\n(예시1)\n\ndf.groupby(['AIRLINE','WEEKDAY'])\\\n.agg({'CANCELLED':[np.sum,np.mean,len], 'AIR_TIME':[np.mean,np.var]})\n\n\n\n\n\n\n\n\n\nCANCELLED\nAIR_TIME\n\n\n\n\nsum\nmean\nlen\nmean\nvar\n\n\nAIRLINE\nWEEKDAY\n\n\n\n\n\n\n\n\n\nAA\n1\n41\n0.032106\n1277\n147.610569\n5393.806723\n\n\n2\n9\n0.007341\n1226\n143.851852\n5359.890719\n\n\n3\n16\n0.011949\n1339\n144.514005\n5378.854539\n\n\n4\n20\n0.015004\n1333\n141.124618\n4791.524627\n\n\n5\n18\n0.014151\n1272\n145.430966\n5884.592076\n\n\n...\n...\n...\n...\n...\n...\n...\n\n\nWN\n3\n18\n0.014118\n1275\n104.219920\n2901.873447\n\n\n4\n10\n0.007911\n1264\n107.200800\n2966.568935\n\n\n5\n7\n0.005828\n1201\n107.893635\n3268.717093\n\n\n6\n10\n0.010132\n987\n109.247433\n3152.753719\n\n\n7\n7\n0.006066\n1154\n107.602273\n3183.126889\n\n\n\n\n98 rows × 5 columns\n\n\n\n(예시2)\n\ndf.groupby(['AIRLINE','WEEKDAY'])\\\n.agg({'CANCELLED':[sum,mean,size], 'AIR_TIME':[mean\",\"var\"]})\n# 그 전에서는 큰 따옴표 없이도 다 됬는데, 여기서는 size 정의가 안 되어 있다고 나온다. 그래서 큰 따옴표를 해줘야 함!\n\n\n\n\n\n\n\n\n\nCANCELLED\nAIR_TIME\n\n\n\n\nsum\nmean\nsize\nmean\nvar\n\n\nAIRLINE\nWEEKDAY\n\n\n\n\n\n\n\n\n\nAA\n1\n41\n0.032106\n1277\n147.610569\n5393.806723\n\n\n2\n9\n0.007341\n1226\n143.851852\n5359.890719\n\n\n3\n16\n0.011949\n1339\n144.514005\n5378.854539\n\n\n4\n20\n0.015004\n1333\n141.124618\n4791.524627\n\n\n5\n18\n0.014151\n1272\n145.430966\n5884.592076\n\n\n...\n...\n...\n...\n...\n...\n...\n\n\nWN\n3\n18\n0.014118\n1275\n104.219920\n2901.873447\n\n\n4\n10\n0.007911\n1264\n107.200800\n2966.568935\n\n\n5\n7\n0.005828\n1201\n107.893635\n3268.717093\n\n\n6\n10\n0.010132\n987\n109.247433\n3152.753719\n\n\n7\n7\n0.006066\n1154\n107.602273\n3183.126889\n\n\n\n\n98 rows × 5 columns\n\n\n\n(사용자정의함수)\n\ndf.groupby([\"AIRLINE\",\"WEEKDAY\"])\\\n.agg({'CANCELLED':[np.sum,np.mean,len],\n      'AIR_TIME':[np.mean,lambda x: np.std(x,ddof=1)**2]})\n\n\n\n\n\n\n\n\n\nCANCELLED\nAIR_TIME\n\n\n\n\nsum\nmean\nlen\nmean\n&lt;lambda_0&gt;\n\n\nAIRLINE\nWEEKDAY\n\n\n\n\n\n\n\n\n\nAA\n1\n41\n0.032106\n1277\n147.610569\n5393.806723\n\n\n2\n9\n0.007341\n1226\n143.851852\n5359.890719\n\n\n3\n16\n0.011949\n1339\n144.514005\n5378.854539\n\n\n4\n20\n0.015004\n1333\n141.124618\n4791.524627\n\n\n5\n18\n0.014151\n1272\n145.430966\n5884.592076\n\n\n...\n...\n...\n...\n...\n...\n...\n\n\nWN\n3\n18\n0.014118\n1275\n104.219920\n2901.873447\n\n\n4\n10\n0.007911\n1264\n107.200800\n2966.568935\n\n\n5\n7\n0.005828\n1201\n107.893635\n3268.717093\n\n\n6\n10\n0.010132\n987\n109.247433\n3152.753719\n\n\n7\n7\n0.006066\n1154\n107.602273\n3183.126889\n\n\n\n\n98 rows × 5 columns"
  },
  {
    "objectID": "posts/DV_8(1024).html#연속형-변수를-기준으로-groupby---agg",
    "href": "posts/DV_8(1024).html#연속형-변수를-기준으로-groupby---agg",
    "title": "DV 8주차",
    "section": "연속형 변수를 기준으로 groupby -> agg",
    "text": "연속형 변수를 기준으로 groupby -&gt; agg\n\ndf.T\n\n\n\n\n\n\n\n\n0\n1\n2\n3\n4\n5\n6\n7\n8\n9\n...\n58482\n58483\n58484\n58485\n58486\n58487\n58488\n58489\n58490\n58491\n\n\n\n\nMONTH\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n...\n12\n12\n12\n12\n12\n12\n12\n12\n12\n12\n\n\nDAY\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n...\n31\n31\n31\n31\n31\n31\n31\n31\n31\n31\n\n\nWEEKDAY\n4\n4\n4\n4\n4\n4\n4\n4\n4\n4\n...\n4\n4\n4\n4\n4\n4\n4\n4\n4\n4\n\n\nAIRLINE\nWN\nUA\nMQ\nAA\nWN\nUA\nAA\nF9\nAA\nUA\n...\nOO\nB6\nMQ\nDL\nEV\nAA\nF9\nOO\nWN\nOO\n\n\nORG_AIR\nLAX\nDEN\nDFW\nDFW\nLAX\nIAH\nDFW\nSFO\nORD\nIAH\n...\nDEN\nPHX\nORD\nATL\nDFW\nSFO\nLAS\nSFO\nMSP\nSFO\n\n\nDEST_AIR\nSLC\nIAD\nVPS\nDCA\nMCI\nSAN\nMSY\nPHX\nSTL\nSJC\n...\nCPR\nBOS\nDSM\nCMH\nLFT\nDFW\nSFO\nSBA\nATL\nBOI\n\n\nSCHED_DEP\n1625\n823\n1305\n1555\n1720\n1450\n1250\n1020\n1845\n925\n...\n1850\n2236\n1333\n2206\n850\n515\n1910\n1846\n525\n859\n\n\nDEP_DELAY\n58.0\n7.0\n36.0\n7.0\n48.0\n1.0\n84.0\n-7.0\n-5.0\n3.0\n...\n-2.0\n-12.0\n1.0\n2.0\n21.0\n5.0\n13.0\n-6.0\n39.0\n5.0\n\n\nAIR_TIME\n94.0\n154.0\n85.0\n126.0\n166.0\n178.0\n64.0\n91.0\n44.0\n215.0\n...\n38.0\n231.0\n57.0\n64.0\n52.0\n166.0\n71.0\n46.0\n124.0\n73.0\n\n\nDIST\n590\n1452\n641\n1192\n1363\n1303\n447\n651\n258\n1608\n...\n230\n2300\n299\n447\n351\n1464\n414\n262\n907\n522\n\n\nSCHED_ARR\n1905\n1333\n1453\n1935\n2225\n1620\n1410\n1315\n1950\n1136\n...\n1956\n515\n1455\n2338\n1012\n1045\n2050\n1956\n855\n1146\n\n\nARR_DELAY\n65.0\n-13.0\n35.0\n-7.0\n39.0\n-14.0\n83.0\n-6.0\n-5.0\n-14.0\n...\n1.0\n-45.0\n-7.0\n-8.0\n14.0\n-19.0\n4.0\n-5.0\n34.0\n-1.0\n\n\nDIVERTED\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n...\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n\n\nCANCELLED\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n...\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n\n\n\n\n14 rows × 58492 columns\n\n\n\n\ndf.DIST.describe()\n\ncount    58492.000000\nmean       872.900072\nstd        624.996805\nmin         67.000000\n25%        391.000000\n50%        690.000000\n75%       1199.000000\nmax       4502.000000\nName: DIST, dtype: float64\n\n\n\ndf.assign(DIST2 = pd.cut(df.DIST,[-np.inf,391,690,1199,np.inf]))\\\n.groupby([\"AIRLINE\",\"DIST2\"]).agg({'CANCELLED':[\"sum\",\"mean\",\"count\"]})\n\n\n\n\n\n\n\n\n\nCANCELLED\n\n\n\n\nsum\nmean\ncount\n\n\nAIRLINE\nDIST2\n\n\n\n\n\n\n\nAA\n(-inf, 391.0]\n18\n0.015986\n1126\n\n\n(391.0, 690.0]\n17\n0.013589\n1251\n\n\n(690.0, 1199.0]\n69\n0.022066\n3127\n\n\n(1199.0, inf]\n50\n0.014723\n3396\n\n\nAS\n(-inf, 391.0]\n0\nNaN\n0\n\n\n(391.0, 690.0]\n0\n0.000000\n145\n\n\n(690.0, 1199.0]\n0\n0.000000\n462\n\n\n(1199.0, inf]\n0\n0.000000\n161\n\n\nB6\n(-inf, 391.0]\n0\n0.000000\n71\n\n\n(391.0, 690.0]\n0\n0.000000\n38\n\n\n(690.0, 1199.0]\n0\n0.000000\n61\n\n\n(1199.0, inf]\n1\n0.002681\n373\n\n\nDL\n(-inf, 391.0]\n7\n0.003086\n2268\n\n\n(391.0, 690.0]\n8\n0.002421\n3304\n\n\n(690.0, 1199.0]\n16\n0.006405\n2498\n\n\n(1199.0, inf]\n7\n0.002766\n2531\n\n\nEV\n(-inf, 391.0]\n77\n0.028785\n2675\n\n\n(391.0, 690.0]\n47\n0.022793\n2062\n\n\n(690.0, 1199.0]\n22\n0.019982\n1101\n\n\n(1199.0, inf]\n0\n0.000000\n20\n\n\nF9\n(-inf, 391.0]\n0\n0.000000\n27\n\n\n(391.0, 690.0]\n6\n0.013825\n434\n\n\n(690.0, 1199.0]\n4\n0.007105\n563\n\n\n(1199.0, inf]\n0\n0.000000\n293\n\n\nHA\n(-inf, 391.0]\n0\nNaN\n0\n\n\n(391.0, 690.0]\n0\nNaN\n0\n\n\n(690.0, 1199.0]\n0\nNaN\n0\n\n\n(1199.0, inf]\n0\n0.000000\n112\n\n\nMQ\n(-inf, 391.0]\n90\n0.047120\n1910\n\n\n(391.0, 690.0]\n39\n0.037356\n1044\n\n\n(690.0, 1199.0]\n22\n0.044266\n497\n\n\n(1199.0, inf]\n1\n0.050000\n20\n\n\nNK\n(-inf, 391.0]\n5\n0.036496\n137\n\n\n(391.0, 690.0]\n4\n0.013201\n303\n\n\n(690.0, 1199.0]\n6\n0.011029\n544\n\n\n(1199.0, inf]\n10\n0.018797\n532\n\n\nOO\n(-inf, 391.0]\n75\n0.024826\n3021\n\n\n(391.0, 690.0]\n39\n0.019364\n2014\n\n\n(690.0, 1199.0]\n19\n0.016351\n1162\n\n\n(1199.0, inf]\n9\n0.023018\n391\n\n\nUA\n(-inf, 391.0]\n5\n0.007143\n700\n\n\n(391.0, 690.0]\n14\n0.011824\n1184\n\n\n(690.0, 1199.0]\n26\n0.010924\n2380\n\n\n(1199.0, inf]\n48\n0.013605\n3528\n\n\nUS\n(-inf, 391.0]\n0\n0.000000\n254\n\n\n(391.0, 690.0]\n7\n0.021944\n319\n\n\n(690.0, 1199.0]\n2\n0.006329\n316\n\n\n(1199.0, inf]\n12\n0.016529\n726\n\n\nVX\n(-inf, 391.0]\n2\n0.008299\n241\n\n\n(391.0, 690.0]\n1\n0.003861\n259\n\n\n(690.0, 1199.0]\n0\n0.000000\n22\n\n\n(1199.0, inf]\n3\n0.006369\n471\n\n\nWN\n(-inf, 391.0]\n55\n0.023810\n2310\n\n\n(391.0, 690.0]\n14\n0.006487\n2158\n\n\n(690.0, 1199.0]\n17\n0.007896\n2153\n\n\n(1199.0, inf]\n7\n0.003895\n1797\n\n\n\n\n\n\n\ncut과 관련된 설명: https://seong6496.tistory.com/247 참고\n\ndf.assign(DIST2 = pd.cut(df.DIST,[-np.inf,400,700,1200,np.inf],labels=['~400','400~700','700~1200','1200~']))\\\n.groupby([\"AIRLINE\",\"DIST2\"]).agg({'CANCELLED':[\"sum\",\"mean\",\"count\"]})\n\n\n\n\n\n\n\n\n\nCANCELLED\n\n\n\n\nsum\nmean\ncount\n\n\nAIRLINE\nDIST2\n\n\n\n\n\n\n\nAA\n~400\n18\n0.015986\n1126\n\n\n400~700\n17\n0.013589\n1251\n\n\n700~1200\n69\n0.022066\n3127\n\n\n1200~\n50\n0.014723\n3396\n\n\nAS\n~400\n0\nNaN\n0\n\n\n400~700\n0\n0.000000\n145\n\n\n700~1200\n0\n0.000000\n462\n\n\n1200~\n0\n0.000000\n161\n\n\nB6\n~400\n0\n0.000000\n71\n\n\n400~700\n0\n0.000000\n38\n\n\n700~1200\n0\n0.000000\n61\n\n\n1200~\n1\n0.002681\n373\n\n\nDL\n~400\n7\n0.003040\n2303\n\n\n400~700\n8\n0.002352\n3402\n\n\n700~1200\n16\n0.006765\n2365\n\n\n1200~\n7\n0.002766\n2531\n\n\nEV\n~400\n77\n0.027838\n2766\n\n\n400~700\n48\n0.023312\n2059\n\n\n700~1200\n21\n0.020731\n1013\n\n\n1200~\n0\n0.000000\n20\n\n\nF9\n~400\n0\n0.000000\n27\n\n\n400~700\n7\n0.015837\n442\n\n\n700~1200\n3\n0.005405\n555\n\n\n1200~\n0\n0.000000\n293\n\n\nHA\n~400\n0\nNaN\n0\n\n\n400~700\n0\nNaN\n0\n\n\n700~1200\n0\nNaN\n0\n\n\n1200~\n0\n0.000000\n112\n\n\nMQ\n~400\n92\n0.047472\n1938\n\n\n400~700\n39\n0.035682\n1093\n\n\n700~1200\n20\n0.047619\n420\n\n\n1200~\n1\n0.050000\n20\n\n\nNK\n~400\n5\n0.036496\n137\n\n\n400~700\n4\n0.013201\n303\n\n\n700~1200\n6\n0.011029\n544\n\n\n1200~\n10\n0.018797\n532\n\n\nOO\n~400\n76\n0.024837\n3060\n\n\n400~700\n38\n0.018673\n2035\n\n\n700~1200\n19\n0.017241\n1102\n\n\n1200~\n9\n0.023018\n391\n\n\nUA\n~400\n5\n0.006993\n715\n\n\n400~700\n14\n0.011966\n1170\n\n\n700~1200\n26\n0.010929\n2379\n\n\n1200~\n48\n0.013605\n3528\n\n\nUS\n~400\n0\n0.000000\n254\n\n\n400~700\n7\n0.021944\n319\n\n\n700~1200\n2\n0.006329\n316\n\n\n1200~\n12\n0.016529\n726\n\n\nVX\n~400\n2\n0.008299\n241\n\n\n400~700\n1\n0.003861\n259\n\n\n700~1200\n0\n0.000000\n22\n\n\n1200~\n3\n0.006369\n471\n\n\nWN\n~400\n55\n0.023022\n2389\n\n\n400~700\n17\n0.007795\n2181\n\n\n700~1200\n14\n0.006826\n2051\n\n\n1200~\n7\n0.003895\n1797"
  },
  {
    "objectID": "posts/DV_6(1012).html",
    "href": "posts/DV_6(1012).html",
    "title": "DV 6주차",
    "section": "",
    "text": "import numpy as np\nimport matplotlib.pyplot as plt\nimport pandas as pd"
  },
  {
    "objectID": "posts/DV_6(1012).html#lambda",
    "href": "posts/DV_6(1012).html#lambda",
    "title": "DV 6주차",
    "section": "lambda",
    "text": "lambda\n- 예제1: 람다표현식 (lambda expression) 자체가 하나의 오브젝트임\n\n(lambda x: (x-2)**2)  # lambda가 실행되는 순간 메모리상에 함수 오브젝트가 저장됨\n\n&lt;function __main__.&lt;lambda&gt;(x)&gt;\n\n\n\nlambda x: (x-2)**2 는 \\(lambda(x)=(x-2)^2\\) 의 느낌으로 기억하면 쉬움\n\n(사용방법)\n\n(lambda x: (x-2)**2)(2)  # 입력 2-&gt; 출력 (2-2)^2 = 0\n\n0\n\n\n\n(lambda x: (x-2)**2)(4)  # 입력 4-&gt; 출력 (4-2)^2 = 4\n\n4\n\n\n- 예제2: 람다표현식에 이름을 줄 수 있음\n\nf = lambda x: (x-2)**2\n\n\nf(2),f(4)\n\n(0, 4)\n\n\n위의 코드는 아래와 같다\n\ndef f(x):\n    return (x-2)**2\nf(2), f(4)\n\n(0, 4)\n\n\n- 예제3: 조건부 출력\n\nf = lambda x,y: x if x&gt;y else y  # 큰 값 리턴\n\n\nf(1,2),  f(-4,3)\n\n(2, 3)\n\n\n- 예제4: 람다표현식들의 리스트\n\nfl = [lambda x: x, lambda x: x**2, lambda x: x**3]\n\n\ntype(fl)\n\nlist\n\n\n\nfl[0](10), fl[1](10), fl[2](10)\n\n(10, 100, 1000)\n\n\n\nfor f in fl:\n    print(f(2))\n\n2\n4\n8\n\n\n\nfor s in ['a','b','c']:\n    print(s)\n\na\nb\nc\n\n\n\nfor s in ['a', lambda x:x, 'c']:\n    print(s)\n\na\n&lt;function &lt;lambda&gt; at 0x7f3ddff33c20&gt;\nc\n\n\n\nx = np.linspace(-1,1,100)\nfor f in fl:\n    plt.plot(x,f(x),'--')\n\n\n\n\n- 예제5: 람다표현식들의 딕셔너리\n\nfd = {'f1': lambda x:x, 'f2': lambda x: x**2, 'f3':lambda x:x**3}\nfd\n\n{'f1': &lt;function __main__.&lt;lambda&gt;(x)&gt;,\n 'f2': &lt;function __main__.&lt;lambda&gt;(x)&gt;,\n 'f3': &lt;function __main__.&lt;lambda&gt;(x)&gt;}\n\n\n\nfor k in fd:\n    plt.plot(x,fd[k](x),'--')\n\n\n\n\n- 예제6: 람다표현식을 리턴하는 함수(함수를 리턴하는 함수)\n(예비학습) 함수 \\(g(x)\\)가 정의되어 있을때 \\(\\frac{d}{dx}g(x)\\)의 값을 계산\n\ng = lambda x : x**2\n\n\ng(3)\n\n9\n\n\n\\(f'(x)\\approx \\frac{f(x+h)-f(x)}{h}\\)\n\ngg =  lambda x: (g(x+0.001)-g(x))/0.001\n\n\ngg(3)\n\n6.000999999999479\n\n\n(예비학습끝)\n(목표) 도함수를 구해주는 derivate 함수를 정의. 임의의 함수 g를 입력으로 받으면, g의 도함수 (gg)가 리턴되는 기능을 가진다.\n\ndef derivate(g):\n    gg = lambda x: (g(x+0.001)-g(x))/0.001\n    return gg\n\n(사용)\n\ng = lambda x: np.sin(x)\n\n\ngg = derivate(g)\n\n\nx = np.linspace(0,6.28,1000)\n\n\nplt.plot(x,g(x))\nplt.plot(x,gg(x))\n\n\n\n\n(사용2)\n\ng0 = lambda x: (1/6)*x**3\ng1 = derivate(g0) # (1/2)x^2\ng2 = derivate(g1) # x \n\n\nx = np.linspace(-1,1,100)\n\n\nplt.plot(x,g0(x))\nplt.plot(x,g1(x))\nplt.plot(x,g2(x))\n\n\n\n\n- 예제7: 예제6의 다른표현\n\nderivate = lambda g : lambda x: (g(x+0.001)-g(x))/0.001\n# 위와 같은 코드\n\n\ng = lambda x: np.sin(x)\n\n\ngg = derivate(g)\n\n\nx = np.linspace(0,6.28,1000)\n\n\nplt.plot(x,g(x))\nplt.plot(x,gg(x))\n\n\n\n\n(사용2)\n\ng0 = lambda x: (1/6)*x**3\ng1 = derivate(g0) # (1/2)x^2\ng2 = derivate(g1) # x \n\n\nx = np.linspace(-1,1,100)\n\n\nplt.plot(x,g0(x))\nplt.plot(x,g1(x))\nplt.plot(x,g2(x))"
  },
  {
    "objectID": "posts/DV_6(1012).html#map",
    "href": "posts/DV_6(1012).html#map",
    "title": "DV 6주차",
    "section": "map",
    "text": "map\n- 개념: \\(\\text{map}\\left(f,[x_1,x_2,\\dots,x_n] \\right) = \\left[f(x_1),f(x_2),\\dots,f(x_n)\\right]\\)\n- 예제1\n\nx=[1,2,3]\nf = lambda x: x+1\ny= list(map(f,x))\n\n\nlist(map(f,x))\n\n[2, 3, 4]\n\n\n\nf(x) # 리스트라 오류남\n\nTypeError: can only concatenate list (not \"int\") to list\n\n\n\nf(x[0])\n\n2\n\n\n(다른구현1)\n\nlist(map(lambda x:x+1, x))\n\n[2, 3, 4]\n\n\n\nlist(map(lambda x:x+1, [1,2,3]))\n\n[2, 3, 4]\n\n\n(다른구현2)\n\nf = lambda x: x+1\n[xi for xi in [1,2,3]]\n\n[1, 2, 3]\n\n\n\nf = lambda x: x+1\n[f(xi) for xi in [1,2,3]]\n\n[2, 3, 4]\n\n\n(다른구현3)\n\n[(lambda x:x+1)(xi) for xi in [1,2,3]]\n\n[2, 3, 4]\n\n\n(다른구현4)-최악\n\ny = []\nx = [1,2,3]\nf = lambda x: x+1\nfor xi in x:\n    y.append(f(xi))\n\n\ny\n\n[2, 3, 4]\n\n\n(다른구현5)-더 최악\n\ny = []\nx = [1,2,3]\nf = lambda x: x+1\nfor i in range(len(x)):\n    y.append(f(x[i]))\n\n\ny\n\n[2, 3, 4]\n\n\n- 예제2: 문자열을 입력으로 받고 대문자이면 True, 소문자이면 False\n입력: A,B,C,a,b,c\n출력: T,T,T,F,F,F\n\nf(np.array(x))\n\narray([2, 3, 4])\n\n\n\n'A'.isupper()\n\nTrue\n\n\n\n#x = ['A', 'B', 'C', 'a', 'b', 'c']\nx = list('ABCabc')\nf = lambda s : s.isupper()\ny = list(map(f,x))\n\n\nx,y\n\n(['A', 'B', 'C', 'a', 'b', 'c'], [True, True, True, False, False, False])\n\n\n- 예제3: 두 개의 입력을 받는 함수\n\n(lambda x,y : x+y)(-1,3)\n\n2\n\n\n\nlist(map(lambda x,y: x+y, [1,2,3],[-1,-2,-3]))\n\n[0, 0, 0]\n\n\n(다른 구현) - 리스트컴프리헨션\n\nf = lambda x,y: x+y\n[f(x,y) for x,y in zip([1,2,3],[-1,-2,-3])]\n\n[0, 0, 0]\n\n\n- 예제4: map은 “하나의 함수에 다양한 입력”을 적용하는 경우에만 사용가능, 리스트 컴프리헨션은 “다양한 함수에 다양한 입력”을 지원한다.\n\nflst = [lambda x: x+1, lambda x: x+2, lambda x: x+3]\n\n(map으로 구현 시도) -&gt; 실패\n\nlist(map(flst,[-1,-2,-3])) # 결과가 0,0,0 나오길 시도\n\nTypeError: 'list' object is not callable\n\n\n리스트컴프리헨션으로 구현시도 -&gt; 성공\n\n[f(x) for f,x in zip(flst, [-1,-2,-3])]\n\n[0, 0, 0]\n\n\n- 종합: map과 리스트컴프리헨션과 비교 - map은 반복인덱스를 쓰지 않지만 리스트컴프리헨션은 반복인덱스가 필요함 - map은 좀더 리스트컴프리헨션보다 제약적으로 사용할 수 밖에 없음"
  },
  {
    "objectID": "posts/DV_6(1012).html#데이터프레임-준비",
    "href": "posts/DV_6(1012).html#데이터프레임-준비",
    "title": "DV 6주차",
    "section": "데이터프레임 준비",
    "text": "데이터프레임 준비\n\ndf=pd.read_csv('https://raw.githubusercontent.com/guebin/DV2022/main/posts/dv2022.csv')\ndf\n\n\n\n\n\n\n\n\natt\nrep\nmid\nfin\n\n\n\n\n0\n65\n45\n0\n10\n\n\n1\n95\n30\n60\n10\n\n\n2\n65\n85\n15\n20\n\n\n3\n55\n35\n35\n5\n\n\n4\n80\n60\n55\n70\n\n\n...\n...\n...\n...\n...\n\n\n195\n55\n70\n40\n95\n\n\n196\n65\n85\n25\n85\n\n\n197\n85\n85\n100\n10\n\n\n198\n80\n65\n35\n60\n\n\n199\n50\n95\n45\n85\n\n\n\n\n200 rows × 4 columns\n\n\n\n- 앞으로는 위와 같은 df형태를 가정할 것이다. 즉 column의 이름은 문자열, row의 이름은 0부터 시작하는 정수로 가정한다.\n\nnp.array([[1,2,3],[1,2,5]])\n\narray([[1, 2, 3],\n       [1, 2, 5]])\n\n\n- 아래와 같은 형태는 일단 생각 안함\n\npd.DataFrame({'att':[60,65,80,90],'rep':[50,100,90,100]},index=['A','B','C','D'])\n\n\n\n\n\n\n\n\natt\nrep\n\n\n\n\nA\n60\n50\n\n\nB\n65\n100\n\n\nC\n80\n90\n\n\nD\n90\n100"
  },
  {
    "objectID": "posts/DV_6(1012).html#df의-4가지-컨셉",
    "href": "posts/DV_6(1012).html#df의-4가지-컨셉",
    "title": "DV 6주차",
    "section": "df의 4가지 컨셉",
    "text": "df의 4가지 컨셉\n- 원소에 접근하는 4가지 방법: ., [], iloc[], .loc[]\n\n컨셉1: 클래스느낌\n- 컨셉1: df는 인스턴스이다. 그리고 df.att, df.rep, df.mid, df.fin과 같이 col이름에 대응하는 속성이 있다.\n\ndf.head(6)\n\n\n\n\n\n\n\n\natt\nrep\nmid\nfin\n\n\n\n\n0\n65\n45\n0\n10\n\n\n1\n95\n30\n60\n10\n\n\n2\n65\n85\n15\n20\n\n\n3\n55\n35\n35\n5\n\n\n4\n80\n60\n55\n70\n\n\n5\n75\n40\n75\n85\n\n\n\n\n\n\n\n\ndf.att\n\n0      65\n1      95\n2      65\n3      55\n4      80\n       ..\n195    55\n196    65\n197    85\n198    80\n199    50\nName: att, Length: 200, dtype: int64\n\n\n\ndf.fin\n\n0      10\n1      10\n2      20\n3       5\n4      70\n       ..\n195    95\n196    85\n197    10\n198    60\n199    85\nName: fin, Length: 200, dtype: int64\n\n\n- 언제유용? col의 이름을 대충 알고 있을 경우 자동완성으로 쉽게 선택가능\n\n\n컨셉2: 딕셔너리 + \\(\\alpha\\) 느낌\n- 컨셉2: df는 컬럼이름이 key, 컬럼의 데이터가 value가 되는 dictionary로 이해가능. 즉 아래의 dct와 같은 딕셔너리로 이해할 수 있다.\n\ncol indexing\n- 예시1: dct가 가능하면 df도 가능하다.\n\ndct = dict(df)\n\n\ndct['att']\n\n0      65\n1      95\n2      65\n3      55\n4      80\n       ..\n195    55\n196    65\n197    85\n198    80\n199    50\nName: att, Length: 200, dtype: int64\n\n\n\ndf['att']\n\n0      65\n1      95\n2      65\n3      55\n4      80\n       ..\n195    55\n196    65\n197    85\n198    80\n199    50\nName: att, Length: 200, dtype: int64\n\n\n- 예시2: dct가 가능하면 df도 가능하다.(2)\n\ndf.get('att')\n#dct.get('att')\n\n0      65\n1      95\n2      65\n3      55\n4      80\n       ..\n195    55\n196    65\n197    85\n198    80\n199    50\nName: att, Length: 200, dtype: int64\n\n\n- 예시3: dct에서는 불가능하지만 df에서 가능한 것도 잇다.\n\ndct.get('att')\n\n0      65\n1      95\n2      65\n3      55\n4      80\n       ..\n195    55\n196    65\n197    85\n198    80\n199    50\nName: att, Length: 200, dtype: int64\n\n\n\ndct.get(['att','rep']) #이건 안됨\n\nTypeError: unhashable type: 'list'\n\n\n\ndf.get(['att','rep'])\n\n\n\n\n\n\n\n\natt\nrep\n\n\n\n\n0\n65\n45\n\n\n1\n95\n30\n\n\n2\n65\n85\n\n\n3\n55\n35\n\n\n4\n80\n60\n\n\n...\n...\n...\n\n\n195\n55\n70\n\n\n196\n65\n85\n\n\n197\n85\n85\n\n\n198\n80\n65\n\n\n199\n50\n95\n\n\n\n\n200 rows × 2 columns\n\n\n\n- 예시4: dct에서는 불가능하지만 df에서 가능한 것도 잇다.(2)\n\ndct['att']\n\n0      65\n1      95\n2      65\n3      55\n4      80\n       ..\n195    55\n196    65\n197    85\n198    80\n199    50\nName: att, Length: 200, dtype: int64\n\n\n\ndct[['att','rep']]\n\nTypeError: unhashable type: 'list'\n\n\n\ndf[['att','rep']]\n\n\n\n\n\n\n\n\natt\nrep\n\n\n\n\n0\n65\n45\n\n\n1\n95\n30\n\n\n2\n65\n85\n\n\n3\n55\n35\n\n\n4\n80\n60\n\n\n...\n...\n...\n\n\n195\n55\n70\n\n\n196\n65\n85\n\n\n197\n85\n85\n\n\n198\n80\n65\n\n\n199\n50\n95\n\n\n\n\n200 rows × 2 columns\n\n\n\n\n\nlow indexing\n- 예시5: dct에서는 불가능하지만 df에서 가능한 것도 잇다.(3)\n\ndct[:5]\n\nTypeError: unhashable type: 'slice'\n\n\n\ndf[:5]\n\n\n\n\n\n\n\n\natt\nrep\nmid\nfin\n\n\n\n\n0\n65\n45\n0\n10\n\n\n1\n95\n30\n60\n10\n\n\n2\n65\n85\n15\n20\n\n\n3\n55\n35\n35\n5\n\n\n4\n80\n60\n55\n70\n\n\n\n\n\n\n\n\n\n\n컨셉3: 넘파이느낌\n- 컨셉3: df.iloc은 넘파이어레이처럼 생각 가능하다. 즉 아래와 같은 넘파이 어레이로 생각 가능\n\narr=np.array(df)\narr\n\narray([[ 65,  45,   0,  10],\n       [ 95,  30,  60,  10],\n       [ 65,  85,  15,  20],\n       [ 55,  35,  35,   5],\n       [ 80,  60,  55,  70],\n       [ 75,  40,  75,  85],\n       [ 65,  70,  60,  75],\n       [ 60,  25,  20,  35],\n       [ 95,  55,  65,  90],\n       [ 90,  25,  95,  50],\n       [ 55,  45,  75,  30],\n       [ 95,  60,  25,  55],\n       [ 95,  35,   0,  25],\n       [ 50,  55,  90,  45],\n       [ 50,  65,  50,  70],\n       [ 95, 100,  25,  40],\n       [ 50,  65,  35,  85],\n       [ 65,  85,  10,   5],\n       [ 70,  65,  65,  80],\n       [ 90,  70, 100,  30],\n       [ 80,  45,  80,  85],\n       [ 55,  45,  85,  70],\n       [ 65,  35,  45,  20],\n       [ 70,  25,  50,  70],\n       [ 85,  55,  30,  80],\n       [ 90,  30,  30,   0],\n       [100,  65,  50,  70],\n       [ 80,  70,  50, 100],\n       [ 80,  35,  25,  65],\n       [ 55,  75,  20,  25],\n       [ 75,  75,  85,  95],\n       [ 80,  95,   5,   5],\n       [ 95,  60,  65,  10],\n       [ 95,  60,  90,  75],\n       [100,  75,  70,  25],\n       [100,  55,  35,  85],\n       [ 80,  60,  65,  55],\n       [ 70,  80,   0,  10],\n       [ 85,  65,  60,  60],\n       [100,  95,   0,  25],\n       [ 95,  60,  15,  45],\n       [ 75,  40,  30,  10],\n       [ 70,  80,  50,  25],\n       [ 50,  45,  10,  10],\n       [100, 100, 100,  50],\n       [ 75,  50,  60,   5],\n       [ 85,  50,  35, 100],\n       [ 80,  35,  75,  80],\n       [ 95,  45,  35,  80],\n       [ 65,  85,  85,  15],\n       [ 90,  30,  25,   5],\n       [ 65,  65,  35,  70],\n       [ 80,  65,  30,  90],\n       [ 95,  80,  45,  35],\n       [ 65,  75,  50,  35],\n       [ 90,  55, 100,  30],\n       [ 95,  25,  95,  90],\n       [100,  50,  80,  10],\n       [ 50,  55,  35,  60],\n       [ 90,  70,  35,  25],\n       [ 50,  55,  15,  75],\n       [ 80,  50,  55,  90],\n       [ 50,  75,  65,  90],\n       [ 70,  40,  90,   5],\n       [ 65,  85,  20,  90],\n       [ 60,  30,   0,  50],\n       [ 50,  65,  15,   0],\n       [ 60,  95,  30,  70],\n       [ 70,  70,   5,   0],\n       [ 75,  45,  15,  75],\n       [ 50,  60,  15,  50],\n       [ 85,  90,  90,  90],\n       [ 80,  25,  85,  20],\n       [ 55,  75,  95,  90],\n       [ 85,  30,  45,  15],\n       [ 65,  30,  45,  15],\n       [ 85,  95,  35,  25],\n       [ 60,  25,  10,  50],\n       [ 95,  45,  90,  35],\n       [ 85,  50,  60,  45],\n       [ 60,  50, 100,  70],\n       [100,  75,  60,   0],\n       [100,  90,  85,  75],\n       [ 55, 100, 100,  60],\n       [ 70,  60,  30,  40],\n       [ 70,  90,  95,  40],\n       [ 55,  50,   0,   5],\n       [100, 100,  45,  90],\n       [ 85,  70,  90,  80],\n       [100,  85,  65,  85],\n       [ 60,  65,  35,  15],\n       [ 65,  75,  75,  85],\n       [ 65,  25,  40,   0],\n       [ 75,  75,  50,  40],\n       [ 50,  55,  80,  55],\n       [ 75,  30,  20,  50],\n       [100,  50,  25,  65],\n       [ 90,  30,  95,  35],\n       [ 55, 100,  80,   0],\n       [ 75,  60,  15,  40],\n       [ 60,  25,  25,  50],\n       [ 85,  35,  10,  60],\n       [ 60, 100,  55,  40],\n       [ 70,  55,  50,  75],\n       [ 80,  65,  95,  85],\n       [ 65,  35,  15,  65],\n       [ 85,  70, 100,   0],\n       [100,  30,  60,  65],\n       [ 65,  70,  55,  70],\n       [ 85,  55,  85,  90],\n       [ 85,  95,  80,  10],\n       [ 85,  70,  75,   5],\n       [100,  35,  70,   0],\n       [ 95,  45,  55,  65],\n       [ 95,  85,  40,  65],\n       [ 55,  50,  30,  85],\n       [ 85,  50,   5,  65],\n       [ 75,  90,  85,  85],\n       [ 95,  70,  10,   5],\n       [ 85,  35,  80,  95],\n       [ 95,  50,  80,  90],\n       [100,  65,  75,  40],\n       [ 95,  70,  70,   0],\n       [ 95,  70,  20,  25],\n       [100,  60,  10,   5],\n       [ 55,  35,  25,  10],\n       [ 60,  90,  40,   5],\n       [ 85,  90,  85,  75],\n       [ 75,  85,  25,  35],\n       [ 55,  30,  50,  45],\n       [ 70,  60,  75,  75],\n       [ 80,  30,  95,   5],\n       [ 90,  85,  80,  15],\n       [ 90,  25,  95,   5],\n       [ 60,  85,  50,  20],\n       [ 90,  50,  95,  95],\n       [ 75,  95,  65,  40],\n       [ 60,  40,  35,   0],\n       [ 55, 100,  15,  80],\n       [ 70,  75,  80,   0],\n       [ 75,  65,  25,  20],\n       [ 90,  75,  80,  25],\n       [ 50,  75,  75,  20],\n       [ 55,  45,  35,  45],\n       [ 90,  70,  90,   0],\n       [ 75,  30, 100,  60],\n       [ 90,  85,   0,  40],\n       [ 85,  70,  35,   0],\n       [100,  75, 100,  85],\n       [ 55,  35,  20,  10],\n       [ 70,  75,  90,  90],\n       [ 90,  90,  55,  55],\n       [ 55,  60,  40,   0],\n       [100,  90,   5,  30],\n       [ 50,  55,  25,  80],\n       [100, 100,  90,  55],\n       [ 70,  45,  70,  75],\n       [ 85,  95,  85,  90],\n       [ 55,  25,  95,  45],\n       [ 75,  30,  10,  95],\n       [ 65,  85,  15,  60],\n       [ 70,  90,  70,   0],\n       [ 60,  85,  70,  85],\n       [100,  25,  10,  20],\n       [ 75,  25,  80,  25],\n       [ 90,  95,  40,  80],\n       [ 95,  90,  50,  50],\n       [ 90,  90,  65,  85],\n       [ 95,  75,  50,  40],\n       [ 55,  60,  70,   5],\n       [ 95,  85,   0,  15],\n       [ 65,  60,  35,  20],\n       [ 65,  50,   5,   5],\n       [ 90,  25,  60,  25],\n       [100,  40,  40,  15],\n       [ 70,  25, 100,  75],\n       [100,  30,  70,  70],\n       [ 50,  55,  55,   5],\n       [ 70,  35,  70, 100],\n       [ 70,  60,  60,  80],\n       [ 55,  45,  90,   5],\n       [ 55,  55,  10,  95],\n       [ 65,  80,  10,  30],\n       [ 90,  25,  35,  55],\n       [100,  30,  30,  85],\n       [ 70,  85,  70,  65],\n       [ 60, 100,  45, 100],\n       [ 70,  25, 100,  15],\n       [ 70,  35,  80,  25],\n       [ 65,  60,  30,  35],\n       [ 95,  35,  40,  95],\n       [ 50,  80,  65,  90],\n       [100,  40,  80,  80],\n       [ 55,  30,  95, 100],\n       [ 65,  40,  65,  70],\n       [ 55,  70,  40,  95],\n       [ 65,  85,  25,  85],\n       [ 85,  85, 100,  10],\n       [ 80,  65,  35,  60],\n       [ 50,  95,  45,  85]])\n\n\n\nrow indexing\n- 예시1: 단일레이블\n\narr[0,:] # first row\n\narray([65, 45,  0, 10])\n\n\n\narr[0]\n\narray([65, 45,  0, 10])\n\n\n\narr[0,] # R\n\narray([65, 45,  0, 10])\n\n\n\ndf.iloc[0,:]\n# df.iloc[0,]\n# df.iloc[0]\n\natt    65\nrep    45\nmid     0\nfin    10\nName: 0, dtype: int64\n\n\n- 예시2: 레이블의 리스트\n\narr[[0,1,2],:]  # 처음 3개의 row 선택\narr[[0,1,2],]\narr[[0,1,2]]\n\narray([[65, 45,  0, 10],\n       [95, 30, 60, 10],\n       [65, 85, 15, 20]])\n\n\n\ndf.iloc[[0,1,2],:]  # 처음 3개의 row 선택\ndf.iloc[[0,1,2],]\ndf.iloc[[0,1,2]]\n\n\n\n\n\n\n\n\natt\nrep\nmid\nfin\n\n\n\n\n0\n65\n45\n0\n10\n\n\n1\n95\n30\n60\n10\n\n\n2\n65\n85\n15\n20\n\n\n\n\n\n\n\n- 예시3: 슬라이싱\n\narr[0:3,:]  # 처음 3개의 row 선택, 끝점포함x\narr[0:3,]\narr[0:3]\n\narray([[65, 45,  0, 10],\n       [95, 30, 60, 10],\n       [65, 85, 15, 20]])\n\n\n\ndf.iloc[0:3,:]  # 처음 3개의 row 선택\ndf.iloc[0:3,]\ndf.iloc[0:3]\n\n\n\n\n\n\n\n\natt\nrep\nmid\nfin\n\n\n\n\n0\n65\n45\n0\n10\n\n\n1\n95\n30\n60\n10\n\n\n2\n65\n85\n15\n20\n\n\n\n\n\n\n\n\n\ncol indexing\n\ndf.head()\n\n\n\n\n\n\n\n\natt\nrep\nmid\nfin\n\n\n\n\n0\n65\n45\n0\n10\n\n\n1\n95\n30\n60\n10\n\n\n2\n65\n85\n15\n20\n\n\n3\n55\n35\n35\n5\n\n\n4\n80\n60\n55\n70\n\n\n\n\n\n\n\n- 예시1: 단일레이블\n\n#df.iloc[:,0] # first column \narr[:,0] # first column \n\narray([ 65,  95,  65,  55,  80,  75,  65,  60,  95,  90,  55,  95,  95,\n        50,  50,  95,  50,  65,  70,  90,  80,  55,  65,  70,  85,  90,\n       100,  80,  80,  55,  75,  80,  95,  95, 100, 100,  80,  70,  85,\n       100,  95,  75,  70,  50, 100,  75,  85,  80,  95,  65,  90,  65,\n        80,  95,  65,  90,  95, 100,  50,  90,  50,  80,  50,  70,  65,\n        60,  50,  60,  70,  75,  50,  85,  80,  55,  85,  65,  85,  60,\n        95,  85,  60, 100, 100,  55,  70,  70,  55, 100,  85, 100,  60,\n        65,  65,  75,  50,  75, 100,  90,  55,  75,  60,  85,  60,  70,\n        80,  65,  85, 100,  65,  85,  85,  85, 100,  95,  95,  55,  85,\n        75,  95,  85,  95, 100,  95,  95, 100,  55,  60,  85,  75,  55,\n        70,  80,  90,  90,  60,  90,  75,  60,  55,  70,  75,  90,  50,\n        55,  90,  75,  90,  85, 100,  55,  70,  90,  55, 100,  50, 100,\n        70,  85,  55,  75,  65,  70,  60, 100,  75,  90,  95,  90,  95,\n        55,  95,  65,  65,  90, 100,  70, 100,  50,  70,  70,  55,  55,\n        65,  90, 100,  70,  60,  70,  70,  65,  95,  50, 100,  55,  65,\n        55,  65,  85,  80,  50])\n\n\n\ndf.iloc[:,0] # first column\n\n0      65\n1      95\n2      65\n3      55\n4      80\n       ..\n195    55\n196    65\n197    85\n198    80\n199    50\nName: att, Length: 200, dtype: int64\n\n\n- 예시2: 레이블의 리스트\n\n#arr[:,[0,2]] # col1, col3 선택\n\n\ndf.iloc[:,[0,2]] # 처음 3개의 row선택\n\n\n\n\n\n\n\n\natt\nmid\n\n\n\n\n0\n65\n0\n\n\n1\n95\n60\n\n\n2\n65\n15\n\n\n3\n55\n35\n\n\n4\n80\n55\n\n\n...\n...\n...\n\n\n195\n55\n40\n\n\n196\n65\n25\n\n\n197\n85\n100\n\n\n198\n80\n35\n\n\n199\n50\n45\n\n\n\n\n200 rows × 2 columns\n\n\n\n- 예시3: 슬라이싱\n\ndf.iloc[:,0:3] # 처음 3개의 col선택, 끝점포함X\n#arr[:,0:3]\n\n\n\n\n\n\n\n\natt\nrep\nmid\n\n\n\n\n0\n65\n45\n0\n\n\n1\n95\n30\n60\n\n\n2\n65\n85\n15\n\n\n3\n55\n35\n35\n\n\n4\n80\n60\n55\n\n\n...\n...\n...\n...\n\n\n195\n55\n70\n40\n\n\n196\n65\n85\n25\n\n\n197\n85\n85\n100\n\n\n198\n80\n65\n35\n\n\n199\n50\n95\n45\n\n\n\n\n200 rows × 3 columns\n\n\n\n\n\nrow+col indexing\n\ndf.iloc[:2,0:3] \n\n\n\n\n\n\n\n\natt\nrep\nmid\n\n\n\n\n0\n65\n45\n0\n\n\n1\n95\n30\n60\n\n\n\n\n\n\n\n\ndf.iloc[::2,0:3]\n\n\n\n\n\n\n\n\natt\nrep\nmid\n\n\n\n\n0\n65\n45\n0\n\n\n2\n65\n85\n15\n\n\n4\n80\n60\n55\n\n\n6\n65\n70\n60\n\n\n8\n95\n55\n65\n\n\n...\n...\n...\n...\n\n\n190\n95\n35\n40\n\n\n192\n100\n40\n80\n\n\n194\n65\n40\n65\n\n\n196\n65\n85\n25\n\n\n198\n80\n65\n35\n\n\n\n\n100 rows × 3 columns\n\n\n\n\n\n\n컨셉4: 데이터프레임 느낌\n- 컨셉4: df.loc새로운 느낌 (R에 익숙하면 dataframe 혹은 티블느낌이라고 보면 된다.)\n\nR에서.. 교수님꺼 강의노트 참고\n\n\nrow indexing\n- 예시1: 단일레이블\n\ndf.loc[0,:]   # 첫번째 row를 선택\ndf.loc[0,]\ndf.loc[0]\n\natt    65\nrep    45\nmid     0\nfin    10\nName: 0, dtype: int64\n\n\n- 예시2: 레이블의 리스트\n\ndf.loc[[0,1,2],:]   # 처음 3개의 row를 선택\ndf.loc[[0,1,2],]\ndf.loc[[0,1,2]]\n\n\n\n\n\n\n\n\natt\nrep\nmid\nfin\n\n\n\n\n0\n65\n45\n0\n10\n\n\n1\n95\n30\n60\n10\n\n\n2\n65\n85\n15\n20\n\n\n\n\n\n\n\n- 예시3: 슬라이싱(끝점포함 O!!)\n\ndf.loc[0:3,:]   # 처음 4개의 row를 선택\ndf.loc[0:3,]\ndf.loc[0:3]\n\n\n\n\n\n\n\n\natt\nrep\nmid\nfin\n\n\n\n\n0\n65\n45\n0\n10\n\n\n1\n95\n30\n60\n10\n\n\n2\n65\n85\n15\n20\n\n\n3\n55\n35\n35\n5\n\n\n\n\n\n\n\n\n\ncol indexing\n- 예시1: 단일레이블\n\ndf.loc[:,'att']\n\n0      65\n1      95\n2      65\n3      55\n4      80\n       ..\n195    55\n196    65\n197    85\n198    80\n199    50\nName: att, Length: 200, dtype: int64\n\n\n- 예시2: 레이블의 리스트\n\ndf.loc[:,['att','mid']]\n\n\n\n\n\n\n\n\natt\nmid\n\n\n\n\n0\n65\n0\n\n\n1\n95\n60\n\n\n2\n65\n15\n\n\n3\n55\n35\n\n\n4\n80\n55\n\n\n...\n...\n...\n\n\n195\n55\n40\n\n\n196\n65\n25\n\n\n197\n85\n100\n\n\n198\n80\n35\n\n\n199\n50\n45\n\n\n\n\n200 rows × 2 columns\n\n\n\n- 예시3: 슬라이싱 (끝점 포함 O)\n\ndf.loc[:,'att':'mid']   # R에서는 안됬었고 끝점 포함\n\n\n\n\n\n\n\n\natt\nrep\nmid\n\n\n\n\n0\n65\n45\n0\n\n\n1\n95\n30\n60\n\n\n2\n65\n85\n15\n\n\n3\n55\n35\n35\n\n\n4\n80\n60\n55\n\n\n...\n...\n...\n...\n\n\n195\n55\n70\n40\n\n\n196\n65\n85\n25\n\n\n197\n85\n85\n100\n\n\n198\n80\n65\n35\n\n\n199\n50\n95\n45\n\n\n\n\n200 rows × 3 columns\n\n\n\n\n\nrow+col indexing\n\ndf.loc[::-1,'att':'mid']   \n\n\n\n\n\n\n\n\natt\nrep\nmid\n\n\n\n\n199\n50\n95\n45\n\n\n198\n80\n65\n35\n\n\n197\n85\n85\n100\n\n\n196\n65\n85\n25\n\n\n195\n55\n70\n40\n\n\n...\n...\n...\n...\n\n\n4\n80\n60\n55\n\n\n3\n55\n35\n35\n\n\n2\n65\n85\n15\n\n\n1\n95\n30\n60\n\n\n0\n65\n45\n0\n\n\n\n\n200 rows × 3 columns\n\n\n\n\n\n\n컨셉 1~4 정리\n\n\n\n\n.\n[]\n.iloc\n.loc\n\n\n\n\nrow/단일레이블\nX\nX\nO\nO\n\n\ncol/단일레이블\nO\nO\nO\nO\n\n\nrow/레이블리스트\nX\nX\nO\nO\n\n\ncol/레이블리스트\nX\nO\nO\nO\n\n\nrow/슬라이싱\nX\nO\nO\nO\n\n\ncol/슬라이싱\nX\nX\nO\nO\n\n\n\n- col 이름을 알아야하는 부담감\n\n. : 앞글자만 대충 알아도 자동완성 가능\n[]: 정확한 col 이름을 알아야 함\n.loc: 보통 정확한 col 이름을 알아야 하지만 슬라이싱 이용시 양 끝의 컬럼이름만 알면 무방\n.iloc: 정확한 col 이름을 몰라도 번호로 인덱싱 가능\n\n- 자주하는 실수\n\n# df['att'] # 가능\n# df.loc['att'] # 불가능\ndf.loc[:,'att'] # 가능\n\n0      65\n1      95\n2      65\n3      55\n4      80\n       ..\n195    55\n196    65\n197    85\n198    80\n199    50\nName: att, Length: 200, dtype: int64"
  },
  {
    "objectID": "posts/DV_6(1012).html#요약",
    "href": "posts/DV_6(1012).html#요약",
    "title": "DV 6주차",
    "section": "요약",
    "text": "요약\n\n\n\n\n.\n[]\n.iloc\n.loc\n\n\n\n\nrow/단일레이블\nX\nX\nO\nO\n\n\ncol/단일레이블\nO\nO\nO\nO\n\n\nrow/레이블리스트\nX\nX\nO\nO\n\n\ncol/레이블리스트\nX\nO\nO\nO\n\n\nrow/슬라이싱\nX\nO\nO\nO\n\n\ncol/슬라이싱\nX\nX\nO\nO\n\n\nrow/bool,list\nX\nO\nO\nO\n\n\nrow/bool,ser\nX\nO\nX\nO\n\n\nrow/bool,map\nX\nX\nO\nO"
  },
  {
    "objectID": "posts/DV_6(1012).html#숙제1",
    "href": "posts/DV_6(1012).html#숙제1",
    "title": "DV 6주차",
    "section": "숙제1",
    "text": "숙제1\n아래와 같이 0~9까지 포함된 리스트를 만들어라\n\nx=list(range(10))\nx\n\n[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\n\n\n아래와 동일한 기능을 수행하는 함수를 lambda expression으로 정의하라.\n\ndef f(xi):\n    return '짝' if (xi % 2)==0 else '홀'\n\n\nff = lambda x: \"짝\" if (x % 2)==0 else \" 홀\" \n\n\nff(2)\n\n'짝'\n\n\n\nf(2)\n\n'짝'\n\n\nmap과 lambda expression 을 이용하여 아래와 같은 결과를 만들어라. (리스트컴프리헨션, for문 사용금지)\n\nx=list(range(10))\nff = lambda x: \"짝\" if (x % 2)==0 else \" 홀\" \ny=list(map(ff,x))\ny\n\n['짝', ' 홀', '짝', ' 홀', '짝', ' 홀', '짝', ' 홀', '짝', ' 홀']"
  },
  {
    "objectID": "posts/DV_6(1012).html#숙제2",
    "href": "posts/DV_6(1012).html#숙제2",
    "title": "DV 6주차",
    "section": "숙제2",
    "text": "숙제2\n다음과 같은 데이터프레임을 불러온 뒤 물음에 답하라\n\ndf=pd.read_csv('https://raw.githubusercontent.com/guebin/DV2022/main/posts/dv2022.csv')\ndf\n\n\n\n\n\n\n\n\natt\nrep\nmid\nfin\n\n\n\n\n0\n65\n45\n0\n10\n\n\n1\n95\n30\n60\n10\n\n\n2\n65\n85\n15\n20\n\n\n3\n55\n35\n35\n5\n\n\n4\n80\n60\n55\n70\n\n\n...\n...\n...\n...\n...\n\n\n195\n55\n70\n40\n95\n\n\n196\n65\n85\n25\n85\n\n\n197\n85\n85\n100\n10\n\n\n198\n80\n65\n35\n60\n\n\n199\n50\n95\n45\n85\n\n\n\n\n200 rows × 4 columns\n\n\n\n(1) 기말고사 성적이 중간고사 성적보다 향상된 학생들을 출력하라. 즉 mid &lt; fin 인 학생들을 출력하라. (다양한 방법으로 연습할 것, 제출은 한 가지 방법으로 구현해도 감점없음)\n\ndf.query('mid&lt;fin')\n\n\n\n\n\n\n\n\natt\nrep\nmid\nfin\n\n\n\n\n0\n65\n45\n0\n10\n\n\n2\n65\n85\n15\n20\n\n\n4\n80\n60\n55\n70\n\n\n5\n75\n40\n75\n85\n\n\n6\n65\n70\n60\n75\n\n\n...\n...\n...\n...\n...\n\n\n194\n65\n40\n65\n70\n\n\n195\n55\n70\n40\n95\n\n\n196\n65\n85\n25\n85\n\n\n198\n80\n65\n35\n60\n\n\n199\n50\n95\n45\n85\n\n\n\n\n93 rows × 4 columns\n\n\n\n\ndf.loc[(df.mid&lt;df.fin)]\n\n\n\n\n\n\n\n\natt\nrep\nmid\nfin\n\n\n\n\n0\n65\n45\n0\n10\n\n\n2\n65\n85\n15\n20\n\n\n4\n80\n60\n55\n70\n\n\n5\n75\n40\n75\n85\n\n\n6\n65\n70\n60\n75\n\n\n...\n...\n...\n...\n...\n\n\n194\n65\n40\n65\n70\n\n\n195\n55\n70\n40\n95\n\n\n196\n65\n85\n25\n85\n\n\n198\n80\n65\n35\n60\n\n\n199\n50\n95\n45\n85\n\n\n\n\n93 rows × 4 columns\n\n\n\n\ndf.iloc[list((df.mid&lt;df.fin))]\n\n\n\n\n\n\n\n\natt\nrep\nmid\nfin\n\n\n\n\n0\n65\n45\n0\n10\n\n\n2\n65\n85\n15\n20\n\n\n4\n80\n60\n55\n70\n\n\n5\n75\n40\n75\n85\n\n\n6\n65\n70\n60\n75\n\n\n...\n...\n...\n...\n...\n\n\n194\n65\n40\n65\n70\n\n\n195\n55\n70\n40\n95\n\n\n196\n65\n85\n25\n85\n\n\n198\n80\n65\n35\n60\n\n\n199\n50\n95\n45\n85\n\n\n\n\n93 rows × 4 columns\n\n\n\n\ndf[list(map(lambda x,y: x&lt;y, df.mid, df.fin))]\n\n\n\n\n\n\n\n\natt\nrep\nmid\nfin\n\n\n\n\n0\n65\n45\n0\n10\n\n\n2\n65\n85\n15\n20\n\n\n4\n80\n60\n55\n70\n\n\n5\n75\n40\n75\n85\n\n\n6\n65\n70\n60\n75\n\n\n...\n...\n...\n...\n...\n\n\n194\n65\n40\n65\n70\n\n\n195\n55\n70\n40\n95\n\n\n196\n65\n85\n25\n85\n\n\n198\n80\n65\n35\n60\n\n\n199\n50\n95\n45\n85\n\n\n\n\n93 rows × 4 columns\n\n\n\n(2) 기말고사 성적이 중간고사 성적보다 향상된 학생들의 출석과 레포트 점수를 출력하라.\n\ndf2 = df.query('mid&lt;fin').copy()\n\n\ndf2.head()\n\n\n\n\n\n\n\n\natt\nrep\nmid\nfin\n\n\n\n\n0\n65\n45\n0\n10\n\n\n2\n65\n85\n15\n20\n\n\n4\n80\n60\n55\n70\n\n\n5\n75\n40\n75\n85\n\n\n6\n65\n70\n60\n75\n\n\n\n\n\n\n\n\ndf2.loc[:,['att','rep']]\n\n\n\n\n\n\n\n\natt\nrep\n\n\n\n\n0\n65\n45\n\n\n2\n65\n85\n\n\n4\n80\n60\n\n\n5\n75\n40\n\n\n6\n65\n70\n\n\n...\n...\n...\n\n\n194\n65\n40\n\n\n195\n55\n70\n\n\n196\n65\n85\n\n\n198\n80\n65\n\n\n199\n50\n95\n\n\n\n\n93 rows × 2 columns\n\n\n\n\ndf2로 받는 방법 말고 다른 방법이 또 있을 거 같은뎀,,"
  },
  {
    "objectID": "posts/DV_07(1019).html",
    "href": "posts/DV_07(1019).html",
    "title": "DV 7주차(2)",
    "section": "",
    "text": "import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom plotnine import *"
  },
  {
    "objectID": "posts/DV_07(1019).html#자료생성",
    "href": "posts/DV_07(1019).html#자료생성",
    "title": "DV 7주차(2)",
    "section": "자료생성",
    "text": "자료생성\n기상자료개방포털: https://data.kma.go.kr/cmmn/main.do\n\n_df=pd.read_csv('https://raw.githubusercontent.com/guebin/DV2022/main/posts/temp.csv')\n_df\n\n\n\n\n\n\n\n\n지점번호\n지점명\n일시\n평균기온(℃)\n최고기온(℃)\n최고기온시각\n최저기온(℃)\n\n\n\n\n0\n146\n전주\n2020-01-01\n-0.5\n4.3\n15:09\n-6.4\n\n\n1\n146\n전주\n2020-01-02\n1.4\n6.5\n14:12\n-3.0\n\n\n2\n146\n전주\n2020-01-03\n2.6\n7.6\n13:32\n-0.5\n\n\n3\n146\n전주\n2020-01-04\n2.0\n7.7\n13:51\n-2.6\n\n\n4\n146\n전주\n2020-01-05\n2.5\n8.6\n14:05\n-3.2\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n651\n146\n전주\n2021-10-13\n19.9\n25.5\n14:29\n15.6\n\n\n652\n146\n전주\n2021-10-14\n20.4\n25.5\n13:36\n17.0\n\n\n653\n146\n전주\n2021-10-15\n18.3\n22.0\n13:47\n15.7\n\n\n654\n146\n전주\n2021-10-16\n12.8\n17.4\n0:01\n6.5\n\n\n655\n146\n전주\n2021-10-17\n6.7\n12.4\n15:18\n2.2\n\n\n\n\n656 rows × 7 columns\n\n\n\n- 평균기온만 선택\n\npd.Series(_df.columns)\n\n0       지점번호\n1        지점명\n2         일시\n3    평균기온(℃)\n4    최고기온(℃)\n5     최고기온시각\n6    최저기온(℃)\ndtype: object\n\n\n\ntemp=np.array(_df.iloc[:,3])"
  },
  {
    "objectID": "posts/DV_07(1019).html#숨은-진짜-상황1-온도-to-아이스크림-판매량",
    "href": "posts/DV_07(1019).html#숨은-진짜-상황1-온도-to-아이스크림-판매량",
    "title": "DV 7주차(2)",
    "section": "숨은 진짜 상황1: 온도 \\(\\to\\) 아이스크림 판매량",
    "text": "숨은 진짜 상황1: 온도 \\(\\to\\) 아이스크림 판매량\n- 아래와 같은 관계가 있다고 하자\n아이스크림 판매량 = 20 + 2 x 온도 + ϵ\n\nnp.random.seed(1)\neps = np.random.normal(size=len(temp), scale=10) \nicecream = 20 + 2*temp + eps\n\n\nplt.plot(temp, icecream, 'o', alpha=0.2)\nplt.xlabel(\"temp\", size=15)\nplt.ylabel(\"icecream\", size=15)\n\nText(0, 0.5, 'icecream')"
  },
  {
    "objectID": "posts/DV_07(1019).html#숨은-진짜-상황2-온도-to-소아마비-반응수치",
    "href": "posts/DV_07(1019).html#숨은-진짜-상황2-온도-to-소아마비-반응수치",
    "title": "DV 7주차(2)",
    "section": "숨은 진짜 상황2: 온도 \\(\\to\\) 소아마비 반응수치",
    "text": "숨은 진짜 상황2: 온도 \\(\\to\\) 소아마비 반응수치\n- 아래와 같은 관계가 있다고 하자\n소아마비 반응수치 = 30 + 0.5 x 온도 + ϵ\n\nnp.random.seed(2) \neps=np.random.normal(size=len(temp),scale=1)\ndisease= 30 + 0.5 * temp + eps\n\n\nplt.plot(temp, disease, 'o', alpha=0.2)\nplt.xlabel(\"temp\", size=15)\nplt.ylabel(\"disease\", size=15)\n\nText(0, 0.5, 'disease')"
  },
  {
    "objectID": "posts/DV_07(1019).html#우리가-관측한-상황-온도는-은닉되어-있음",
    "href": "posts/DV_07(1019).html#우리가-관측한-상황-온도는-은닉되어-있음",
    "title": "DV 7주차(2)",
    "section": "우리가 관측한 상황 (온도는 은닉되어 있음)",
    "text": "우리가 관측한 상황 (온도는 은닉되어 있음)\n\nplt.plot(icecream,disease,'o',alpha=0.3)\nplt.xlabel(\"icecream\",size=15)\nplt.ylabel(\"disease\",size=15)\n\nText(0, 0.5, 'disease')\n\n\n\n\n\ncorr이 높아서 얼핏 생각하면 인과성이 있어보인다.\n\nnp.corrcoef(icecream, disease)\n\narray([[1.        , 0.86298975],\n       [0.86298975, 1.        ]])\n\n\ncorr = 0.86"
  },
  {
    "objectID": "posts/DV_07(1019).html#직관-여름만-뽑아서-plot해보자",
    "href": "posts/DV_07(1019).html#직관-여름만-뽑아서-plot해보자",
    "title": "DV 7주차(2)",
    "section": "직관: 여름만 뽑아서 plot해보자",
    "text": "직관: 여름만 뽑아서 plot해보자\n- temp&gt;25 (여름으로 간주) 인 관측치만 plot\n\nplt.plot(icecream[temp&gt;25], disease[temp&gt;25], 'o', alpha=0.2)\n\n\n\n\n상관관계가 없어보인다?\n\nnp.corrcoef(icecream[temp&gt;25], disease[temp&gt;25])\n\narray([[1.        , 0.26612659],\n       [0.26612659, 1.        ]])\n\n\n- 전체적인 산점도\n\nfig , ((ax1,ax2), (ax3,ax4)) = plt.subplots(2,2,figsize=(8,6)) \nax1.plot(temp,icecream,'o',alpha=0.2); ax1.set_xlabel('temp'); ax1.set_ylabel('icecream'); ax1.set_title(\"hidden1\")\nax2.plot(temp,disease,'o',alpha=0.2); ax2.set_xlabel('temp'); ax2.set_ylabel('disease'); ax2.set_title(\"hidden2\")\nax3.plot(icecream,disease,'o',alpha=0.2); ax3.set_xlabel('icecream'); ax3.set_ylabel('disease'); ax3.set_title(\"observed\")\nax4.plot(icecream,disease,'o',alpha=0.2); ax4.set_xlabel('icecream'); ax4.set_ylabel('disease'); ax4.set_title(\"observed\")\nax4.plot(icecream[temp&gt;25],disease[temp&gt;25],'o',label='temp&gt;25')\nax4.legend()\nfig.tight_layout()"
  },
  {
    "objectID": "posts/DV_07(1019).html#ggplot-온도구간을-세분화-하여-시각화",
    "href": "posts/DV_07(1019).html#ggplot-온도구간을-세분화-하여-시각화",
    "title": "DV 7주차(2)",
    "section": "ggplot: 온도구간을 세분화 하여 시각화",
    "text": "ggplot: 온도구간을 세분화 하여 시각화\n- 목표: 모든 온도구간에 대하여 각각 색을 다르게 하여 그려보자.\n\n사실 지금 변수는 온도, 아이스크림판매량, 소아마비\n온도가 유사한 지역을 색으로 묶으면 3차원 플랏이 가능함"
  },
  {
    "objectID": "posts/DV_07(1019).html#df로-자료정리",
    "href": "posts/DV_07(1019).html#df로-자료정리",
    "title": "DV 7주차(2)",
    "section": "df로 자료정리",
    "text": "df로 자료정리\n\ndf=pd.DataFrame({'temp':temp, 'icecream':icecream, 'disease' : disease})\ndf\n\n\n\n\n\n\n\n\ntemp\nicecream\ndisease\n\n\n\n\n0\n-0.5\n35.243454\n29.333242\n\n\n1\n1.4\n16.682436\n30.643733\n\n\n2\n2.6\n19.918282\n29.163804\n\n\n3\n2.0\n13.270314\n32.640271\n\n\n4\n2.5\n33.654076\n29.456564\n\n\n...\n...\n...\n...\n\n\n651\n19.9\n68.839992\n39.633906\n\n\n652\n20.4\n76.554679\n38.920443\n\n\n653\n18.3\n68.666079\n39.882650\n\n\n654\n12.8\n42.771364\n36.613159\n\n\n655\n6.7\n30.736731\n34.902513\n\n\n\n\n656 rows × 3 columns\n\n\n\n\n구간세분화\n온도를 봄 여름 가을 경루.. 확인하기 위해 구간을 확인하자\n\nplt.hist(df.temp)\n\n(array([  3.,   9.,  29.,  60.,  92.,  86.,  65.,  93., 139.,  80.]),\n array([-12.4 ,  -8.16,  -3.92,   0.32,   4.56,   8.8 ,  13.04,  17.28,\n         21.52,  25.76,  30.  ]),\n &lt;BarContainer object of 10 artists&gt;)\n\n\n\n\n\n\ndf.temp.hist() # 위에도 되고 이거도 되고\n\n&lt;AxesSubplot:&gt;\n\n\n\n\n\n- 구간을 5정도로 하면 적당\n\ndef cut(x): #\n    if x&lt;0: \n        y='Temp: &lt;0'\n    elif x&lt;5: \n        y='Temp: 0~5'\n    elif x&lt;10: \n        y='Temp: 5~10'\n    elif x&lt;15: \n        y='Temp: 10~15'\n    elif x&lt;20:\n        y='Temp: 15~20'\n    elif x&lt;25: \n        y='Temp: 20~25'\n    else: \n        y='Temp: &gt;30'\n    return y \n\n\ndf.temp\n\n0      -0.5\n1       1.4\n2       2.6\n3       2.0\n4       2.5\n       ... \n651    19.9\n652    20.4\n653    18.3\n654    12.8\n655     6.7\nName: temp, Length: 656, dtype: float64\n\n\n\ncut(-0.5)\n\n'Temp: &lt;0'\n\n\n\ncut(4)\n\n'Temp: 0~5'\n\n\n\ndf.assign(temp2=list(map(cut,df.temp)))\n\n\n\n\n\n\n\n\ntemp\nicecream\ndisease\ntemp2\n\n\n\n\n0\n-0.5\n35.243454\n29.333242\nTemp: &lt;0\n\n\n1\n1.4\n16.682436\n30.643733\nTemp: 0~5\n\n\n2\n2.6\n19.918282\n29.163804\nTemp: 0~5\n\n\n3\n2.0\n13.270314\n32.640271\nTemp: 0~5\n\n\n4\n2.5\n33.654076\n29.456564\nTemp: 0~5\n\n\n...\n...\n...\n...\n...\n\n\n651\n19.9\n68.839992\n39.633906\nTemp: 15~20\n\n\n652\n20.4\n76.554679\n38.920443\nTemp: 20~25\n\n\n653\n18.3\n68.666079\n39.882650\nTemp: 15~20\n\n\n654\n12.8\n42.771364\n36.613159\nTemp: 10~15\n\n\n655\n6.7\n30.736731\n34.902513\nTemp: 5~10\n\n\n\n\n656 rows × 4 columns\n\n\n\n\n\nggplot\n\nfig = ggplot(data=df.assign(temp2=list(map(cut,df.temp))))\np1 = geom_point(aes(x='icecream', y='disease', color='temp2'))\nl1 = geom_smooth(aes(x='icecream', y='disease', color='temp2')) # color별 추체선\nfig+p1+l1\n\n/home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages/plotnine/stats/smoothers.py:311: PlotnineWarning: Confidence intervals are not yet implementedfor lowess smoothings.\n\n\n\n\n\n\n각 온도별로 추세선 기울기가 거의 0이다. \\(\\to\\) 온도가 비슷한 구간별로 묶어서 보니까 상관관계가 없다는 것!\n아이스크림 판매량과 소아마비의 corr은 유의미해 보였지만, 온도를 통제하였을 경우 아이스크림의 판매량과 소아마비 반응수치의 corr은 유의미해보이지 않다.\n\n\n\n해석\n- 해피앤딩: 온도를 통제하니까 아이스크림과 질병은 관련이 없어보인다. \\(\\to\\) 아이스크림을 먹으면 소아마비를 유발한다는 이상한 결론이 나올뻔 했지만 우리는 온도라는 흑막을 잘 찾았고 결과적으로 “온도-&gt;아이스크림판매량,소아마비” 이라는 합리적인 진리를 얻을 수 있었다.\n\n온도와 같은 변수를 은닉변수라고 한다.\n\n- 또 다른 흑막? 고려할 흑막이 온도뿐이라는 보장이 어디있지? 사실 흑막2, 흑막3이 있어서 그런 흑막들을 고려하다보니까 아이스크림과 소아마비사이의 상관관계가 다시 보이면 어떡하지?\n\n이러한 이유 때문에 상관계수로 인과성을 유추하는건 사실상 불가능.\n그런데 이론적으로는 “세상의 모든 은닉변수를 통제하였을 경우에도 corr(X,Y)의 값이 1에 가깝다면 그때는 인과성이 있다고 봐도 무방함, (물론 이 경우에도 무엇이 원인인지는 통계적으로 따지는것이 불가)” 이라고 주장할 수 있다. 즉 모든 흑막을 제거한다면 “상관성=인과성”이다.\n\n- 실험계획법, 인과추론: 세상의 모든 흑막을 제거하는건 상식적으로 불가능\n\n피셔의주장(실험계획법): 그런데 실험계획을 잘하면 흑막을 제거한 효과가 있음 (무작위로 사람뽑아서 담배를 피우게 한다든가)\n인과추론: 실험계획이 사실상 불가능한 경우가 있음 \\(\\to\\) 모인 데이터에서 최대한 흑막2,3,4,.. 등이 비슷한 그룹끼리 “매칭”을 시킨다!\n\n실험계획법 - 내가 데이터를 모아야함/ 잘 생각해서 계획적으로\n인과추론 - 모인데이터를 활용 / 데이터의 양이 많아야하는 다넘이 있지만 실험은 하지 않아도 된다는 장점"
  },
  {
    "objectID": "posts/DV_07(1019).html#만약-아이스크림과-소아마비가-관련있는-경우라면",
    "href": "posts/DV_07(1019).html#만약-아이스크림과-소아마비가-관련있는-경우라면",
    "title": "DV 7주차(2)",
    "section": "만약 아이스크림과 소아마비가 관련있는 경우라면?",
    "text": "만약 아이스크림과 소아마비가 관련있는 경우라면?\n- 온도는 아이스크림 판매에 여전히 영향을 주지만\n아이스크림 판매량 = 20 + 2 x 온도 + ϵ\n\nnp.random.seed(1)\neps=np.random.normal(size=len(temp), scale=10) \nicecream = 20 + 2 * temp + eps \n\n- 수영장이 원인이 아니라 진짜 아이스크림을 먹고 소아마비에 걸린상황이라면?\n소아마비 반응수치 = 30 + 0 x 온도 + 0.15 x 아이스크림판매랑 + ϵ\n\nnp.random.seed(2) \neps = np.random.normal(size=len(temp),scale=2)\ndisease= 30+ 0*temp + 0.15*icecream + eps\n\n\ndf2=pd.DataFrame({'temp':temp,'icecream':icecream,'disease':disease})\ndf2.assign(temp2=list(map(cut,df2.temp)))\n\n\n\n\n\n\n\n\ntemp\nicecream\ndisease\ntemp2\n\n\n\n\n0\n-0.5\n35.243454\n34.453002\nTemp: &lt;0\n\n\n1\n1.4\n16.682436\n32.389832\nTemp: 0~5\n\n\n2\n2.6\n19.918282\n28.715350\nTemp: 0~5\n\n\n3\n2.0\n13.270314\n35.271089\nTemp: 0~5\n\n\n4\n2.5\n33.654076\n31.461240\nTemp: 0~5\n\n\n...\n...\n...\n...\n...\n\n\n651\n19.9\n68.839992\n39.693811\nTemp: 15~20\n\n\n652\n20.4\n76.554679\n38.924088\nTemp: 20~25\n\n\n653\n18.3\n68.666079\n41.765212\nTemp: 15~20\n\n\n654\n12.8\n42.771364\n36.842022\nTemp: 10~15\n\n\n655\n6.7\n30.736731\n37.715537\nTemp: 5~10\n\n\n\n\n656 rows × 4 columns\n\n\n\n\nggplot(data=df2.assign(temp2=list(map(cut,df2.temp))))+\\\ngeom_point(aes(x='icecream',y='disease',colour='temp2'),alpha=0.2)+\\\ngeom_smooth(aes(x='icecream',y='disease',colour='temp2'))\n\n/home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages/plotnine/stats/smoothers.py:311: PlotnineWarning: Confidence intervals are not yet implementedfor lowess smoothings.\n\n\n\n\n\n\ndf.corr()\n\n\n\n\n\n\n\n\ntemp\nicecream\ndisease\n\n\n\n\ntemp\n1.000000\n0.884366\n0.975609\n\n\nicecream\n0.884366\n1.000000\n0.862990\n\n\ndisease\n0.975609\n0.862990\n1.000000\n\n\n\n\n\n\n\n\ndf2.corr()\n\n\n\n\n\n\n\n\ntemp\nicecream\ndisease\n\n\n\n\ntemp\n1.000000\n0.884366\n0.725505\n\n\nicecream\n0.884366\n1.000000\n0.830539\n\n\ndisease\n0.725505\n0.830539\n1.000000\n\n\n\n\n\n\n\n단순 corr을 봐서는 “온도-&gt;아이스크림,소아마비” 인지, “온도-&gt;아이스크림-&gt;소아마비” 인지 알기 어렵다."
  },
  {
    "objectID": "posts/DV_5(1006).html",
    "href": "posts/DV_5(1006).html",
    "title": "DV 5주차(2)",
    "section": "",
    "text": "import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom plotnine import *"
  },
  {
    "objectID": "posts/DV_5(1006).html#애드워드-터프티",
    "href": "posts/DV_5(1006).html#애드워드-터프티",
    "title": "DV 5주차(2)",
    "section": "애드워드 터프티",
    "text": "애드워드 터프티\n- 데이터 시각화계의 거장\n- 터프티의 이론중 백미: 엄격한 미니멀리즘\n\n최소한의 잉크로 많은 정보를 전달할 수 있다면 그것이 바로 좋은 그래프이다.\n작은 지면 내에서 잉크를 최대한 적게 써서 짧은 시간 안에 많은 영감을 주어야 한다.\n\n- 데이터-잉크비: 데이터를 표현하는데 들아가는 잉크의 양 / 그래픽을 인쇄하는데 들어가는 잉크의 총량\n- 차트정크 (나이젤홈즈의 그래프)\n\n\n“Lurking behind chartjunk is contempt both for information and for the audience. Chartjunk promoters imagine that numbers and details are boring, dull, and tedious, requiring ornament to enliven. Cosmetic decoration, which frequently distorts the data, will never salvage an underlying lack of content. If the numbers are boring, then you’ve got the wrong numbers (…) Worse is contempt for our audience, designing as if readers were obtuse and uncaring. In fact, consumers of graphics are often more intelligent about the information at hand than those who fabricate the data decoration (…) The operating moral premise of information design should be that our readers are alert and caring; they may be busy, eager to get on with it, but they are not stupid.”\n\n\n차트정크 = 대중을 멸시 + 데이터에 대한 모독\n차트정크 옹호가는 숫자와 데이터가 지루하여 활기가 필요하다고 생각하는 모양이다..\n\n- 별로인 그래프 (왼쪽) / 우수한 그래프 오른쪽\n\n- 별로인 그래프 (왼쪽) / 우수한 그래프 오른쪽\n\n- 별로인 그래프 (왼쪽) / 우수한 그래프 오른쪽\n\n- 제 생각: 글쎄…"
  },
  {
    "objectID": "posts/DV_5(1006).html#찰스미나드의-도표",
    "href": "posts/DV_5(1006).html#찰스미나드의-도표",
    "title": "DV 5주차(2)",
    "section": "찰스미나드의 도표",
    "text": "찰스미나드의 도표\n\n인류역사상 가장 훌륭한 시각화\n\n\n- 터프티의 평\n\n지금까지 그려진 최고의 통계 그래픽일지도 모른다.\n여기에서는 군대의 크기, 2차원 평면상의 위치, 군대의 이동방향, 모스코바에서 퇴각하는 동안의 여러날짜, 온도 \\(\\to\\) 6차원의 변수\n백만번에 한번 이런 그림을 그릴수는 있겠지만 이러한 멋진 그래픽을 만드는 방법에 대한 원칙은 없다. \\(\\to\\) 미니멀리즘..\n\n- 왜 우수한 그래프일까?\n\n자료를 파악하는 기법은 최근까지도 산점도, 막대그래프, 라인플랏에 의존\n이러한 플랏의 단점은 고차원의 자료를 분석하기 어렵다는 것임\n미나드는 여러그램을 그리는 방법 대신에 한 그림에서 패널을 늘리는 방법을 선택함."
  },
  {
    "objectID": "posts/DV_5(1006).html#미나드처럼-그리는게-왜-어려운가",
    "href": "posts/DV_5(1006).html#미나드처럼-그리는게-왜-어려운가",
    "title": "DV 5주차(2)",
    "section": "미나드처럼 그리는게 왜 어려운가?",
    "text": "미나드처럼 그리는게 왜 어려운가?\n- 몸무게, 키, 성별, 국적\n\ndf1=pd.read_csv('https://raw.githubusercontent.com/guebin/DV2022/master/posts/male1.csv')\ndf2=pd.read_csv('https://raw.githubusercontent.com/guebin/DV2022/master/posts/male2.csv')  \ndf3=pd.read_csv('https://raw.githubusercontent.com/guebin/DV2022/master/posts/female.csv') \ndf4=pd.read_csv('https://raw.githubusercontent.com/guebin/DV2022/master/posts/foreign.csv')\n\n- 미나드의 접근방법\n\n_df = pd.concat([pd.concat([df1,df2],axis=1).assign(g='m'),df3.assign(g='f')]) # df1과 df2는 옆으로 붙여야 하므로 axis=0, df3와 구분을 주기위한 g추가\ndf = pd.concat([_df.assign(g2='korea'),df4.assign(g2='foreign')]).reset_index(drop=True) # 인덱스를 0~부터 다시 정리해논거\ndf\n\n\n\n\n\n\n\n\nw\nh\ng\ng2\n\n\n\n\n0\n72.788217\n183.486773\nm\nkorea\n\n\n1\n66.606430\n173.599877\nm\nkorea\n\n\n2\n69.806324\n173.237903\nm\nkorea\n\n\n3\n67.449439\n173.223805\nm\nkorea\n\n\n4\n70.463183\n174.931946\nm\nkorea\n\n\n...\n...\n...\n...\n...\n\n\n1525\n78.154632\n188.324350\nm\nforeign\n\n\n1526\n74.754308\n183.017979\nf\nforeign\n\n\n1527\n91.196208\n190.100456\nm\nforeign\n\n\n1528\n87.770394\n187.987255\nm\nforeign\n\n\n1529\n88.021995\n193.456798\nm\nforeign\n\n\n\n\n1530 rows × 4 columns\n\n\n\n\nsns.scatterplot(data=df,x='w',y='h',hue='g',style='g2')\n\n# 4차원 그림, style을 통해 외국인 구분하기\n\n&lt;AxesSubplot:xlabel='w', ylabel='h'&gt;\n\n\n\n\n\n- 어려운점: (1) 센스가 없어서 hue/style을 이용하여 그룹을 구분할 생각을 못함 (2) long df (=tidy data) 형태로 데이터를 정리할 생각을 못함 (3) long df 형태로 데이터를 변형하는 코드를 모름\n\n\n기획력부족 -&gt; 훌륭한 시각화를 많이 볼 것\n\n\n데이터프레임에 대한 이해부족 -&gt; tidydata에 대한 개념\n\n\n프로그래밍 능력 -&gt; 코딩공부열심히 (pandas를 엄청 잘해야함)"
  },
  {
    "objectID": "posts/DV_5(1006).html#방법1-rpy2-코랩-아닌경우-실습금지",
    "href": "posts/DV_5(1006).html#방법1-rpy2-코랩-아닌경우-실습금지",
    "title": "DV 5주차(2)",
    "section": "방법1: rpy2 (코랩 아닌경우 실습금지)",
    "text": "방법1: rpy2 (코랩 아닌경우 실습금지)\n\nimport rpy2\n%load_ext rpy2.ipython\n\n\n%%R \n### 여기는 R처럼 쓸 수 있다. \na &lt;- c(1,2,3) \na+1\n\n[1] 2 3 4\n\n\n\na\n\nNameError: name 'a' is not defined\n\n\n\nR과 파이썬은 독립적이므로 R을 나가서 a를 입력하면 아무것도 안나옴\n\n\n%%R \nlibrary(tidyverse)\nmpg\n\n# A tibble: 234 × 11\n   manufacturer model      displ  year   cyl trans drv     cty   hwy fl    class\n   &lt;chr&gt;        &lt;chr&gt;      &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt;\n 1 audi         a4           1.8  1999     4 auto… f        18    29 p     comp…\n 2 audi         a4           1.8  1999     4 manu… f        21    29 p     comp…\n 3 audi         a4           2    2008     4 manu… f        20    31 p     comp…\n 4 audi         a4           2    2008     4 auto… f        21    30 p     comp…\n 5 audi         a4           2.8  1999     6 auto… f        16    26 p     comp…\n 6 audi         a4           2.8  1999     6 manu… f        18    26 p     comp…\n 7 audi         a4           3.1  2008     6 auto… f        18    27 p     comp…\n 8 audi         a4 quattro   1.8  1999     4 manu… 4        18    26 p     comp…\n 9 audi         a4 quattro   1.8  1999     4 auto… 4        16    25 p     comp…\n10 audi         a4 quattro   2    2008     4 manu… 4        20    28 p     comp…\n# … with 224 more rows\n# ℹ Use `print(n = ...)` to see more rows\n\n\n\nmpg\n\nNameError: name 'mpg' is not defined\n\n\n\n%R -o mpg # R에 있는 자료가 파이썬으로 넘어옴\n\n\nmpg\n\n\n\n\n\n\n\n\nmanufacturer\nmodel\ndispl\nyear\ncyl\ntrans\ndrv\ncty\nhwy\nfl\nclass\n\n\n\n\n1\naudi\na4\n1.8\n1999\n4\nauto(l5)\nf\n18\n29\np\ncompact\n\n\n2\naudi\na4\n1.8\n1999\n4\nmanual(m5)\nf\n21\n29\np\ncompact\n\n\n3\naudi\na4\n2.0\n2008\n4\nmanual(m6)\nf\n20\n31\np\ncompact\n\n\n4\naudi\na4\n2.0\n2008\n4\nauto(av)\nf\n21\n30\np\ncompact\n\n\n5\naudi\na4\n2.8\n1999\n6\nauto(l5)\nf\n16\n26\np\ncompact\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n230\nvolkswagen\npassat\n2.0\n2008\n4\nauto(s6)\nf\n19\n28\np\nmidsize\n\n\n231\nvolkswagen\npassat\n2.0\n2008\n4\nmanual(m6)\nf\n21\n29\np\nmidsize\n\n\n232\nvolkswagen\npassat\n2.8\n1999\n6\nauto(l5)\nf\n16\n26\np\nmidsize\n\n\n233\nvolkswagen\npassat\n2.8\n1999\n6\nmanual(m5)\nf\n18\n26\np\nmidsize\n\n\n234\nvolkswagen\npassat\n3.6\n2008\n6\nauto(s6)\nf\n17\n26\np\nmidsize\n\n\n\n\n234 rows × 11 columns"
  },
  {
    "objectID": "posts/DV_5(1006).html#방법2-저장된-csv파일을-통하여-데이터를-확보",
    "href": "posts/DV_5(1006).html#방법2-저장된-csv파일을-통하여-데이터를-확보",
    "title": "DV 5주차(2)",
    "section": "방법2: 저장된 csv파일을 통하여 데이터를 확보",
    "text": "방법2: 저장된 csv파일을 통하여 데이터를 확보\n\nmpg.to_csv(\"mpg.csv\",index=False)\n\n\npd.read_csv(\"mpg.csv\")\n\n\n\n\n\n\n\n\nmanufacturer\nmodel\ndispl\nyear\ncyl\ntrans\ndrv\ncty\nhwy\nfl\nclass\n\n\n\n\n0\naudi\na4\n1.8\n1999\n4\nauto(l5)\nf\n18\n29\np\ncompact\n\n\n1\naudi\na4\n1.8\n1999\n4\nmanual(m5)\nf\n21\n29\np\ncompact\n\n\n2\naudi\na4\n2.0\n2008\n4\nmanual(m6)\nf\n20\n31\np\ncompact\n\n\n3\naudi\na4\n2.0\n2008\n4\nauto(av)\nf\n21\n30\np\ncompact\n\n\n4\naudi\na4\n2.8\n1999\n6\nauto(l5)\nf\n16\n26\np\ncompact\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n229\nvolkswagen\npassat\n2.0\n2008\n4\nauto(s6)\nf\n19\n28\np\nmidsize\n\n\n230\nvolkswagen\npassat\n2.0\n2008\n4\nmanual(m6)\nf\n21\n29\np\nmidsize\n\n\n231\nvolkswagen\npassat\n2.8\n1999\n6\nauto(l5)\nf\n16\n26\np\nmidsize\n\n\n232\nvolkswagen\npassat\n2.8\n1999\n6\nmanual(m5)\nf\n18\n26\np\nmidsize\n\n\n233\nvolkswagen\npassat\n3.6\n2008\n6\nauto(s6)\nf\n17\n26\np\nmidsize\n\n\n\n\n234 rows × 11 columns"
  },
  {
    "objectID": "posts/DV_5(1006).html#방법3-github등에-공개된-csv를-읽어오기",
    "href": "posts/DV_5(1006).html#방법3-github등에-공개된-csv를-읽어오기",
    "title": "DV 5주차(2)",
    "section": "방법3: github등에 공개된 csv를 읽어오기",
    "text": "방법3: github등에 공개된 csv를 읽어오기\n\npd.read_csv('https://raw.githubusercontent.com/guebin/DV2022/master/posts/mpg.csv')\n\n\n\n\n\n\n\n\nmanufacturer\nmodel\ndispl\nyear\ncyl\ntrans\ndrv\ncty\nhwy\nfl\nclass\n\n\n\n\n0\naudi\na4\n1.8\n1999\n4\nauto(l5)\nf\n18\n29\np\ncompact\n\n\n1\naudi\na4\n1.8\n1999\n4\nmanual(m5)\nf\n21\n29\np\ncompact\n\n\n2\naudi\na4\n2.0\n2008\n4\nmanual(m6)\nf\n20\n31\np\ncompact\n\n\n3\naudi\na4\n2.0\n2008\n4\nauto(av)\nf\n21\n30\np\ncompact\n\n\n4\naudi\na4\n2.8\n1999\n6\nauto(l5)\nf\n16\n26\np\ncompact\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n229\nvolkswagen\npassat\n2.0\n2008\n4\nauto(s6)\nf\n19\n28\np\nmidsize\n\n\n230\nvolkswagen\npassat\n2.0\n2008\n4\nmanual(m6)\nf\n21\n29\np\nmidsize\n\n\n231\nvolkswagen\npassat\n2.8\n1999\n6\nauto(l5)\nf\n16\n26\np\nmidsize\n\n\n232\nvolkswagen\npassat\n2.8\n1999\n6\nmanual(m5)\nf\n18\n26\np\nmidsize\n\n\n233\nvolkswagen\npassat\n3.6\n2008\n6\nauto(s6)\nf\n17\n26\np\nmidsize\n\n\n\n\n234 rows × 11 columns\n\n\n\n- 깃허브 저장소에 아예 데이터만 따로 모아서 관리하는 것도 좋은 방법입니다."
  },
  {
    "objectID": "posts/DV_5(1006).html#data-설명",
    "href": "posts/DV_5(1006).html#data-설명",
    "title": "DV 5주차(2)",
    "section": "data 설명",
    "text": "data 설명\n- displ: 자동차의 엔진크기\n- hwy: 연료의 효율, 동일한 연료로 얼마나 멀리 가느냐?\n- 자세한 설명은 R에서 ?mpg를 이용해 스스로 찾아볼 것"
  },
  {
    "objectID": "posts/DV_5(1006).html#python에서-plotnine을-이용한-산점도",
    "href": "posts/DV_5(1006).html#python에서-plotnine을-이용한-산점도",
    "title": "DV 5주차(2)",
    "section": "python에서: plotnine을 이용한 산점도",
    "text": "python에서: plotnine을 이용한 산점도\n\nggplot(data=mpg) + geom_point(aes(x='displ', y='hyw')) \n\n\nggplot(data=mpg) + geom_point(mapping=aes(x='displ',y='hwy')) ## plotnine\n\n\n\n\n\n산점도 해석: 엔진크기가 클수록 효율이 낮음.\n\n- 빠르게 그리기: data=와 mapping=은 생략가능함\n\nggplot(mpg) + geom_point(aes(x='displ',y='hwy')) ## plotnine"
  },
  {
    "objectID": "posts/DV_5(1006).html#r에서-ggplot2를-이용한-산점도",
    "href": "posts/DV_5(1006).html#r에서-ggplot2를-이용한-산점도",
    "title": "DV 5주차(2)",
    "section": "R에서: ggplot2를 이용한 산점도",
    "text": "R에서: ggplot2를 이용한 산점도\n- R에서도 거의 똑같은 문법으로 그릴 수 있음 (데이터프레임 혹은 티블에 저장된 column 이름을 사용할때 따옴표만 제거하면 된다!)\n\nw 800은 그림의 폭 조정\n\n\n%%R -w 800\nggplot(mpg) + geom_point(aes(x=displ,y=hwy)) ## plotnine"
  },
  {
    "objectID": "posts/DV_5(1006).html#python에서-객체지향적인-느낌으로-산점도-그리기",
    "href": "posts/DV_5(1006).html#python에서-객체지향적인-느낌으로-산점도-그리기",
    "title": "DV 5주차(2)",
    "section": "python에서: 객체지향적인 느낌으로 산점도 그리기",
    "text": "python에서: 객체지향적인 느낌으로 산점도 그리기\nstep1: 도화지를 준비한다.\n\nfig = ggplot(data=mpg)\nfig\n\n\n\n\nstep2 변수와 에스테틱사이의 맵핑을 설정한다.\n\na1= aes(x='displ',y='hwy')\na1\n\n{'x': 'displ', 'y': 'hwy'}\n\n\nstep3 점들의 집합을 만든다. 즉 포인트 지옴을 만든다.\n\npoint1=geom_point(mapping=a1)\n\n\ngeom_point(): 점들을 그려! 어떻게?\na1에서 설정된 표를 보고\n\nstep4 도화지와 지옴을 합친다.\n\nfig+point1"
  },
  {
    "objectID": "posts/DV_5(1006).html#산점도-점크기변경",
    "href": "posts/DV_5(1006).html#산점도-점크기변경",
    "title": "DV 5주차(2)",
    "section": "산점도 + 점크기변경",
    "text": "산점도 + 점크기변경\n\nggplot(data=mpg) + geom_point(mapping = aes(x='displ',y='hwy',size='class'))\n\n/home/cgb4/anaconda3/envs/py37/lib/python3.7/site-packages/plotnine/scales/scale_size.py:50: PlotnineWarning: Using size for a discrete variable is not advised."
  },
  {
    "objectID": "posts/DV_5(1006).html#산점도-투명도변경",
    "href": "posts/DV_5(1006).html#산점도-투명도변경",
    "title": "DV 5주차(2)",
    "section": "산점도 + 투명도변경",
    "text": "산점도 + 투명도변경\n\nggplot(data=mpg) + geom_point(mapping = aes(x='displ',y='hwy',alpha='class'))\n\n/home/cgb4/anaconda3/envs/py37/lib/python3.7/site-packages/plotnine/scales/scale_alpha.py:70: PlotnineWarning: Using alpha for a discrete variable is not advised."
  },
  {
    "objectID": "posts/DV_5(1006).html#산점도-투명도점크기를-동시에-적용",
    "href": "posts/DV_5(1006).html#산점도-투명도점크기를-동시에-적용",
    "title": "DV 5주차(2)",
    "section": "산점도 + 투명도/점크기를 동시에 적용",
    "text": "산점도 + 투명도/점크기를 동시에 적용\n\nggplot(data=mpg) + geom_point(mapping = aes(x='displ',y='hwy',alpha='class',size='class'))\n\n/home/cgb4/anaconda3/envs/py37/lib/python3.7/site-packages/plotnine/scales/scale_alpha.py:70: PlotnineWarning: Using alpha for a discrete variable is not advised.\n/home/cgb4/anaconda3/envs/py37/lib/python3.7/site-packages/plotnine/scales/scale_size.py:50: PlotnineWarning: Using size for a discrete variable is not advised."
  },
  {
    "objectID": "posts/DV_5(1006).html#산점도-형태",
    "href": "posts/DV_5(1006).html#산점도-형태",
    "title": "DV 5주차(2)",
    "section": "산점도 + 형태",
    "text": "산점도 + 형태\n\nggplot(data=mpg) + geom_point(mapping = aes(x='displ',y='hwy',shape='class'))"
  },
  {
    "objectID": "posts/DV_5(1006).html#산점도-색깔",
    "href": "posts/DV_5(1006).html#산점도-색깔",
    "title": "DV 5주차(2)",
    "section": "산점도 + 색깔",
    "text": "산점도 + 색깔\n\nggplot(data=mpg) + geom_point(mapping = aes(x='displ',y='hwy',color='class'))"
  },
  {
    "objectID": "posts/DV_5(1006).html#객체지향적-느낌으로",
    "href": "posts/DV_5(1006).html#객체지향적-느낌으로",
    "title": "DV 5주차(2)",
    "section": "객체지향적 느낌으로?",
    "text": "객체지향적 느낌으로?\n\na2 = aes(x='displ', y='hwy', color='class') \n\n\na1,a2\n\n({'x': 'displ', 'y': 'hwy'}, {'x': 'displ', 'y': 'hwy', 'color': 'class'})\n\n\n\npoint2=geom_point(a2)\n\n\nfig+point2"
  },
  {
    "objectID": "posts/DV_5(1006).html#산점도-색깔-적합선",
    "href": "posts/DV_5(1006).html#산점도-색깔-적합선",
    "title": "DV 5주차(2)",
    "section": "산점도 + 색깔 + 적합선",
    "text": "산점도 + 색깔 + 적합선\n- 일단 색깔이 없는 포인트 지옴부터 연습\n\nfig+point1\n\n\n\n\n\nline1 = geom_smooth(a1)\n\n\nfig+point1+line1\n\n/home/cgb4/anaconda3/envs/py37/lib/python3.7/site-packages/plotnine/stats/smoothers.py:311: PlotnineWarning: Confidence intervals are not yet implementedfor lowess smoothings.\n\n\n\n\n\n- point1(색깔없는 포인트 지옴)을 point2(색깔있는 포인트 지옴)으로 언제든지 바꿔치기 가능!\n\nfig+point2+line1\n\n/home/cgb4/anaconda3/envs/py37/lib/python3.7/site-packages/plotnine/stats/smoothers.py:311: PlotnineWarning: Confidence intervals are not yet implementedfor lowess smoothings.\n\n\n\n\n\n- 명령어로 한번에 그리기\n\n줄 넘어 가는 연산자 표현 : \\\n\n\nggplot(data=mpg) + \\\ngeom_point(mapping=aes(x='displ',y='hwy',color='class')) + \\\ngeom_smooth(mapping=aes(x='displ',y='hwy'))\n\n/home/cgb4/anaconda3/envs/py37/lib/python3.7/site-packages/plotnine/stats/smoothers.py:311: PlotnineWarning: Confidence intervals are not yet implementedfor lowess smoothings.\n\n\n\n\n\n- 공통적인 맵핑규칙은 ggplot()쪽으로 빼기도 한다. (figure를 선언하는 곳에서 공통으로 선언함)\n\nggplot(data=mpg,mapping=aes(x='displ',y='hwy')) + \\\ngeom_point(mapping=aes(color='class')) + \\\ngeom_smooth()\n\n/home/cgb4/anaconda3/envs/py37/lib/python3.7/site-packages/plotnine/stats/smoothers.py:311: PlotnineWarning: Confidence intervals are not yet implementedfor lowess smoothings.\n\n\n\n\n\n- R에서는 confidence interval도 geom_smooth()를 이용하여 확인할 수 있다.\n\n%%R -w 800\nggplot(data=mpg,mapping=aes(x=displ,y=hwy)) + geom_point(mapping=aes(color=class)) + geom_smooth()\n\nR[write to console]: `geom_smooth()` using method = 'loess' and formula 'y ~ x'"
  },
  {
    "objectID": "posts/DV_5(1006).html#산점도-점크기변경-색깔",
    "href": "posts/DV_5(1006).html#산점도-점크기변경-색깔",
    "title": "DV 5주차(2)",
    "section": "산점도 + 점크기변경 + 색깔",
    "text": "산점도 + 점크기변경 + 색깔\n- drv (전륜, 후륜, 4륜 구동)에 따라서 데이터를 시각화 하고 싶다.\n\nggplot(data=mpg, mapping=aes(x='displ',y='hwy')) + geom_point(mapping=aes(size='class',color='drv'),alpha=0.3)\n\n/home/cgb4/anaconda3/envs/py37/lib/python3.7/site-packages/plotnine/scales/scale_size.py:50: PlotnineWarning: Using size for a discrete variable is not advised.\n\n\n\n\n\n\n모든 \\(x\\)에 대하여 붉은색 점들이 대부분 초록색과 보라색 점들에 비하여 아래쪽에 있음 \\(\\to\\) 4륜구동방식이 연비가 좋지 않음"
  },
  {
    "objectID": "posts/DV_5(1006).html#산점도-점크기변경-색깔-객체지향버전",
    "href": "posts/DV_5(1006).html#산점도-점크기변경-색깔-객체지향버전",
    "title": "DV 5주차(2)",
    "section": "산점도 + 점크기변경 + 색깔 (객체지향버전)",
    "text": "산점도 + 점크기변경 + 색깔 (객체지향버전)\n- 맵핑규칙\n\na1,a2\n\n({'x': 'displ', 'y': 'hwy'}, {'x': 'displ', 'y': 'hwy', 'color': 'class'})\n\n\n\na3 = a2.copy() \n\n\na3['color'] = 'drv'\na3['size'] = 'class'\na3\n\n{'x': 'displ', 'y': 'hwy', 'color': 'drv', 'size': 'class'}\n\n\n\n아래와 같이 선언해도 괜찮음\n\na3= aes(x='displ',y='hwy',color='drv',size='class')\n\npoint3=geom_point(a3)\n\n\nfig+point3\n\n/home/cgb4/anaconda3/envs/py37/lib/python3.7/site-packages/plotnine/scales/scale_size.py:50: PlotnineWarning: Using size for a discrete variable is not advised.\n\n\n\n\n\n\n그림의 전체적인 투명도를 조절하면 좋겠음\n\n\npoint3=geom_point(a3,alpha=0.2)\nfig+point3\n\n/home/cgb4/anaconda3/envs/py37/lib/python3.7/site-packages/plotnine/scales/scale_size.py:50: PlotnineWarning: Using size for a discrete variable is not advised."
  },
  {
    "objectID": "posts/DV_5(1006).html#산점도-점크기변경-색깔-선추가",
    "href": "posts/DV_5(1006).html#산점도-점크기변경-색깔-선추가",
    "title": "DV 5주차(2)",
    "section": "산점도 + 점크기변경 + 색깔 + 선추가",
    "text": "산점도 + 점크기변경 + 색깔 + 선추가\n\nfig+point3+line1\n\n/home/cgb4/anaconda3/envs/py37/lib/python3.7/site-packages/plotnine/scales/scale_size.py:50: PlotnineWarning: Using size for a discrete variable is not advised.\n/home/cgb4/anaconda3/envs/py37/lib/python3.7/site-packages/plotnine/stats/smoothers.py:311: PlotnineWarning: Confidence intervals are not yet implementedfor lowess smoothings."
  },
  {
    "objectID": "posts/DV_5(1006).html#산점도-점크기변경-색깔-drv별로-선추가",
    "href": "posts/DV_5(1006).html#산점도-점크기변경-색깔-drv별로-선추가",
    "title": "DV 5주차(2)",
    "section": "산점도 + 점크기변경 + 색깔 + drv별로 선추가",
    "text": "산점도 + 점크기변경 + 색깔 + drv별로 선추가\n- 맵핑규칙\n\na1,a2,a3\n\n({'x': 'displ', 'y': 'hwy'},\n {'x': 'displ', 'y': 'hwy', 'color': 'class'},\n {'x': 'displ', 'y': 'hwy', 'color': 'drv', 'size': 'class'})\n\n\n\na4 = a2.copy() \na4['color']='drv'\na4\n\n{'x': 'displ', 'y': 'hwy', 'color': 'drv'}\n\n\n\nline2 = geom_smooth(a4)\n\n\nfig + point3 +line2\n\n/home/cgb4/anaconda3/envs/py37/lib/python3.7/site-packages/plotnine/scales/scale_size.py:50: PlotnineWarning: Using size for a discrete variable is not advised.\n/home/cgb4/anaconda3/envs/py37/lib/python3.7/site-packages/plotnine/stats/smoothers.py:311: PlotnineWarning: Confidence intervals are not yet implementedfor lowess smoothings.\n\n\n\n\n\n- 선의 색깔을 동일하게 하고 선의 타입을 변경하여 drv를 표시하고 싶다면?\n\na1,a2,a3,a4\n\n({'x': 'displ', 'y': 'hwy'},\n {'x': 'displ', 'y': 'hwy', 'color': 'class'},\n {'x': 'displ', 'y': 'hwy', 'color': 'drv', 'size': 'class'},\n {'x': 'displ', 'y': 'hwy', 'color': 'drv'})\n\n\n\na5=a1.copy()\na5['linetype']='drv' \na5\n\n{'x': 'displ', 'y': 'hwy', 'linetype': 'drv'}\n\n\n\nline3 = geom_smooth(a5,size=0.5,color='gray')\n\n\nfig+point3+line3\n\n/home/cgb4/anaconda3/envs/py37/lib/python3.7/site-packages/plotnine/scales/scale_size.py:50: PlotnineWarning: Using size for a discrete variable is not advised.\n/home/cgb4/anaconda3/envs/py37/lib/python3.7/site-packages/plotnine/stats/smoothers.py:311: PlotnineWarning: Confidence intervals are not yet implementedfor lowess smoothings.\n\n\n\n\n\n- 전체적인 추세선도 추가하고 싶다면?\n\nfig+point3+line3+line1\n\n/home/cgb4/anaconda3/envs/py37/lib/python3.7/site-packages/plotnine/scales/scale_size.py:50: PlotnineWarning: Using size for a discrete variable is not advised.\n/home/cgb4/anaconda3/envs/py37/lib/python3.7/site-packages/plotnine/stats/smoothers.py:311: PlotnineWarning: Confidence intervals are not yet implementedfor lowess smoothings.\n\n\n\n\n\n- 그려보니까 역시 drv별로 그려지는 추세선은 색깔별로 구분하는게 좋겠음.\n\nline2 = geom_smooth(a4,size=0.5,linetype='dashed')\nfig+point3+line2+line1\n\n/home/cgb4/anaconda3/envs/py37/lib/python3.7/site-packages/plotnine/scales/scale_size.py:50: PlotnineWarning: Using size for a discrete variable is not advised.\n/home/cgb4/anaconda3/envs/py37/lib/python3.7/site-packages/plotnine/stats/smoothers.py:311: PlotnineWarning: Confidence intervals are not yet implementedfor lowess smoothings.\n\n\n\n\n\n- 고차원을 변수를 표현할 수 있는 무기는 다양하다.\n\n산점도(포인트지옴): 점의크기, 점의형태, 점의색깔, 점의투명도\n라인플랏(스무스지옴,라인지옴): 선의형태, 선의색깔, 선의굵기"
  },
  {
    "objectID": "posts/DV_3(0919).html",
    "href": "posts/DV_3(0919).html",
    "title": "DV 3주차(1)",
    "section": "",
    "text": "import matplotlib.pyplot as plt\nimport numpy as np"
  },
  {
    "objectID": "posts/DV_3(0919).html#line-plot",
    "href": "posts/DV_3(0919).html#line-plot",
    "title": "DV 3주차(1)",
    "section": "Line plot",
    "text": "Line plot\n\n기본플랏\n- 예시\n\nx=[1,2,3,4]\ny=[1,2,4,3]\n\n\nplt.plot(x,y)\n\n\n\n\n\n\n모양변경\n- 예시1\n\nplt.plot(x,y,'--') #점선\n\n\n\n\n- 예시2\n\nplt.plot(x,y,':')\n\n\n\n\n- 예시3\n\nplt.plot(x,y,'-.')\n\n\n\n\n\n\n색상변경\n- 예시1\n\nplt.plot(x,y,'r')\n\n\n\n\n- 예시2\n\nplt.plot(x,y,'k') #블랙\n\n\n\n\n\n\n모양 + 색상변경\n- 예시1\n\nplt.plot(x,y,'--r')  # r을 앞에 쓰든 뒤에 쓰든 나온다\n\n\n\n\n\n\n원리?\n- r-- 등의 옵션은 Markers + Line Styles + Colors의 조합으로 표현 가능\nref : https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.plot.html\n\n--r: 점선(dashed)스타일 + 빨간색\nr--: 빨간색 + 점선(dashed)스타일\n:k: 점선(dotted)스타일 + 검은색\nk:: 검은색 + 점선(dotted)스타일\n\n- 우선 Marker를 무시하면 Line Styles + Color로 표현가능한 조합은 4*8 = 32개\n(Line Styles) 모두 4개\n\n\n\ncharacter\ndescription\n\n\n\n\n‘-’\nsolid line style\n\n\n‘–’\ndashed line style\n\n\n‘-.’\ndash-dot line style\n\n\n‘:’\ndotted line style\n\n\n\n(Color) 모두 8개\n\n\n\ncharacter\ncolor\n\n\n\n\n‘b’\nblue\n\n\n‘g’\ngreen\n\n\n‘r’\nred\n\n\n‘c’\ncyan\n\n\n‘m’\nmagenta\n\n\n‘y’\nyellow\n\n\n‘k’\nblack\n\n\n‘w’\nwhite\n\n\n\n- 예시1\n\nplt.plot(x,y,'--m')\n\n\n\n\n- 예시2\n\nplt.plot(x,y,'-.c')\n\n\n\n\n- 예시3: line style + color 조합으로 사용하든 color + line style 조합으로 사용하든 상관없음\n\nplt.plot(x,y,'c-.')\n\n\n\n\n- 예시4: line style을 중복으로 사용하거나 color를 중복으로 쓸 수 는 없다.\n\nplt.plot(x,y,'--:')\n\nValueError: Illegal format string \"--:\"; two linestyle symbols\n\n\n\n\n\n\nplt.plot(x,y,'rb')\n\nValueError: Illegal format string \"rb\"; two color symbols\n\n\n\n\n\n- 예시5: 색이 사실 8개만 있는 것은 아니다.\nref: https://matplotlib.org/2.0.2/examples/color/named_colors.html\n\nplt.plot(x,y,'--',color='aqua') # 8가지 색 외의 다른 것은 color= 옵션으로 줘야함\n\n\n\n\n- 예시6: 색을 바꾸려면 Hex코드를 밖아 넣는 방법이 젤 깔끔함\nref: https://htmlcolorcodes.com/\n\nplt.plot(x,y,color='#277E41')   \n\n\n\n\n- 예시7: 라인스타일도 4개만 있지 않다\nref: https://matplotlib.org/stable/gallery/lines_bars_and_markers/linestyles.html\n\nplt.plot(x,y,linestyle='dashed')\n\n\n\n\n\nplt.plot(x,y,linestyle=(0, (20, 5)))\n\n\n\n\n\nplt.plot(x,y,linestyle=(0, (20, 1)))"
  },
  {
    "objectID": "posts/DV_3(0919).html#scatter-plot",
    "href": "posts/DV_3(0919).html#scatter-plot",
    "title": "DV 3주차(1)",
    "section": "Scatter plot",
    "text": "Scatter plot\n\n원리\n- 그냥 마커를 설정하면 끝\nref: https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.plot.html\n\n\n\ncharacter\ndescription\n\n\n\n\n‘.’\npoint marker\n\n\n‘,’\npixel marker\n\n\n‘o’\ncircle marker\n\n\n‘v’\ntriangle_down marker\n\n\n‘^’\ntriangle_up marker\n\n\n‘&lt;’\ntriangle_left marker\n\n\n‘&gt;’\ntriangle_right marker\n\n\n‘1’\ntri_down marker\n\n\n‘2’\ntri_up marker\n\n\n‘3’\ntri_left marker\n\n\n‘4’\ntri_right marker\n\n\n‘8’\noctagon marker\n\n\n‘s’\nsquare marker\n\n\n‘p’\npentagon marker\n\n\n‘P’\nplus (filled) marker\n\n\n’*’\nstar marker\n\n\n‘h’\nhexagon1 marker\n\n\n‘H’\nhexagon2 marker\n\n\n‘+’\nplus marker\n\n\n‘x’\nx marker\n\n\n‘X’\nx (filled) marker\n\n\n‘D’\ndiamond marker\n\n\n‘d’\nthin_diamond marker\n\n\n‘|’\nvline marker\n\n\n’_’\nhline marker\n\n\n\n\nplt.plot(x,y,'o')\n\n\n\n\n\n\n기본플랏\n\nplt.plot(x,y,'.')\n\n\n\n\n\nplt.plot(x,y,'x')\n\n\n\n\n\n\n색깔변경\n\nplt.plot(x,y,'or')\n\n\n\n\n\nplt.plot(x,y,'db')\n\n\n\n\n\nplt.plot(x,y,'bx')"
  },
  {
    "objectID": "posts/DV_3(0919).html#dot-connected-plot",
    "href": "posts/DV_3(0919).html#dot-connected-plot",
    "title": "DV 3주차(1)",
    "section": "dot-connected plot",
    "text": "dot-connected plot\n- 예시1: 마커와 라인스타일을 동시에 사용하면 dot-connected plot이 된다.\n\nplt.plot(x,y,'o-')\n\n\n\n\n- 예시2: 당연히 색도 적용가능\n\nplt.plot(x,y,'o--r')\n\n\n\n\n- 예시3: 서로 순서를 바꿔도 상관없다.\n\nplt.plot(x,y,'r--o')\n\n\n\n\n\nplt.plot(x,y,'ro--')"
  },
  {
    "objectID": "posts/DV_3(0919).html#여러-그림-그리기",
    "href": "posts/DV_3(0919).html#여러-그림-그리기",
    "title": "DV 3주차(1)",
    "section": "여러 그림 그리기",
    "text": "여러 그림 그리기\n\n겹쳐그리기\n- 예시1\n\nx = np.arange(-5,5,0.1)\nϵ = np.random.randn(100)\ny = 2*x + ϵ\n\n\nplt.plot(x,y,'.b')\nplt.plot(x,2*x,'r')\n\n\n\n\n\n\n따로그리기(subplot) // 외우기\n- 예시1\n\nfig, axs = plt.subplots(2)\naxs[0].plot(x,y,'.b')\naxs[1].plot(x,2*x,'r')\n\n\n\n\n- 예시2\n\nfig, axs = plt.subplots(2,2)\naxs[0,0].plot(x,2*x,'--b')\naxs[0,1].plot(x,ϵ,'.r')\naxs[1,0].plot(x,y,'.r')\naxs[1,1].plot(x,y,'.r')\naxs[1,1].plot(x,2*x,'-b')"
  },
  {
    "objectID": "posts/DV_3(0919).html#fig와-axes의-이해-matplotlib으로-어렵게-그림을-기리는-방법",
    "href": "posts/DV_3(0919).html#fig와-axes의-이해-matplotlib으로-어렵게-그림을-기리는-방법",
    "title": "DV 3주차(1)",
    "section": "fig와 axes의 이해: matplotlib으로 어렵게 그림을 기리는 방법",
    "text": "fig와 axes의 이해: matplotlib으로 어렵게 그림을 기리는 방법\n\n예제1\n- 목표: plt.plot()을 이용하지 않고 아래의 그림을 그려보자.\n\nplt.plot([1,2,3,4],[1,2,4,3],'or--')\n\n\n\n\n- 구조: axis \\(\\subset\\) axes \\(\\subset\\) figure\nref: https://matplotlib.org/stable/gallery/showcase/anatomy.html#sphx-glr-gallery-showcase-anatomy-py\n\n- 전략: Fig을 만들고 (도화지를 준비) \\(\\to\\) axes를 만들고 (네모틀) \\(\\to\\) axes에 그림을 그린다.\n- 그림객체를 생성한다.\n\nfig = plt.figure()\n\n&lt;Figure size 432x288 with 0 Axes&gt;\n\n\n\nfig # 지금은 아무것도 없다\n\n&lt;Figure size 432x288 with 0 Axes&gt;\n\n\n- 그림객체에는 여러 인스턴스+함수가 있는데 그중에서 axes도 있다. (그런데 그 와중에 plot method는 없다.)\n\nfig.axes   # 비어있는 리스트\n\n[]\n\n\n- axes추가\n\nfig.add_axes([0,0,1,1])  # (0,0) 위치에 (1,1)인 액시즈(=네모틀)을 만들어라.\n\n&lt;Axes:&gt;\n\n\n\nfig.axes\n\n[&lt;Axes:&gt;]\n\n\n\nfig  # 아까는 아무것도 없었는데 지금 도화지안에 네모틀이 들어가 있다.\n\n\n\n\n- 첫번째 액시즈를 ax1으로 받음 (원래 axes1이어야하는데 그냥 편의상)\n\nax1 = fig.axes[0]\n\n\nid(fig.axes[0]), id(ax1)\n\n(140307253185296, 140307253185296)\n\n\n- 잠깐만! (fig오브젝트와 ax1 오브젝트는 포함관계에 있다.)\n\nid(fig.axes[0]), id(ax1)\n\n(140307253185296, 140307253185296)\n\n\n- 또 잠깐만! (fig오브젝트에는 plot이 없지만 ax1에서는 plot가 있다.)\n\nset(dir(fig)) & {'plot'}\n\nset()\n\n\n\nset(dir(ax1)) & {'plot'}\n\n{'plot'}\n\n\n- ax1.plot()을 사용하여 그림을 그려보자.\n\nax1.plot([1,2,3,4],[1,2,4,3],'--or') # 안되누?\n\n\nfig\n\n\n\n\n\n\n예제2: 예제1의 응용\n- 위에서 축을 하나 더 추가\n\nfig.axes\n\n[&lt;Axes:&gt;]\n\n\n\nfig.add_axes([1,1,1,1,])  # (1,1) 위치에 (1,1)크기의 액자틀 추가\n\n&lt;Axes:&gt;\n\n\n\nfig.axes  #추가해서 두개\n\n[&lt;Axes:&gt;, &lt;Axes:&gt;]\n\n\n\nfig\n\n\n\n\n\nax1, ax2 = fig.axes\n\n- ax2에 파란선으로 그림을 그리자\n\nax2.plot([1,2,3,4],[1,2,4,3],'--ob')\n\n\nfig\n\n\n\n\n\n\n예제3: 응용(미니맵)\n- 위의 상황에서 액시지를 하나 더 추가\n\nfig.add_axes([0.65,0.1,0.3,0.3])\n\n&lt;Axes:&gt;\n\n\n\nfig\n\n\n\n\n\nfig.axes[-1].plot([1,2,3,4],[1,2,4,3],'xr')\n\n\nfig\n\n\n\n\n\n\n예제4: 재해석1\n(ver1)\n\nplt.plot([1,2,3,4],[1,2,4,3])\n\n\n\n\n(ver2)\nver1은 사실 아래가 연속적으로 실행된 축약구문임\nfig = plt.figure() \nfig.add_axes([?,?,?,?])\nax1 = fig.axes[0]\nax1.plot([1,2,3,4],[1,2,4,3])\nfig\n\n\n예제5: 재해석2\n\nfig, axs = plt.subplots(2,2)\n\n\n\n\n\nfig, axs = plt.subplots(2,2)\naxs[0,0].plot([1,2,3,4],[1,2,4,3],'.')\naxs[0,1].plot([1,2,3,4],[1,2,4,3],'--r')\naxs[1,0].plot([1,2,3,4],[1,2,4,3],'o--')\naxs[1,1].plot([1,2,3,4],[1,2,4,3],'o--',color='lime')\n\n\n\n\n- fig, axs = plt.subplots(2,2)의 축약버전을 이해하면된다.\n(ver1)\n\nfig, axs = plt.subplots(2,2)\n\n\n\n\n(ver2)\nver1은 사실 아래가 연속적으로 실행된 축약구문임\nfig = plt.figure()\nfig.add_axes([?,?,?,?]) \nfig.add_axes([?,?,?,?])\nfig.add_axes([?,?,?,?])\nfig.add_axes([?,?,?,?])\nax1,ax2,ax3,ax4 = fig.axes\naxs = np.array(((ax1,ax2),(ax3,ax4)))\n(ver3)\nver1은 아래와 같이 표현할 수도 있다.\n\nfig = plt.figure()\naxs = fig.subplots(2,2)"
  },
  {
    "objectID": "posts/DV_3(0919).html#숙제",
    "href": "posts/DV_3(0919).html#숙제",
    "title": "DV 3주차(1)",
    "section": "숙제",
    "text": "숙제\n\n숙제1\n\nfig, axs = plt.subplots(2,3)\naxs[0,0].plot([1,2,3,4],[1,2,4,3],'or')\naxs[0,1].plot([1,2,3,4],[1,2,4,3],'og')\naxs[0,2].plot([1,2,3,4],[1,2,4,3],'ob')\naxs[1,0].plot([1,2,3,4],[1,2,4,3],'or--')\naxs[1,1].plot([1,2,3,4],[1,2,4,3],'og--')\naxs[1,2].plot([1,2,3,4],[1,2,4,3],'ob--')\n\n\n\n\n\n\n숙제2\n\nx,y = [1,2,3,4], [1,2,1,1]\n\n\nfig = plt.figure()\n\n&lt;Figure size 432x288 with 0 Axes&gt;\n\n\n\nfig\n\n&lt;Figure size 432x288 with 0 Axes&gt;\n\n\n\nfig.axes\n\n[]\n\n\n\nfig.add_axes([0,0,1,1]) \n\n&lt;Axes:&gt;\n\n\n\nfig.axes\n\n[&lt;Axes:&gt;]\n\n\n\nfig\n\n\n\n\n\nax1 = fig.axes[0]\n\n\nax1.plot(x,y,'or')\n\n\nfig\n\n\n\n\n\nfig.add_axes([0.5,0.5,1,1,])\n\n&lt;Axes:&gt;\n\n\n\nfig\n\n\n\n\n\nfig.add_axes([1,1,1,1,])\n\n&lt;Axes:&gt;\n\n\n\nfig\n\n\n\n\n\nax1, ax2, ax3 = fig.axes\n\n\nax2.plot(x,y,'og')\nax3.plot(x,y,'ob')\n\n\nfig\n\n\n\n\n\n\n숙제3\n\nx = np.arange(-5,5,0.1)\ny1 = np.sin(x)\ny2 = np.sin(2*x) + 2\ny3 = np.sin(4*x) + 4 \ny4 = np.sin(8*x) + 6\n\n\nplt.plot(x, y1, '--r')\nplt.plot(x, y2, '--b')\nplt.plot(x, y3, '--g')\nplt.plot(x, y4, '--m')"
  },
  {
    "objectID": "posts/DV_09(1102).html",
    "href": "posts/DV_09(1102).html",
    "title": "DV 9주차",
    "section": "",
    "text": "Cairo, A. Functional Art, The: An Introduction to Information Graphics and Visualization, New Riders, 2012. San Francisco, US."
  },
  {
    "objectID": "posts/DV_09(1102).html#presentation",
    "href": "posts/DV_09(1102).html#presentation",
    "title": "DV 9주차",
    "section": "Presentation",
    "text": "Presentation\n\n- 프리젠테이션방식의 시각화는 화자가 다듬은 이야기를 전달하기에 좋은 시각화이다. 즉 잘 정리된 메시지를 전달하기에 좋다."
  },
  {
    "objectID": "posts/DV_09(1102).html#exploration",
    "href": "posts/DV_09(1102).html#exploration",
    "title": "DV 9주차",
    "section": "Exploration",
    "text": "Exploration\n\n\n문학적유기체라는 작품이다.(https://www.stefanieposavec.com/).\n어떤 소설책을 시각화.\n수형도 + 칼라\n수형도의 의미: 단원, 문단, 문장, 단어 (수형도 계층적 구조를 시각화 하기에 뛰어남. ex: 리그레션트리!)\n색깔: 여행, 음악, 파티 등 소설에서 자주 등장하는 소재 (색은 범주형 변수를 표현하기에 뛰어남)\n\n- 익스플로래이션 방식은 독자가 스스로 그림에서 메시지를 찾아낸다.\n- 소설을 읽어보지 않은 사람: 이 그래픽으로 소설책의 전체 주제를 미리 파악가능\n- 소설을 이미 읽어본 사람: 분석 & 탐구를 할 수 있음. ex: 파티와 음악이 동시에 등장하는 경우가 많다."
  },
  {
    "objectID": "posts/DV_09(1102).html#절충",
    "href": "posts/DV_09(1102).html#절충",
    "title": "DV 9주차",
    "section": "절충",
    "text": "절충\n- 카이로: 사실 프리젠테이션과 익스플로레이션은 절충가능함\n\n\naes(x=‘GDP’,y=‘불평등’,text=‘년도’,color=‘정부’)\n초록색정부: 소득이 증가 & 불평등이 훨씬 더 증가\n갈색정부: 매우 빠른 경제 성장\n포인트간의 간격이 조밀하다 = 변화가 더디다 // 포인트간의 간격이 넓다 = 변화가 빠르다.\n\n- 언뜻보기에는 우리에게 익숙한 라인플랏인듯 보이지만 의외로 정보를 해석할만한 요소가 있다.\n\n익스플로레이션형의 그래프는 그릴줄도 알아야 하지만 남이 그린 그래프를 해석할 수도 있어야함."
  },
  {
    "objectID": "posts/DV_09(1102).html#인구문제에-대한-편견",
    "href": "posts/DV_09(1102).html#인구문제에-대한-편견",
    "title": "DV 9주차",
    "section": "인구문제에 대한 편견",
    "text": "인구문제에 대한 편견\n- 주장1 (맬서스주의자): 가난한 나라들의 출산율이 너무 높음 \\(\\to\\) 세계인구가 90억까지 증가할 것이다. (현재 70억)\n- 주장2: 잘사는 나라에서는 애를 적게 낳음 \\(\\to\\) 고령화 문제"
  },
  {
    "objectID": "posts/DV_09(1102).html#에서-제기된-리들리의-메시지",
    "href": "posts/DV_09(1102).html#에서-제기된-리들리의-메시지",
    "title": "DV 9주차",
    "section": "<이성적 낙관주의자>에서 제기된 리들리의 메시지",
    "text": "&lt;이성적 낙관주의자&gt;에서 제기된 리들리의 메시지\n- 둘다 틀렸다.\n- 주장1의 반박: 가난한 나라의 출산율은 점점 감소하고 있음. (특히 가난하다가 막 부유해진 나라는 이러한 감소폭이 드라마틱함, ex: 브라질)\n- 주장2의 반박: 평균적으로 잘사는 국가들의 출산률이 매우 낮은것은 사실이나 최근들어 약간 증가하는 경향을 보임. (ex: 스웨덴, 영국, 노르웨이, 스페인)\n- 리들리의 주장: 결국 세계의 인구는 안정화 될 것 (증가하지도 감소하지도 않는다)\n- 리들리의 주장을 뒷받침하기 위해 그린 그림\n\n\n이 그림은 간단명료해 보이지만 리들리의 주장을 뒷받침하기에는 부족하다.\n그림에서 얻을 수 있는 정보: 인구변화를 연도별로 나열했더니 성장속도가 둔화된다는 사실\n리들리가 주장한 다양한 패턴은 이 그림에 보이지 않는다. (출산률이 회복되고 있다는 선진국이라든가, 브라질/인도와 같은 나라의 인구안정화에 대한 주장)\n\n\n카이로\n- 리들러의 메시지는 아래의 그림들이 더 잘 전달한다.\n\n\n스웨덴, 노르웨이 -&gt; 출산률 증가\n브라질, 인도 -&gt; 출산률 대폭감소\n\n\n\n소감\n- 어떠한 통계량 혹은 현상을 살펴볼때 그것의 부분집합들이 역시 그러한지 살펴보는것은 기본임 (그룹별로 파악하면 정반대의 결과가 나올 수 있음)\n- 중요한 선을 제외한 나머지는 회색처리(일러스트레이터 사용) 한 것이 시각적으로 우수하며, 인상적이었음\n- 과학적인 논문작업에 들어갈 그림이라면 임의로 회색처리한 것이 다소 비판을 받을 수 있음."
  },
  {
    "objectID": "posts/DV_09(1102).html#사례1-남미국가의-국방력",
    "href": "posts/DV_09(1102).html#사례1-남미국가의-국방력",
    "title": "DV 9주차",
    "section": "사례1: 남미국가의 국방력",
    "text": "사례1: 남미국가의 국방력\n- 아래는 남미국가들의 국방력을 시각화한 그림\n\n\n쓸모없는 그래픽\n뭐 기억나는 것이 있나요?\n\n- 아래가 더 우수한 그림이다. 더 정확한 비교를 할 수 있어요.\n\n- 그리고 위의 그림보다 아래의 그림이 더 우수한 시각화이다.\n\n\n브라질이 국방력도 우수하고 예산도 많이 투자하는 것 같지만 인구가 흑막인것 같다.\n\n- 흑막을 제거\n\n- 최종적으로 제안하는 그래프\n\n\n좌측하단: aes(x=‘인구’, y=‘군인수’, size=‘예산’)\n우측하단: 관심있는 그래프가 아님\n\n사실 저는 좌측하단의 그래프가 좋은 시각화라고 생각안해요\n- 1사분면의 의미: 인구도 높고 군인수도 많은 나라 (똑같은 정보임 의미가 없다. 마치 x축이 토익점수, y축이 텝스점수 같은느낌임)\n\n모든 점들이 직선에 몰려있다면? \\(\\to\\) 왜 2차원으로 표현함?\n\n- 저같으면 aes(x=‘예산(인구효과제거)’, y=‘군인수(인구효과제거)’,size=‘인구’)로 할것 같아요.\n\n1사분면의 의미: 예산도 많이 쓰고 군인수도 많은나라 = 콜롬비아.\n4사분면의 의미: 예산은 많이 쓰는데 군인수가 적은나라 = 브라질\n\n- 산점도에서 데이터를 한눈에 파악하고 특징을 요약하기 위해서는 X,Y를 너무 비슷한 성질의 변수로 설정하지마라.\n아래중 어떤것이 더 바람직한 그래프인가?\n\naes(x=‘토익’, y=‘텝스’, color=‘합/불’, shape=‘회사의종류’)\naes(x=‘토익’, y=‘GPA’, color=‘합/불’, shape=‘회사의종류’)"
  },
  {
    "objectID": "posts/DV_09(1102).html#사례2-스페인의-실업률",
    "href": "posts/DV_09(1102).html#사례2-스페인의-실업률",
    "title": "DV 9주차",
    "section": "사례2: 스페인의 실업률",
    "text": "사례2: 스페인의 실업률\n\n\n명암으로 왜 크기비교를 하는것인가?\n\n- 비교를 위해서는 바플랏이 더 우수하다."
  },
  {
    "objectID": "posts/DV_09(1102).html#사례3-버블의-남용",
    "href": "posts/DV_09(1102).html#사례3-버블의-남용",
    "title": "DV 9주차",
    "section": "사례3: 버블의 남용",
    "text": "사례3: 버블의 남용\n- 카이로교수님의 강의자료에 등장하는 그림\n- 회색이 befor, 검은색이 after\n\n\n크기비교는 바플랏으로 하는것이 아니다.\n\n- 우리눈은 작은원이 큰원의 절반정도 차지한다고 느껴진다.\n\n- 그렇지만 실제로는 아래와 같음\n\n- 버블차트는 크기를 왜곡시킨다.\n\n- 하지만 아래의 버블차트는 우수하다.\n\n- 선거지도는 수치비교에 별로 관심이 없다.\n- 대신에 민주당표와 공화당표가 어떤 지역에 몰렸는지 파악하는 것이중요\n- 따라서 aes중 가장 중요한 x,y를 모두 지역에 투자함"
  },
  {
    "objectID": "posts/DV_4(0926).html",
    "href": "posts/DV_4(0926).html",
    "title": "DV 4주차(1)",
    "section": "",
    "text": "import matplotlib.pyplot as plt\nimport numpy as np\nimport pandas as pd"
  },
  {
    "objectID": "posts/DV_4(0926).html#예시자료",
    "href": "posts/DV_4(0926).html#예시자료",
    "title": "DV 4주차(1)",
    "section": "예시자료",
    "text": "예시자료\n- 예시1\n\nx1 = np.random.uniform(low=0, high=1, size=10000)  # 0~1사이의 10000개\ny1 = np.random.uniform(low=0, high=1, size=10000) \n\n\nplt.plot(x1,y1,',')\nplt.plot(x1[0], y1[0],'or')\n\n\n\n\n- 예시2 (원)\n\n_r2 = x1**2 + y1**2 # 반지름\n_r2\n\narray([0.32841936, 0.65211343, 0.8620744 , ..., 0.99310561, 0.35628571,\n       0.32995271])\n\n\n\nlen(_r2)\n\n10000\n\n\n\nx2=x1[_r2&lt;1]\ny2=y1[_r2&lt;1]\n\n\nplt.plot(x2,y2,',')\n\n\n\n\n- 예시3 (이변량정규분포)\n\nx3 = np.random.randn(10000)\ny3 = np.random.randn(10000)\n\n\nplt.plot(x3,y3,',')"
  },
  {
    "objectID": "posts/DV_4(0926).html#상관계수",
    "href": "posts/DV_4(0926).html#상관계수",
    "title": "DV 4주차(1)",
    "section": "상관계수",
    "text": "상관계수\n예시1, 예시2, 예시3의 산점도를 보고 상관계수가 얼마인지 예상해보라. 실제 계산결과와 확인하라.\n\nnp.corrcoef([x1,y1])\n\narray([[1.        , 0.01268214],\n       [0.01268214, 1.        ]])\n\n\n\nnp.corrcoef([x2,y2])\n\narray([[ 1.        , -0.28666195],\n       [-0.28666195,  1.        ]])\n\n\n\nnp.corrcoef([x3,y3])\n\narray([[1.        , 0.00827362],\n       [0.00827362, 1.        ]])\n\n\n독립을 따져보자.\n\nfig, ax = plt.subplots(1,2,figsize=(8,4))\nax[0].plot(x1,y1,',')\nax[1].plot(x2,y2,',')\n\n\n\n\n\ndef g(intval, data, ax, col = 'r'):\n    a,b = intval\n    x,y = data\n    idx = (a&lt;x) & (x&lt;b)\n    ax.plot(x[idx], y[idx],',',color=col)\n\n\nfig\n\n\n\n\n\ng([-0.1,0.1],[x1,y1],ax[0])\ng([-0.1,0.1],[x2,y2],ax[1])\nfig\n\n\n\n\n\ng([0.79,0.99],[x1,y1],ax[0],col='m')\ng([0.79,0.99],[x2,y2],ax[1],col='m')\nfig\n\n\n\n\n- 예시3\n\nplt.plot(x3,y3,',')\n\n\n\n\n\nfig, ax = plt.subplots()\nax.plot(x3,y3,',',color='gray')     # g함수 사용하기 위해 이렇게 해보자\n\n\n\n\n\ng([-2.5,-1.5],[x3,y3],ax,col='r')\nfig\n\n\n\n\n\ng([-2.5,-1.5],[x3,y3],ax,col='r')\ng([-0.5,+0.5],[x3,y3],ax,col='b')\ng([+1.5,+2.5],[x3,y3],ax,col='g')\nfig\n\n\n\n\n\nidx = (-0.5&lt;x3) & (x3&lt;0.5)\nplt.hist(y3[idx])  # 위의 파란색을 뽑아보자\n\n(array([   5.,   32.,  188.,  512.,  938., 1054.,  722.,  303.,   79.,\n          16.]),\n array([-3.81904376, -3.09056613, -2.36208849, -1.63361085, -0.90513321,\n        -0.17665557,  0.55182207,  1.28029971,  2.00877735,  2.73725499,\n         3.46573263]),\n &lt;BarContainer object of 10 artists&gt;)\n\n\n\n\n\n\nidx = (-0.5&lt;x3) & (x3&lt;0.5)\nplt.hist(y3[idx]);  # 맨 뒤 세미콜론 붙이면 위의 글씨 안나옴\n\n\n\n\n\ndef h(intval, data, ax, col):\n    a,b = intval\n    x,y = data\n    idx = (a&lt;x) &  (x&lt;b)\n    ax.hist(y[idx], color=col)\n\n\nfig,ax = plt.subplots(5,2,figsize=(8,16))\nax[0,0].plot(x3,y3,',',color='gray'); g([-2.5,-1.5],[x3,y3],ax[0,0],col='r')\nax[1,0].plot(x3,y3,',',color='gray'); g([-1.5,-0.5],[x3,y3],ax[1,0],col='g')\nax[2,0].plot(x3,y3,',',color='gray'); g([-0.5,+0.5],[x3,y3],ax[2,0],col='b')\nax[3,0].plot(x3,y3,',',color='gray'); g([+0.5,+1.5],[x3,y3],ax[3,0],col='m')\nax[4,0].plot(x3,y3,',',color='gray'); g([+1.5,+2.5],[x3,y3],ax[4,0],col='lime')\n\nh([-2.5,-1.5],[x3,y3],ax[0,1],col='r')\nh([-1.5,-0.5],[x3,y3],ax[1,1],col='g')\nh([-0.5,+0.5],[x3,y3],ax[2,1],col='b')\nh([+0.5,+1.5],[x3,y3],ax[3,1],col='m')\nh([+1.5,+2.5],[x3,y3],ax[4,1],col='lime')"
  },
  {
    "objectID": "posts/DV_4(0926).html#그림만-보고-싶을때",
    "href": "posts/DV_4(0926).html#그림만-보고-싶을때",
    "title": "DV 4주차(1)",
    "section": "그림만 보고 싶을때",
    "text": "그림만 보고 싶을때\n\nplt.plot([0,1,2,3],[2,3,4,1])\n\n\n\n\n\nplt.plot([2,3,4,1])    # [0,1,2,3] 이 기본 default 값이므로 생략 가능\n\n\n\n\n\nplt.plot([2,3,4,1]);   # 그림 위에 올라가는거 없어짐"
  },
  {
    "objectID": "posts/DV_4(0926).html#marker-size-line-width",
    "href": "posts/DV_4(0926).html#marker-size-line-width",
    "title": "DV 4주차(1)",
    "section": "marker size, line width",
    "text": "marker size, line width\n\nplt.plot([2,3,4,1],'o',markersize=13)   # markersize = ms 라고 써도 됨\n\n\n\n\n\nplt.plot([2,3,4,1],'--',lw=12)"
  },
  {
    "objectID": "posts/DV_4(0926).html#label-legend",
    "href": "posts/DV_4(0926).html#label-legend",
    "title": "DV 4주차(1)",
    "section": "label, legend",
    "text": "label, legend\n\nplt.plot([2,3,4,1],'--o', label='A')\nplt.plot([4,3.2,1,3],'--o', label='B')\nplt.legend()  # 범례.. 위의 label\n\n&lt;matplotlib.legend.Legend at 0x7fbc8767d050&gt;"
  },
  {
    "objectID": "posts/DV_4(0926).html#색깔조정-c0-c1",
    "href": "posts/DV_4(0926).html#색깔조정-c0-c1",
    "title": "DV 4주차(1)",
    "section": "색깔조정 (C0, C1,…)",
    "text": "색깔조정 (C0, C1,…)\n\nplt.plot([2,3,4,1],'--o', label='A', color='C1')\nplt.plot([4,3.2,1,3],'--o', label='B', color='C0')  # 그래프 위아래의 선 색 변경시 color='C0'\nplt.legend() \n\n&lt;matplotlib.legend.Legend at 0x7fbc86d99750&gt;"
  },
  {
    "objectID": "posts/DV_4(0926).html#title",
    "href": "posts/DV_4(0926).html#title",
    "title": "DV 4주차(1)",
    "section": "title",
    "text": "title\n- 방법1\n\nplt.plot([1,2,3,2])\nplt.title('title')\n\nText(0.5, 1.0, 'title')\n\n\n\n\n\n- 방법2\n\nfig, ax = plt.subplots()\nax.set_title('asdf')\n\nText(0.5, 1.0, 'asdf')"
  },
  {
    "objectID": "posts/DV_4(0926).html#suptitle",
    "href": "posts/DV_4(0926).html#suptitle",
    "title": "DV 4주차(1)",
    "section": "suptitle",
    "text": "suptitle\n\nfig, ax = plt.subplots(2,2)\nax[0,0].plot([1,2,3,2],'--o',label='A',color='C0')\nax[0,0].set_title('(a)')\nax[0,1].plot([3,2.1,1,3],'--o',label='B',color='C1')\nax[0,1].set_title('(b)')\nax[1,0].plot([-3,-2.1,-1,-3],'--o',label='B',color='C2')\nax[1,0].set_title('(c)')\nax[1,1].plot([3,-2.1,1,-3],'--o',label='B',color='C3')\nax[1,1].set_title('(d)')\n#plt.suptitle('suptitle') 둘다된다\nfig.suptitle('suptitle')\n\nText(0.5, 0.98, 'suptitle')"
  },
  {
    "objectID": "posts/DV_4(0926).html#tight_layout",
    "href": "posts/DV_4(0926).html#tight_layout",
    "title": "DV 4주차(1)",
    "section": "tight_layout()",
    "text": "tight_layout()\n\nfig, ax = plt.subplots(2,2)\nax[0,0].plot([1,2,3,2],'--o',label='A',color='C0')\nax[0,0].set_title('(a)')\nax[0,1].plot([3,2.1,1,3],'--o',label='B',color='C1')\nax[0,1].set_title('(b)')\nax[1,0].plot([-3,-2.1,-1,-3],'--o',label='B',color='C2')\nax[1,0].set_title('(c)')\nax[1,1].plot([3,-2.1,1,-3],'--o',label='B',color='C3')\nax[1,1].set_title('(d)')\nfig.suptitle('suptitle')\nfig.tight_layout()   # 컴퓨터에서 알아서 이쁘게 레이아웃 설정"
  },
  {
    "objectID": "posts/DV_4(0926).html#fig-ax-plt-소속",
    "href": "posts/DV_4(0926).html#fig-ax-plt-소속",
    "title": "DV 4주차(1)",
    "section": "fig, ax, plt 소속",
    "text": "fig, ax, plt 소속\n예시\n\nfig, ax = plt.subplots()\nax.plot([1,2,3,1])\n\n\n\n\n- fig에는 있고 ax에는 없는 것\nadd_axes, tight_layout, suptitle, …\n\nset(dir(fig)) - set(dir(ax))    # fig에만 있는 함수\n\n{'_add_axes_internal',\n '_align_label_groups',\n '_axobservers',\n '_axstack',\n '_button_pick_id',\n '_cachedRenderer',\n '_canvas_callbacks',\n '_constrained',\n '_constrained_layout_pads',\n '_dpi',\n '_get_dpi',\n '_get_draw_artists',\n '_gridspecs',\n '_localaxes',\n '_normalize_grid_string',\n '_original_dpi',\n '_process_projection_requirements',\n '_repr_html_',\n '_scroll_pick_id',\n '_set_dpi',\n '_suplabels',\n '_suptitle',\n '_supxlabel',\n '_supylabel',\n '_tight_parameters',\n 'add_axes',\n 'add_axobserver',\n 'add_gridspec',\n 'add_subfigure',\n 'add_subplot',\n 'align_labels',\n 'align_xlabels',\n 'align_ylabels',\n 'autofmt_xdate',\n 'bbox_inches',\n 'canvas',\n 'clf',\n 'colorbar',\n 'delaxes',\n 'dpi',\n 'dpi_scale_trans',\n 'draw_without_rendering',\n 'execute_constrained_layout',\n 'figbbox',\n 'figimage',\n 'frameon',\n 'gca',\n 'get_axes',\n 'get_constrained_layout',\n 'get_constrained_layout_pads',\n 'get_dpi',\n 'get_edgecolor',\n 'get_figheight',\n 'get_figwidth',\n 'get_frameon',\n 'get_linewidth',\n 'get_size_inches',\n 'get_tight_layout',\n 'ginput',\n 'legends',\n 'number',\n 'savefig',\n 'sca',\n 'set_canvas',\n 'set_constrained_layout',\n 'set_constrained_layout_pads',\n 'set_dpi',\n 'set_edgecolor',\n 'set_figheight',\n 'set_figwidth',\n 'set_frameon',\n 'set_linewidth',\n 'set_size_inches',\n 'set_tight_layout',\n 'show',\n 'subfigs',\n 'subfigures',\n 'subplot_mosaic',\n 'subplotpars',\n 'subplots',\n 'subplots_adjust',\n 'suppressComposite',\n 'suptitle',\n 'supxlabel',\n 'supylabel',\n 'tight_layout',\n 'transFigure',\n 'transSubfigure',\n 'waitforbuttonpress'}\n\n\n- ax에는 있고 fig에는 없는 것\nboxplot, hist, plot, set_title, …\n\nset(dir(ax)) - set(dir(fig))   # ax만 있는 함수\n\n{'ArtistList',\n '_add_text',\n '_adjustable',\n '_alias_map',\n '_anchor',\n '_aspect',\n '_autoscaleXon',\n '_autoscaleYon',\n '_autotitlepos',\n '_axes',\n '_axes_class',\n '_axes_locator',\n '_axis_names',\n '_axisbelow',\n '_box_aspect',\n '_check_no_units',\n '_children',\n '_colorbars',\n '_convert_dx',\n '_current_image',\n '_deprecate_noninstance',\n '_facecolor',\n '_fill_between_x_or_y',\n '_frameon',\n '_gen_axes_patch',\n '_gen_axes_spines',\n '_get_axis_list',\n '_get_axis_map',\n '_get_lines',\n '_get_pan_points',\n '_get_patches_for_fill',\n '_get_view',\n '_gridOn',\n '_init_axis',\n '_label_outer_xaxis',\n '_label_outer_yaxis',\n '_left_title',\n '_make_twin_axes',\n '_mouseover_set',\n '_navigate',\n '_navigate_mode',\n '_originalPosition',\n '_parse_scatter_color_args',\n '_pcolor_grid_deprecation_helper',\n '_pcolorargs',\n '_position',\n '_prepare_view_from_bbox',\n '_process_unit_info',\n '_projection_init',\n '_quiver_units',\n '_rasterization_zorder',\n '_remove_legend',\n '_request_autoscale_view',\n '_right_title',\n '_sci',\n '_set_lim_and_transforms',\n '_set_position',\n '_set_title_offset_trans',\n '_set_view',\n '_set_view_from_bbox',\n '_shared_axes',\n '_sharex',\n '_sharey',\n '_stale_viewlims',\n '_subplotspec',\n '_twinned_axes',\n '_unit_change_handler',\n '_unstale_viewLim',\n '_update_image_limits',\n '_update_line_limits',\n '_update_patch_limits',\n '_update_title_position',\n '_update_transScale',\n '_use_sticky_edges',\n '_validate_converted_limits',\n '_viewLim',\n '_xaxis_transform',\n '_xmargin',\n '_yaxis_transform',\n '_ymargin',\n 'acorr',\n 'add_child_axes',\n 'add_collection',\n 'add_container',\n 'add_image',\n 'add_line',\n 'add_patch',\n 'add_table',\n 'angle_spectrum',\n 'annotate',\n 'apply_aspect',\n 'arrow',\n 'autoscale',\n 'autoscale_view',\n 'axhline',\n 'axhspan',\n 'axis',\n 'axison',\n 'axline',\n 'axvline',\n 'axvspan',\n 'bar',\n 'bar_label',\n 'barbs',\n 'barh',\n 'boxplot',\n 'broken_barh',\n 'bxp',\n 'can_pan',\n 'can_zoom',\n 'change_geometry',\n 'child_axes',\n 'cla',\n 'clabel',\n 'cohere',\n 'collections',\n 'containers',\n 'contains_point',\n 'contour',\n 'contourf',\n 'csd',\n 'dataLim',\n 'drag_pan',\n 'end_pan',\n 'errorbar',\n 'eventplot',\n 'figbox',\n 'fill',\n 'fill_between',\n 'fill_betweenx',\n 'fmt_xdata',\n 'fmt_ydata',\n 'format_coord',\n 'format_xdata',\n 'format_ydata',\n 'get_adjustable',\n 'get_anchor',\n 'get_aspect',\n 'get_autoscale_on',\n 'get_autoscalex_on',\n 'get_autoscaley_on',\n 'get_axes_locator',\n 'get_axisbelow',\n 'get_box_aspect',\n 'get_data_ratio',\n 'get_fc',\n 'get_frame_on',\n 'get_geometry',\n 'get_gridspec',\n 'get_images',\n 'get_legend',\n 'get_legend_handles_labels',\n 'get_lines',\n 'get_navigate',\n 'get_navigate_mode',\n 'get_position',\n 'get_rasterization_zorder',\n 'get_renderer_cache',\n 'get_shared_x_axes',\n 'get_shared_y_axes',\n 'get_subplotspec',\n 'get_title',\n 'get_xaxis',\n 'get_xaxis_text1_transform',\n 'get_xaxis_text2_transform',\n 'get_xaxis_transform',\n 'get_xbound',\n 'get_xgridlines',\n 'get_xlabel',\n 'get_xlim',\n 'get_xmajorticklabels',\n 'get_xminorticklabels',\n 'get_xscale',\n 'get_xticklabels',\n 'get_xticklines',\n 'get_xticks',\n 'get_yaxis',\n 'get_yaxis_text1_transform',\n 'get_yaxis_text2_transform',\n 'get_yaxis_transform',\n 'get_ybound',\n 'get_ygridlines',\n 'get_ylabel',\n 'get_ylim',\n 'get_ymajorticklabels',\n 'get_yminorticklabels',\n 'get_yscale',\n 'get_yticklabels',\n 'get_yticklines',\n 'get_yticks',\n 'grid',\n 'has_data',\n 'hexbin',\n 'hist',\n 'hist2d',\n 'hlines',\n 'ignore_existing_data_limits',\n 'imshow',\n 'in_axes',\n 'indicate_inset',\n 'indicate_inset_zoom',\n 'inset_axes',\n 'invert_xaxis',\n 'invert_yaxis',\n 'is_first_col',\n 'is_first_row',\n 'is_last_col',\n 'is_last_row',\n 'label_outer',\n 'legend_',\n 'locator_params',\n 'loglog',\n 'magnitude_spectrum',\n 'margins',\n 'matshow',\n 'minorticks_off',\n 'minorticks_on',\n 'name',\n 'numCols',\n 'numRows',\n 'pcolor',\n 'pcolorfast',\n 'pcolormesh',\n 'phase_spectrum',\n 'pie',\n 'plot',\n 'plot_date',\n 'psd',\n 'quiver',\n 'quiverkey',\n 'redraw_in_frame',\n 'relim',\n 'reset_position',\n 'scatter',\n 'secondary_xaxis',\n 'secondary_yaxis',\n 'semilogx',\n 'semilogy',\n 'set_adjustable',\n 'set_anchor',\n 'set_aspect',\n 'set_autoscale_on',\n 'set_autoscalex_on',\n 'set_autoscaley_on',\n 'set_axes_locator',\n 'set_axis_off',\n 'set_axis_on',\n 'set_axisbelow',\n 'set_box_aspect',\n 'set_fc',\n 'set_frame_on',\n 'set_navigate',\n 'set_navigate_mode',\n 'set_position',\n 'set_prop_cycle',\n 'set_rasterization_zorder',\n 'set_subplotspec',\n 'set_title',\n 'set_xbound',\n 'set_xlabel',\n 'set_xlim',\n 'set_xmargin',\n 'set_xscale',\n 'set_xticklabels',\n 'set_xticks',\n 'set_ybound',\n 'set_ylabel',\n 'set_ylim',\n 'set_ymargin',\n 'set_yscale',\n 'set_yticklabels',\n 'set_yticks',\n 'sharex',\n 'sharey',\n 'specgram',\n 'spines',\n 'spy',\n 'stackplot',\n 'stairs',\n 'start_pan',\n 'stem',\n 'step',\n 'streamplot',\n 'table',\n 'tables',\n 'tick_params',\n 'ticklabel_format',\n 'title',\n 'titleOffsetTrans',\n 'transAxes',\n 'transData',\n 'transLimits',\n 'transScale',\n 'tricontour',\n 'tricontourf',\n 'tripcolor',\n 'triplot',\n 'twinx',\n 'twiny',\n 'update_datalim',\n 'update_params',\n 'use_sticky_edges',\n 'viewLim',\n 'violin',\n 'violinplot',\n 'vlines',\n 'xaxis',\n 'xaxis_date',\n 'xaxis_inverted',\n 'xcorr',\n 'yaxis',\n 'yaxis_date',\n 'yaxis_inverted'}\n\n\n\nset(dir(ax)) & set(dir(fig))   # 교집합\n\n{'_PROPERTIES_EXCLUDED_FROM_SET',\n '__class__',\n '__delattr__',\n '__dict__',\n '__dir__',\n '__doc__',\n '__eq__',\n '__format__',\n '__ge__',\n '__getattribute__',\n '__getstate__',\n '__gt__',\n '__hash__',\n '__init__',\n '__init_subclass__',\n '__le__',\n '__lt__',\n '__module__',\n '__ne__',\n '__new__',\n '__reduce__',\n '__reduce_ex__',\n '__repr__',\n '__setattr__',\n '__setstate__',\n '__sizeof__',\n '__str__',\n '__subclasshook__',\n '__weakref__',\n '_agg_filter',\n '_alpha',\n '_animated',\n '_callbacks',\n '_clipon',\n '_clippath',\n '_cm_set',\n '_default_contains',\n '_gci',\n '_get_clipping_extent_bbox',\n '_gid',\n '_in_layout',\n '_label',\n '_mouseover',\n '_path_effects',\n '_picker',\n '_rasterized',\n '_remove_method',\n '_set_alpha_for_array',\n '_set_artist_props',\n '_set_gc_clip',\n '_sketch',\n '_snap',\n '_stale',\n '_sticky_edges',\n '_tight',\n '_transform',\n '_transformSet',\n '_update_set_signature_and_docstring',\n '_url',\n '_visible',\n 'add_artist',\n 'add_callback',\n 'artists',\n 'axes',\n 'bbox',\n 'callbacks',\n 'clear',\n 'clipbox',\n 'contains',\n 'convert_xunits',\n 'convert_yunits',\n 'draw',\n 'draw_artist',\n 'figure',\n 'findobj',\n 'format_cursor_data',\n 'get_agg_filter',\n 'get_alpha',\n 'get_animated',\n 'get_children',\n 'get_clip_box',\n 'get_clip_on',\n 'get_clip_path',\n 'get_cursor_data',\n 'get_default_bbox_extra_artists',\n 'get_facecolor',\n 'get_figure',\n 'get_gid',\n 'get_in_layout',\n 'get_label',\n 'get_path_effects',\n 'get_picker',\n 'get_rasterized',\n 'get_sketch_params',\n 'get_snap',\n 'get_tightbbox',\n 'get_transform',\n 'get_transformed_clip_path_and_affine',\n 'get_url',\n 'get_visible',\n 'get_window_extent',\n 'get_zorder',\n 'have_units',\n 'images',\n 'is_transform_set',\n 'legend',\n 'lines',\n 'mouseover',\n 'patch',\n 'patches',\n 'pchanged',\n 'pick',\n 'pickable',\n 'properties',\n 'remove',\n 'remove_callback',\n 'set',\n 'set_agg_filter',\n 'set_alpha',\n 'set_animated',\n 'set_clip_box',\n 'set_clip_on',\n 'set_clip_path',\n 'set_facecolor',\n 'set_figure',\n 'set_gid',\n 'set_in_layout',\n 'set_label',\n 'set_path_effects',\n 'set_picker',\n 'set_rasterized',\n 'set_sketch_params',\n 'set_snap',\n 'set_transform',\n 'set_url',\n 'set_visible',\n 'set_zorder',\n 'stale',\n 'stale_callback',\n 'sticky_edges',\n 'text',\n 'texts',\n 'update',\n 'update_from',\n 'zorder'}\n\n\n- plt는 대부분 다 있음. (의미상 명확한건 대충 알아서 fig, ax에 접근해서 처리해준다)\n\nplt.tight_layout, plt.suptitle, plt.boxplot, plt.hist, plot.plot\nplt.set_title 은 없지만 plt.title 은 있음\nplt.add_axes 는 없음..\n\n\nset(dir(plt)) & {'add_axes'}\n\nset()"
  },
  {
    "objectID": "posts/DV_4(0926).html#x축-y축-label-설정",
    "href": "posts/DV_4(0926).html#x축-y축-label-설정",
    "title": "DV 4주차(1)",
    "section": "x축, y축 label 설정",
    "text": "x축, y축 label 설정\n\nfig,ax = plt.subplots()\nax.plot([1,2,3,2])\n#ax.set_xlabel('x',size=36, style='italic')\n_dct = {'size':36, 'family':'serif', 'style':'italic'}  #family:글꼴\nax.set_xlabel('x',_dct)  #옵션을 딕셔너리 형태로 해서 이렇게 표현도 가능\n\nText(0.5, 0, 'x')\n\n\n\n\n\n\nax.xaxis.set_label_text('xlabel',size=16,family='serif',weight=1000,style='italic')\n#_fontsettings={'size':16,'family':'serif','weight'=1000,'style':'italic'}\n#ax.xaxis.set_label_text('xlabel',_fontsettings)\nfig\n\n# weight 굵음\n# xaxis 도 가능.. (x축)\n\n\n\n\n폰트ref : https://matplotlib.org/stable/api/font_manager_api.html#matplotlib.font_manager.FontProperties\n\nsize:\nfontweight: 0~1000\nfamily: ‘serif’, ‘sans-serif’, ‘monospace’\nstyle: ‘normal’, ‘italic’\n\n\nax.set_xlabel??\n\n\nSignature: ax.set_xlabel(xlabel, fontdict=None, labelpad=None, *, loc=None, **kwargs)\nSource:   \n    def set_xlabel(self, xlabel, fontdict=None, labelpad=None, *,\n                   loc=None, **kwargs):\n        \"\"\"\n        Set the label for the x-axis.\n        Parameters\n        ----------\n        xlabel : str\n            The label text.\n        labelpad : float, default: :rc:`axes.labelpad`\n            Spacing in points from the Axes bounding box including ticks\n            and tick labels.  If None, the previous value is left as is.\n        loc : {'left', 'center', 'right'}, default: :rc:`xaxis.labellocation`\n            The label position. This is a high-level alternative for passing\n            parameters *x* and *horizontalalignment*.\n        Other Parameters\n        ----------------\n        **kwargs : `.Text` properties\n            `.Text` properties control the appearance of the label.\n        See Also\n        --------\n        text : Documents the properties supported by `.Text`.\n        \"\"\"\n        if labelpad is not None:\n            self.xaxis.labelpad = labelpad\n        protected_kw = ['x', 'horizontalalignment', 'ha']\n        if {*kwargs} & {*protected_kw}:\n            if loc is not None:\n                raise TypeError(f\"Specifying 'loc' is disallowed when any of \"\n                                f\"its corresponding low level keyword \"\n                                f\"arguments ({protected_kw}) are also \"\n                                f\"supplied\")\n        else:\n            loc = (loc if loc is not None\n                   else mpl.rcParams['xaxis.labellocation'])\n            _api.check_in_list(('left', 'center', 'right'), loc=loc)\n            if loc == 'left':\n                kwargs.update(x=0, horizontalalignment='left')\n            elif loc == 'center':\n                kwargs.update(x=0.5, horizontalalignment='center')\n            elif loc == 'right':\n                kwargs.update(x=1, horizontalalignment='right')\n        return self.xaxis.set_label_text(xlabel, fontdict, **kwargs)\nFile:      ~/anaconda3/envs/py37/lib/python3.7/site-packages/matplotlib/axes/_base.py\nType:      method"
  },
  {
    "objectID": "posts/DV_13(1128).html",
    "href": "posts/DV_13(1128).html",
    "title": "DV 13주차(1)",
    "section": "",
    "text": "import folium \nimport pandas as pd \nimport json \nimport requests"
  },
  {
    "objectID": "posts/DV_13(1128).html#folium.polygon",
    "href": "posts/DV_13(1128).html#folium.polygon",
    "title": "DV 13주차(1)",
    "section": "folium.Polygon",
    "text": "folium.Polygon\n\nm = folium.Map(\n    scrollWheelZoom=False,\n    location = [35.8468,127.1294], # 분수대\n    zoom_start=18,\n)\nfolium.Marker(\n    location = [35.8471, 127.1291]\n).add_to(m)\nfolium.Marker(\n    location = [35.8468, 127.1289]\n).add_to(m)\nfolium.Marker(\n    location = [35.84635, 127.1291]\n).add_to(m)\nfolium.Marker(\n    location = [35.84635, 127.1297]\n).add_to(m)\nfolium.Marker(\n    location = [35.8468, 127.12995]\n).add_to(m)\nfolium.Marker(\n    location = [35.8474, 127.1300]\n).add_to(m)\nm\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\n\nm = folium.Map(\n    scrollWheelZoom=False,\n    location = [35.8468,127.1294], # 분수대\n    zoom_start=18,\n)\nfolium.Polygon(\n    locations = [[35.8471, 127.1291],  # location's'라고 해야함\n                 [35.8468, 127.1289],\n                 [35.84635, 127.1291],\n                 [35.84635, 127.1297],\n                 [35.8468, 127.12995],\n                 [35.8474, 127.1300]],\n    fill=True\n).add_to(m)\nm\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\n\nm = folium.Map(\n    scrollWheelZoom=False,\n    location = [35.8468,127.1294], # 분수대\n    zoom_start=18,\n)\nfolium.Polygon(\n    locations = [[[35.8471, 127.1291],\n                 [35.8468, 127.1289],\n                 [35.84635, 127.1291],\n                 [35.84635, 127.1297],\n                 [35.8468, 127.12995],\n                 [35.8474, 127.1300]],\n                 \n                 [[ 35.8471 , 127.1302],\n                 [ 35.8468 , 127.1300],\n                 [ 35.84635, 127.1302],\n                 [ 35.84635, 127.1308],\n                 [ 35.8468 , 127.13105],\n                 [ 35.8474 , 127.1311]]],\n    fill=True\n).add_to(m)\nm\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook"
  },
  {
    "objectID": "posts/DV_13(1128).html#dict-view-vs-copy",
    "href": "posts/DV_13(1128).html#dict-view-vs-copy",
    "title": "DV 13주차(1)",
    "section": "dict: view vs copy",
    "text": "dict: view vs copy\n- 원하지 않는 코드\n\ndct1 = {'a':1, 'b':2, 'c':3}\ndct1\n\n{'a': 1, 'b': 2, 'c': 3}\n\n\n\ndct2 = dct1 \ndct1,dct2\n\n({'a': 1, 'b': 2, 'c': 3}, {'a': 1, 'b': 2, 'c': 3})\n\n\n\ndct2['c']=9999\ndct1, dct2\n\n({'a': 1, 'b': 2, 'c': 9999}, {'a': 1, 'b': 2, 'c': 9999})\n\n\n- 원하는 코드\n\ndct1 = {'a':1, 'b':2, 'c':3}\ndct1\n\n{'a': 1, 'b': 2, 'c': 3}\n\n\n\ndct2 = dct1.copy()\ndct1, dct2\n\n({'a': 1, 'b': 2, 'c': 3}, {'a': 1, 'b': 2, 'c': 3})\n\n\n\ndct2['c']=9999\ndct1, dct2\n\n({'a': 1, 'b': 2, 'c': 3}, {'a': 1, 'b': 2, 'c': 9999})"
  },
  {
    "objectID": "posts/DV_13(1128).html#json-파일-다운로드",
    "href": "posts/DV_13(1128).html#json-파일-다운로드",
    "title": "DV 13주차(1)",
    "section": "json 파일 다운로드",
    "text": "json 파일 다운로드\n\nglobal_dict = json.loads(requests.get('https://raw.githubusercontent.com/southkorea/southkorea-maps/master/kostat/2018/json/skorea-provinces-2018-geo.json').text)\nlocal_dict = json.loads(requests.get('https://raw.githubusercontent.com/southkorea/southkorea-maps/master/kostat/2018/json/skorea-municipalities-2018-geo.json').text)\n\n\nlocal_dict.keys()\n\ndict_keys(['type', 'features', 'name', 'crs'])"
  },
  {
    "objectID": "posts/DV_13(1128).html#json-파일의-구조",
    "href": "posts/DV_13(1128).html#json-파일의-구조",
    "title": "DV 13주차(1)",
    "section": "json 파일의 구조",
    "text": "json 파일의 구조\n- global_dict의 구조\n\n\n\nlevel_0\nlevel_1\nlevel_2\nlevel3\nlevel4\n\n\n\n\ntype\n‘FeatureCollection’\n\n\n\n\n\nfeatures\n[0]\ntype\n‘Feature’\n\n\n\n\n\ngeometry\ntype\n‘Polygon’\n\n\n\n\n\ncoordinates\n(1,??,2) list\n\n\n\n\nproperties\nname\n‘서울특별시’\n\n\n\n\n\nbase_year\n‘2018’\n\n\n\n\n\nname_eng\n‘Seoul’\n\n\n\n\n\ncode\n‘11’\n\n\n\n…\n…\n…\n…\n\n\n\n[16]\ntype\n‘Feature’\n\n\n\n\n\ngeometry\ntype\n‘MultiPolygon’\n\n\n\n\n\ncoordinates\n(6,1,??,2) list\n\n\n\n\nproperties\nname\n‘’제주특별자치도’\n\n\n\n\n\nbase_year\n‘2018’\n\n\n\n\n\nname_eng\n‘Jeju-do’\n\n\n\n\n\ncode\n‘39’\n\n\nname\n‘sido’\n\n\n\n\n\ncrs\ntype\n‘name’\n\n\n\n\n\nproperties\nname\n‘urn:ogc:def:crs:OGC:1.3:CRS84’\n\n\n\n\n- local_dict의 구조\n\n\n\nlevel_0\nlevel_1\nlevel_2\nlevel3\nlevel4\n\n\n\n\ntype\n‘FeatureCollection’\n\n\n\n\n\nfeatures\n[0]\ntype\n‘Feature’\n\n\n\n\n\ngeometry\ntype\n‘MultiPolygon’\n\n\n\n\n\ncoordinates\n(1,1,??,2) list\n\n\n\n\nproperties\nname\n‘종로구’\n\n\n\n\n\nbase_year\n‘2018’\n\n\n\n\n\nname_eng\n‘Jongno-gu’\n\n\n\n\n\ncode\n‘11010’\n\n\n\n…\n…\n…\n…\n\n\n\n[249]\ntype\n‘Feature’\n\n\n\n\n\ngeometry\ntype\n‘MultiPolygon’\n\n\n\n\n\ncoordinates\n(10,1,??,2) list\n\n\n\n\nproperties\nname\n‘서귀포시’\n\n\n\n\n\nbase_year\n‘2018’\n\n\n\n\n\nname_eng\n‘Seogwipo-si’\n\n\n\n\n\ncode\n‘39020’\n\n\nname\n‘sido’\n\n\n\n\n\ncrs\ntype\n‘name’\n\n\n\n\n\nproperties\nname\n‘urn:ogc:def:crs:OGC:1.3:CRS84’"
  },
  {
    "objectID": "posts/DV_13(1128).html#예제1-global-scale",
    "href": "posts/DV_13(1128).html#예제1-global-scale",
    "title": "DV 13주차(1)",
    "section": "예제1: global scale",
    "text": "예제1: global scale\n\nm = folium.Map(\n    location = [36,128],\n    zoom_start = 8,\n    scroolWheelZoom = False\n)\nfolium.Choropleth(\n    geo_data = global_dict\n).add_to(m)\nm\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook"
  },
  {
    "objectID": "posts/DV_13(1128).html#예제2-local-scale",
    "href": "posts/DV_13(1128).html#예제2-local-scale",
    "title": "DV 13주차(1)",
    "section": "예제2: local scale",
    "text": "예제2: local scale\n\nm = folium.Map(\n    location = [36,128],\n    zoom_start = 7,\n    scroolWheelZoom = False\n)\nfolium.Choropleth(\n    geo_data = local_dict\n).add_to(m)\nm\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook"
  },
  {
    "objectID": "posts/DV_13(1128).html#예제3-덕진구-완산구-시각화",
    "href": "posts/DV_13(1128).html#예제3-덕진구-완산구-시각화",
    "title": "DV 13주차(1)",
    "section": "예제3: 덕진구, 완산구 시각화",
    "text": "예제3: 덕진구, 완산구 시각화\n\nlocal_dict2 = local_dict.copy()\n\n\n_features = [local_dict['features'][i] for i in range(250) if local_dict['features'][i]['properties']['name'] == '전주시덕진구' or local_dict['features'][i]['properties']['name'] == '전주시완산구']\nlocal_dict2['features'] = _features\n\n\nm = folium.Map(\n    location = [35.84195368311022, 127.1155556693179],\n    zoom_start=11,\n    scrollWheelZoom = False\n)\nfolium.Choropleth(\n    geo_data=local_dict2\n).add_to(m)\nm\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\n\n_name_lst = [local_dict['features'][i]['properties']['name'] for i in range(250)]\n\n\n[name for name in _name_lst if '완산' in name or '덕진' in name]\n\n['전주시완산구', '전주시덕진구']"
  },
  {
    "objectID": "posts/DV_13(1128).html#예제1-덕진구-vs-완산구",
    "href": "posts/DV_13(1128).html#예제1-덕진구-vs-완산구",
    "title": "DV 13주차(1)",
    "section": "예제1: 덕진구 vs 완산구",
    "text": "예제1: 덕진구 vs 완산구\n\n선실습\n\ndf = pd.DataFrame({'key':['전주시덕진구', '전주시완산구'], 'value':[20,30]})\ndf\n\n\n\n\n\n\n\n\nkey\nvalue\n\n\n\n\n0\n전주시덕진구\n20\n\n\n1\n전주시완산구\n30\n\n\n\n\n\n\n\n\nm = folium.Map(\n    location = [35.84195368311022, 127.1155556693179],\n    zoom_start=11,\n    scrollWheelZoom = False\n)\nfolium.Choropleth(\n    geo_data=local_dict2,\n    data=df,\n    columns=['key','value'],\n    key_on='properties.name',\n    # 연결의 매개체가 되는 것이 무엇인가? 'key'랑 'properties.name'\n).add_to(m)\nm\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\n\n\n후실습\n이해를 위해 필요한 약간의 직관\n\n예비생각1: 코로플레스맵을 그리기 위해서는 항상 2개의 데이터를 연결해야하는 구조이다. 하나는 json에서 나온 dict (local_dict2), 다른하나는 df이다.\n예비생각2: 두개의 데이터를 연결하기 위해서는 공유가능한 연결의 매개체가 필요하다. (cbind: row-index를 공유, rbind: colnames공유, merge: 양쪽 데이터프레임에서 같은 이름을 가진 특정 col이 있었음)\n예비생각3: 코로플레스맵의 연결매개체는 ‘완산구’, ’덕진구’와 같은 지역명이다.\n\nfolium.Choropleth() 에 사용될 변수들 상상해보기\n\n재료: 두개의 데이터 (json과 df)를 명시해야 한다.\n연결매개체: 두개의 데이터프레임을 연결하는 변수이름을 명시해야 한다.\n색깔표시: (지역명,value)와 같은 쌍을 전달해야 한다."
  },
  {
    "objectID": "posts/DV_13(1128).html#key_on-에-대한-이해",
    "href": "posts/DV_13(1128).html#key_on-에-대한-이해",
    "title": "DV 13주차(1)",
    "section": "key_on 에 대한 이해",
    "text": "key_on 에 대한 이해\n\n사용예시1: 한글이름으로 key_on\n\ndf = pd.DataFrame({'key':['전주시덕진구', 'Jeonjusiwansangu'], 'value':[20,30]})\ndf\n\n\n\n\n\n\n\n\nkey\nvalue\n\n\n\n\n0\n전주시덕진구\n20\n\n\n1\nJeonjusiwansangu\n30\n\n\n\n\n\n\n\n\nm = folium.Map(\n    location = [35.84195368311022, 127.1155556693179],\n    zoom_start=11,\n    scrollWheelZoom = False\n)\nfolium.Choropleth(\n    geo_data=local_dict2,\n    data=df,\n    columns=['key','value'],\n    key_on='properties.name',\n).add_to(m)\nm\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\n\n20에 대응하는 것들만 표시되고 미싱되는 것은 검정색 표현\n\n\n\n사용예시2: 영어이름으로 key_on\n\ndf = pd.DataFrame({'key':['전주시덕진구', 'Jeonjusiwansangu'], 'value':[20,30]})\ndf\n\n\n\n\n\n\n\n\nkey\nvalue\n\n\n\n\n0\n전주시덕진구\n20\n\n\n1\nJeonjusiwansangu\n30\n\n\n\n\n\n\n\n\nm = folium.Map(\n    location = [35.84195368311022, 127.1155556693179],\n    zoom_start=11,\n    scrollWheelZoom = False\n)\nfolium.Choropleth(\n    geo_data=local_dict2,\n    data=df,\n    columns=['key','value'],\n    key_on='properties.name_eng',\n).add_to(m)\nm\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\n\n\n사용예시3: 코드로 key_on\n\nlocal_dict2['features'][0]['properties'], local_dict2['features'][1]['properties']\n\n({'name': '전주시완산구',\n  'base_year': '2018',\n  'name_eng': 'Jeonjusiwansangu',\n  'code': '35011'},\n {'name': '전주시덕진구',\n  'base_year': '2018',\n  'name_eng': 'Jeonjusideokjingu',\n  'code': '35012'})\n\n\n\ndf = pd.DataFrame({'code':['35012', '35011'], 'value':[20,30]})\ndf\n\n\n\n\n\n\n\n\ncode\nvalue\n\n\n\n\n0\n35012\n20\n\n\n1\n35011\n30\n\n\n\n\n\n\n\n\nm = folium.Map(\n    location = [35.84195368311022, 127.1155556693179],\n    zoom_start=11,\n    scrollWheelZoom = False\n)\nfolium.Choropleth(\n    geo_data=local_dict2,\n    data=df,\n    columns=['code','value'],\n    key_on='properties.code',\n).add_to(m)\nm\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook"
  },
  {
    "objectID": "posts/DV_13(1128).html#예제2-대한민국-인구수-시각화-global-scale",
    "href": "posts/DV_13(1128).html#예제2-대한민국-인구수-시각화-global-scale",
    "title": "DV 13주차(1)",
    "section": "예제2: 대한민국 인구수 시각화 (global scale)",
    "text": "예제2: 대한민국 인구수 시각화 (global scale)\n\ndf=pd.read_csv('https://raw.githubusercontent.com/guebin/2021DV/master/_notebooks/2021-11-22-prov.csv')\ndf\n\n\n\n\n\n\n\n\n행정구역(시군구)별\n총인구수 (명)\n\n\n\n\n0\n서울특별시\n9532428\n\n\n1\n부산광역시\n3356311\n\n\n2\n대구광역시\n2390721\n\n\n3\n인천광역시\n2945009\n\n\n4\n광주광역시\n1442454\n\n\n5\n대전광역시\n1454228\n\n\n6\n울산광역시\n1122566\n\n\n7\n세종특별자치시\n368276\n\n\n8\n경기도\n13549577\n\n\n9\n강원도\n1537717\n\n\n10\n충청북도\n1596948\n\n\n11\n충청남도\n2118977\n\n\n12\n전라북도\n1789770\n\n\n13\n전라남도\n1834653\n\n\n14\n경상북도\n2627925\n\n\n15\n경상남도\n3318161\n\n\n16\n제주특별자치도\n676569\n\n\n\n\n\n\n\n\nm = folium.Map(\n    location = [36,128],\n    zoom_start=7,\n    scrollWheelZoom = False\n)\nfolium.Choropleth(\n    geo_data=global_dict,\n    data=df,\n    columns=['행정구역(시군구)별','총인구수 (명)'],\n    key_on='properties.name',\n).add_to(m)\nm\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook"
  },
  {
    "objectID": "posts/DV_13(1128).html#예제3-대한민국-인구수-시각화-local-scale",
    "href": "posts/DV_13(1128).html#예제3-대한민국-인구수-시각화-local-scale",
    "title": "DV 13주차(1)",
    "section": "예제3: 대한민국 인구수 시각화 (local scale)",
    "text": "예제3: 대한민국 인구수 시각화 (local scale)\n\ndf=pd.read_csv('https://raw.githubusercontent.com/guebin/2021DV/master/_notebooks/2021-11-22-muni.csv')\ndf\n\n\n\n\n\n\n\n\n행정구역(시군구)별\n총인구수 (명)\n\n\n\n\n0\n종로구\n145346\n\n\n1\n중구\n122781\n\n\n2\n용산구\n223713\n\n\n3\n성동구\n287174\n\n\n4\n광진구\n340814\n\n\n...\n...\n...\n\n\n269\n함양군\n38475\n\n\n270\n거창군\n61242\n\n\n271\n합천군\n43029\n\n\n272\n제주시\n493225\n\n\n273\n서귀포시\n183344\n\n\n\n\n274 rows × 2 columns\n\n\n\n\nm = folium.Map(\n    location = [36,128],\n    zoom_start=7,\n    scrollWheelZoom = False\n)\nfolium.Choropleth(\n    geo_data=local_dict,\n    data=df,\n    columns=['행정구역(시군구)별','총인구수 (명)'],\n    key_on='properties.name',\n).add_to(m)\nm\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook"
  },
  {
    "objectID": "posts/DV_4(0928).html",
    "href": "posts/DV_4(0928).html",
    "title": "DV 4주차(2)",
    "section": "",
    "text": "import seaborn as sns\nimport matplotlib.pyplot as plt \nimport numpy as np\nimport pandas as pd"
  },
  {
    "objectID": "posts/DV_4(0928).html#plt복습",
    "href": "posts/DV_4(0928).html#plt복습",
    "title": "DV 4주차(2)",
    "section": "plt복습",
    "text": "plt복습\n\nplt.boxplot([y1,y2])\n\n{'whiskers': [&lt;matplotlib.lines.Line2D at 0x7f2a64e7a950&gt;,\n  &lt;matplotlib.lines.Line2D at 0x7f2a64e7ac90&gt;,\n  &lt;matplotlib.lines.Line2D at 0x7f2a64e910d0&gt;,\n  &lt;matplotlib.lines.Line2D at 0x7f2a64e913d0&gt;],\n 'caps': [&lt;matplotlib.lines.Line2D at 0x7f2a64e83050&gt;,\n  &lt;matplotlib.lines.Line2D at 0x7f2a64e83350&gt;,\n  &lt;matplotlib.lines.Line2D at 0x7f2a64e91710&gt;,\n  &lt;matplotlib.lines.Line2D at 0x7f2a64e91a50&gt;],\n 'boxes': [&lt;matplotlib.lines.Line2D at 0x7f2a64e7a650&gt;,\n  &lt;matplotlib.lines.Line2D at 0x7f2a64e83d50&gt;],\n 'medians': [&lt;matplotlib.lines.Line2D at 0x7f2a64e836d0&gt;,\n  &lt;matplotlib.lines.Line2D at 0x7f2a64e91d90&gt;],\n 'fliers': [&lt;matplotlib.lines.Line2D at 0x7f2a64e83a10&gt;,\n  &lt;matplotlib.lines.Line2D at 0x7f2a64e9e110&gt;],\n 'means': []}"
  },
  {
    "objectID": "posts/DV_4(0928).html#sns-wide-df",
    "href": "posts/DV_4(0928).html#sns-wide-df",
    "title": "DV 4주차(2)",
    "section": "sns: wide df",
    "text": "sns: wide df\n\ndf1=pd.DataFrame({1:y1,2:y2})\ndf1\n\n\n\n\n\n\n\n\n1\n2\n\n\n\n\n0\n75\n76\n\n\n1\n75\n76\n\n\n2\n76\n77\n\n\n3\n76\n77\n\n\n4\n77\n78\n\n\n5\n77\n78\n\n\n6\n79\n80\n\n\n7\n79\n80\n\n\n8\n79\n80\n\n\n9\n98\n81\n\n\n\n\n\n\n\n- 예시1\n\nsns.boxplot(data=df1)\n\n&lt;AxesSubplot:&gt;\n\n\n\n\n\n\nsns.boxplot(np.stack([y1,y2],axis=1))   # 잘 쓰진 않는데 된다\n\n&lt;AxesSubplot:&gt;"
  },
  {
    "objectID": "posts/DV_4(0928).html#sns-long-df",
    "href": "posts/DV_4(0928).html#sns-long-df",
    "title": "DV 4주차(2)",
    "section": "sns: long df",
    "text": "sns: long df\nvalue 를 넣고 그 value가 어떤 category에 있는지 넣는 방법\n\ndf2 = pd.DataFrame({'score': y1+y2, 'class': ['A']*len(y1)+['B']*len(y2)})\ndf2\n\n\n\n\n\n\n\n\nscore\nclass\n\n\n\n\n0\n75\nA\n\n\n1\n75\nA\n\n\n2\n76\nA\n\n\n3\n76\nA\n\n\n4\n77\nA\n\n\n5\n77\nA\n\n\n6\n79\nA\n\n\n7\n79\nA\n\n\n8\n79\nA\n\n\n9\n98\nA\n\n\n10\n76\nB\n\n\n11\n76\nB\n\n\n12\n77\nB\n\n\n13\n77\nB\n\n\n14\n78\nB\n\n\n15\n78\nB\n\n\n16\n80\nB\n\n\n17\n80\nB\n\n\n18\n80\nB\n\n\n19\n81\nB\n\n\n\n\n\n\n\n- 예시1\n\nsns.boxplot(data=df2, x='class', y='score')\n\n&lt;AxesSubplot:xlabel='class', ylabel='score'&gt;"
  },
  {
    "objectID": "posts/DV_4(0928).html#sns-array",
    "href": "posts/DV_4(0928).html#sns-array",
    "title": "DV 4주차(2)",
    "section": "sns: array",
    "text": "sns: array\n- 예시1\n\nsns.boxplot(data=y1)\n\n&lt;AxesSubplot:&gt;\n\n\n\n\n\n- 예시2\n\nsns.boxplot(y=y1)\n\n&lt;AxesSubplot:&gt;\n\n\n\n\n\n- 예시3\n\nsns.boxplot(x=y1)\n\n&lt;AxesSubplot:&gt;"
  },
  {
    "objectID": "posts/DV_4(0928).html#plt-복습",
    "href": "posts/DV_4(0928).html#plt-복습",
    "title": "DV 4주차(2)",
    "section": "plt 복습",
    "text": "plt 복습\n\nplt.hist(x,alpha=0.5)\nplt.hist(y,alpha=0.5)\n\n(array([2.000e+00, 1.500e+01, 1.550e+02, 7.670e+02, 2.062e+03, 3.085e+03,\n        2.479e+03, 1.117e+03, 2.790e+02, 3.900e+01]),\n array([-3.5473064 , -2.74724651, -1.94718662, -1.14712673, -0.34706684,\n         0.45299304,  1.25305293,  2.05311282,  2.85317271,  3.6532326 ,\n         4.45329248]),\n &lt;BarContainer object of 10 artists&gt;)\n\n\n\n\n\n- 예시2\n\nplt.hist([x,y]);"
  },
  {
    "objectID": "posts/DV_4(0928).html#sns-wide-df-1",
    "href": "posts/DV_4(0928).html#sns-wide-df-1",
    "title": "DV 4주차(2)",
    "section": "sns: wide df",
    "text": "sns: wide df\n\ndf1=pd.DataFrame({'x':x, 'y':y})\ndf1\n\n\n\n\n\n\n\n\nx\ny\n\n\n\n\n0\n0.392340\n-0.520932\n\n\n1\n-0.027382\n2.332888\n\n\n2\n-0.266977\n0.973511\n\n\n3\n-0.493336\n2.801266\n\n\n4\n0.282255\n0.433189\n\n\n...\n...\n...\n\n\n9995\n-0.752878\n2.394238\n\n\n9996\n-0.212005\n2.293700\n\n\n9997\n-1.118235\n2.660186\n\n\n9998\n1.558492\n0.886679\n\n\n9999\n-0.753399\n1.977537\n\n\n\n\n10000 rows × 2 columns\n\n\n\n- 예시\n\nsns.histplot(data=df1);\n\n\n\n\n\nsns.histplot(data=df1,bins=20)  # 칸 조정\n\n&lt;AxesSubplot:ylabel='Count'&gt;\n\n\n\n\n\n\nsns.histplot(data=df1,bins=20,kde=True);    # kde : 곡선\n\n\n\n\n\nsns.histplot(data=df1,bins=20,kde=True,element=\"step\");\n\n\n\n\n\nsns.histplot(data=df1,bins=20,kde=True,element=\"step\",lw=5) # mpl에 대한 존경심 확인 \n\n&lt;AxesSubplot:ylabel='Count'&gt;"
  },
  {
    "objectID": "posts/DV_4(0928).html#sns-long-df-1",
    "href": "posts/DV_4(0928).html#sns-long-df-1",
    "title": "DV 4주차(2)",
    "section": "sns: long df",
    "text": "sns: long df\n\ndf2=pd.DataFrame({'val' : np.concatenate([x,y]), 'var': ['x']*len(x) + ['y']*len(y)})\ndf2\n\n\n\n\n\n\n\n\nval\nvar\n\n\n\n\n0\n0.392340\nx\n\n\n1\n-0.027382\nx\n\n\n2\n-0.266977\nx\n\n\n3\n-0.493336\nx\n\n\n4\n0.282255\nx\n\n\n...\n...\n...\n\n\n19995\n2.394238\ny\n\n\n19996\n2.293700\ny\n\n\n19997\n2.660186\ny\n\n\n19998\n0.886679\ny\n\n\n19999\n1.977537\ny\n\n\n\n\n20000 rows × 2 columns\n\n\n\n\nsns.histplot(data=df2, x='val', hue='var', bins=20, kde=True, lw=0)\n# hue:색깔 var로 구분하겠다! \n\n&lt;AxesSubplot:xlabel='val', ylabel='Count'&gt;"
  },
  {
    "objectID": "posts/DV_4(0928).html#sns-array-1",
    "href": "posts/DV_4(0928).html#sns-array-1",
    "title": "DV 4주차(2)",
    "section": "sns: array",
    "text": "sns: array\n\nsns.histplot(data=x)\n\n&lt;AxesSubplot:ylabel='Count'&gt;\n\n\n\n\n\n\nsns.histplot(x=x)\n\n&lt;AxesSubplot:ylabel='Count'&gt;\n\n\n\n\n\n\nsns.histplot(x=x, color='C0', bins=20, lw=0)\nsns.histplot(x=y, color='C0', bins=20, lw=0)\n\n&lt;AxesSubplot:ylabel='Count'&gt;"
  },
  {
    "objectID": "posts/DV_4(0928).html#plt복습-1",
    "href": "posts/DV_4(0928).html#plt복습-1",
    "title": "DV 4주차(2)",
    "section": "plt복습",
    "text": "plt복습\n\nplt.plot(ϵ,'--o')\n\n\n\n\n\nplt.plot(y,'--o')"
  },
  {
    "objectID": "posts/DV_4(0928).html#sns-array-2",
    "href": "posts/DV_4(0928).html#sns-array-2",
    "title": "DV 4주차(2)",
    "section": "sns: array",
    "text": "sns: array\n\nsns.lineplot(data=ϵ)\n\n&lt;AxesSubplot:&gt;\n\n\n\n\n\n\nsns.lineplot(data=y)\n\n&lt;AxesSubplot:&gt;"
  },
  {
    "objectID": "posts/DV_4(0928).html#sns-wide-df-2",
    "href": "posts/DV_4(0928).html#sns-wide-df-2",
    "title": "DV 4주차(2)",
    "section": "sns: wide df",
    "text": "sns: wide df\n\ndf4 = pd.DataFrame({'ϵ' : ϵ , 'y' : y})\ndf4\n\n\n\n\n\n\n\n\nϵ\ny\n\n\n\n\n0\n0.383420\n0.383420\n\n\n1\n1.084175\n1.467595\n\n\n2\n1.142778\n2.610373\n\n\n3\n0.307894\n2.918267\n\n\n4\n0.237787\n3.156054\n\n\n...\n...\n...\n\n\n95\n1.308688\n-10.598788\n\n\n96\n0.405376\n-10.193412\n\n\n97\n-0.185070\n-10.378481\n\n\n98\n1.055388\n-9.323094\n\n\n99\n1.187014\n-8.136079\n\n\n\n\n100 rows × 2 columns\n\n\n\n\nsns.lineplot(data=df4)\n\n&lt;AxesSubplot:&gt;\n\n\n\n\n\n\nsns.lineplot(data=df4, dashes=False)   # dashes : 둘다 실선\n\n&lt;AxesSubplot:&gt;"
  },
  {
    "objectID": "posts/DV_4(0928).html#sns-long-df-2",
    "href": "posts/DV_4(0928).html#sns-long-df-2",
    "title": "DV 4주차(2)",
    "section": "sns: long df",
    "text": "sns: long df\n\ndf5= pd.DataFrame({'idx':list(range(100))*2,'val':np.concatenate([ϵ,y]),'cat':['eps']*100 + ['y']*100 })\ndf5\n\n\n\n\n\n\n\n\nidx\nval\ncat\n\n\n\n\n0\n0\n0.383420\neps\n\n\n1\n1\n1.084175\neps\n\n\n2\n2\n1.142778\neps\n\n\n3\n3\n0.307894\neps\n\n\n4\n4\n0.237787\neps\n\n\n...\n...\n...\n...\n\n\n195\n95\n-10.598788\ny\n\n\n196\n96\n-10.193412\ny\n\n\n197\n97\n-10.378481\ny\n\n\n198\n98\n-9.323094\ny\n\n\n199\n99\n-8.136079\ny\n\n\n\n\n200 rows × 3 columns\n\n\n\n\nsns.lineplot(data=df5, x='idx',y='val',hue='cat')\n\n&lt;AxesSubplot:xlabel='idx', ylabel='val'&gt;\n\n\n\n\n\n\nsns.lineplot(data=df5, x='idx',y='val',style='cat',hue='cat',markers=True)\n\n&lt;AxesSubplot:xlabel='idx', ylabel='val'&gt;\n\n\n\n\n\n\nsns.lineplot(data=df5, x='idx',y='val',style='cat',hue='cat',dashes=[(3,1),(3,3)],markers=['o','o'])\n\n&lt;AxesSubplot:xlabel='idx', ylabel='val'&gt;"
  },
  {
    "objectID": "posts/DV_2(0914).html",
    "href": "posts/DV_2(0914).html",
    "title": "DV 2주차",
    "section": "",
    "text": "!pip install opencv-python\n\nCollecting opencv-python\n  Downloading opencv_python-4.7.0.68-cp37-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (61.8 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 61.8/61.8 MB 42.7 MB/s eta 0:00:0000:0100:01\nRequirement already satisfied: numpy&gt;=1.17.0 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from opencv-python) (1.21.6)\nInstalling collected packages: opencv-python\nSuccessfully installed opencv-python-4.7.0.68\nimport cv2 \nimport matplotlib.pyplot as plt \nimport pandas as pd\nimport numpy as np\n- 히스토그램 이퀄라이제이션(https://en.wikipedia.org/wiki/Histogram_equalization)"
  },
  {
    "objectID": "posts/DV_2(0914).html#이미지-자료-다운로드",
    "href": "posts/DV_2(0914).html#이미지-자료-다운로드",
    "title": "DV 2주차",
    "section": "이미지 자료 다운로드",
    "text": "이미지 자료 다운로드\n\n!wget https://upload.wikimedia.org/wikipedia/commons/0/08/Unequalized_Hawkes_Bay_NZ.jpg\nimg = cv2.imread('Unequalized_Hawkes_Bay_NZ.jpg')\n\n--2023-02-22 16:32:29--  https://upload.wikimedia.org/wikipedia/commons/0/08/Unequalized_Hawkes_Bay_NZ.jpg\nResolving upload.wikimedia.org (upload.wikimedia.org)... 103.102.166.240, 2001:df2:e500:ed1a::2:b\nConnecting to upload.wikimedia.org (upload.wikimedia.org)|103.102.166.240|:443... connected.\nHTTP request sent, awaiting response... 200 OK\nLength: 110895 (108K) [image/jpeg]\nSaving to: ‘Unequalized_Hawkes_Bay_NZ.jpg.1’\n\nUnequalized_Hawkes_ 100%[===================&gt;] 108.30K   519KB/s    in 0.2s    \n\n2023-02-22 16:32:29 (519 KB/s) - ‘Unequalized_Hawkes_Bay_NZ.jpg.1’ saved [110895/110895]\n\n\n\n\nimg.shape  # 가로, 세로 픽셀, 채널(빨,녹,파..)\n\n(683, 1024, 3)\n\n\n\nplt.imshow(img)\n\n&lt;matplotlib.image.AxesImage at 0x7fc8361704d0&gt;"
  },
  {
    "objectID": "posts/DV_2(0914).html#이미지-자료의-이해",
    "href": "posts/DV_2(0914).html#이미지-자료의-이해",
    "title": "DV 2주차",
    "section": "이미지 자료의 이해",
    "text": "이미지 자료의 이해\n\n비밀1: 이미지는 사실 숫자들의 집합이다.\n- 예시1\n\n_img1 = np.array([0,30,90,120,150,180,210,240,255]).reshape(3,3)\n_img1\n\narray([[  0,  30,  90],\n       [120, 150, 180],\n       [210, 240, 255]])\n\n\n\nplt.imshow(_img1, cmap='gray')\nplt.colorbar()\n\n&lt;matplotlib.colorbar.Colorbar at 0x7fc831d80090&gt;\n\n\n\n\n\n- 예시2\n\n_img2 = np.array([0,20,40,60,80,100,120,140,160]).reshape(3,3)\n_img2\n\narray([[  0,  20,  40],\n       [ 60,  80, 100],\n       [120, 140, 160]])\n\n\n\nplt.imshow(_img2, cmap='gray')\nplt.colorbar()\n\n&lt;matplotlib.colorbar.Colorbar at 0x7fc831e82510&gt;\n\n\n\n\n\n- 예시3\n\n_img3=np.concatenate([_img1, _img2], axis=1)\n_img3\n\narray([[  0,  30,  90,   0,  20,  40],\n       [120, 150, 180,  60,  80, 100],\n       [210, 240, 255, 120, 140, 160]])\n\n\n\nplt.imshow(_img3, cmap='gray')\n\n&lt;matplotlib.image.AxesImage at 0x7fc830ec8d50&gt;\n\n\n\n\n\n\n\n비밀2: 칼라이미지는 red + green + blue 의 조합으로 표현가능 (다른방식도 가능)\n- 예시1\n\nr=np.array([0]*25*3).reshape(5,5,3)\ng=np.array([0]*25*3).reshape(5,5,3)\nb=np.array([0]*25*3).reshape(5,5,3)\n\n\nr[:3,:3,0] = 255   \ng[:3,2:,1] = 255 \nb[2:,:,2] = 255\n\n\nplt.imshow(r)\n\n&lt;matplotlib.image.AxesImage at 0x7fc830cd4f50&gt;\n\n\n\n\n\n\nplt.imshow(g)\n\n&lt;matplotlib.image.AxesImage at 0x7fc830e48650&gt;\n\n\n\n\n\n\nplt.imshow(b)\n\n&lt;matplotlib.image.AxesImage at 0x7fc830bd8950&gt;\n\n\n\n\n\n\nplt.imshow(r+g+b)   # 빛의 3원색..색의 3원색\n\n&lt;matplotlib.image.AxesImage at 0x7fc830be4f90&gt;\n\n\n\n\n\n- 예시2: R,G,B를 같은 비율로 섞으면 무채색이 된다.\n\nr = np.array([0]*25*3).reshape(5,5,3) \ng = np.array([0]*25*3).reshape(5,5,3) \nb = np.array([0]*25*3).reshape(5,5,3) \nr[:3,:3,0] = 80   \ng[:3,2:,1] = 80\nb[2:,:,2] = 80 \n\n\nplt.imshow(r+g+b)\n\n&lt;matplotlib.image.AxesImage at 0x7fc830bd8d10&gt;\n\n\n\n\n\n- 예시3\n\nimg.shape\n\n(683, 1024, 3)\n\n\n\nimg_red = img * 0\nimg_green = img * 0\nimg_blue = img * 0\n\n\nimg_red[...,0] = img[...,0]\nimg_green[...,0] = img[...,1]\nimg_blue[...,0] = img[...,2]\n\n\nplt.imshow(img_red)\n\n&lt;matplotlib.image.AxesImage at 0x7fc8309c6ed0&gt;\n\n\n\n\n\n\nplt.imshow(img_red)"
  },
  {
    "objectID": "posts/DV_2(0914).html#히스토그램-이퀄라이제이션",
    "href": "posts/DV_2(0914).html#히스토그램-이퀄라이제이션",
    "title": "DV 2주차",
    "section": "히스토그램 이퀄라이제이션",
    "text": "히스토그램 이퀄라이제이션\n- 이미지를 rgb로 각각 분리하고 각 색깔들의 히스토그램을 그려보자.\n\nimg_red[:,:,0].reshape(-1).shape\n\n(699392,)\n\n\n\nimg_red[:,:,0].shape  # 위 699392 = 683 * 1024\n\n(683, 1024)\n\n\n\nplt.hist(img[:,:,0].reshape(-1))\n\n(array([  3691.,  56282., 235628., 170392., 120545.,  60511.,  22052.,\n         14354.,  15246.,    691.]),\n array([114. , 123.4, 132.8, 142.2, 151.6, 161. , 170.4, 179.8, 189.2,\n        198.6, 208. ]),\n &lt;BarContainer object of 10 artists&gt;)\n\n\n\n\n\n\nplt.hist(img_red[:,:,0].reshape(-1),bins=255)\n\n(array([1.0000e+00, 0.0000e+00, 1.0000e+00, 0.0000e+00, 0.0000e+00,\n        1.2000e+01, 0.0000e+00, 0.0000e+00, 1.9000e+01, 0.0000e+00,\n        4.9000e+01, 0.0000e+00, 0.0000e+00, 9.3000e+01, 0.0000e+00,\n        0.0000e+00, 2.2000e+02, 0.0000e+00, 4.8800e+02, 0.0000e+00,\n        0.0000e+00, 1.0610e+03, 0.0000e+00, 0.0000e+00, 1.7470e+03,\n        0.0000e+00, 0.0000e+00, 2.1600e+03, 0.0000e+00, 2.7180e+03,\n        0.0000e+00, 0.0000e+00, 3.2590e+03, 0.0000e+00, 0.0000e+00,\n        4.0390e+03, 0.0000e+00, 5.1080e+03, 0.0000e+00, 0.0000e+00,\n        6.3950e+03, 0.0000e+00, 0.0000e+00, 8.4630e+03, 0.0000e+00,\n        0.0000e+00, 1.0610e+04, 0.0000e+00, 1.3530e+04, 0.0000e+00,\n        0.0000e+00, 1.6115e+04, 0.0000e+00, 0.0000e+00, 1.9125e+04,\n        0.0000e+00, 2.2186e+04, 0.0000e+00, 0.0000e+00, 2.5696e+04,\n        0.0000e+00, 0.0000e+00, 2.8701e+04, 0.0000e+00, 0.0000e+00,\n        2.8324e+04, 0.0000e+00, 2.5759e+04, 0.0000e+00, 0.0000e+00,\n        2.4369e+04, 0.0000e+00, 0.0000e+00, 2.3578e+04, 0.0000e+00,\n        2.1775e+04, 0.0000e+00, 0.0000e+00, 2.0385e+04, 0.0000e+00,\n        0.0000e+00, 1.9839e+04, 0.0000e+00, 0.0000e+00, 1.9781e+04,\n        0.0000e+00, 1.9445e+04, 0.0000e+00, 0.0000e+00, 1.8856e+04,\n        0.0000e+00, 0.0000e+00, 1.8457e+04, 0.0000e+00, 1.7906e+04,\n        0.0000e+00, 0.0000e+00, 1.7917e+04, 0.0000e+00, 0.0000e+00,\n        1.7806e+04, 0.0000e+00, 0.0000e+00, 1.8485e+04, 0.0000e+00,\n        1.7680e+04, 0.0000e+00, 0.0000e+00, 1.5799e+04, 0.0000e+00,\n        0.0000e+00, 1.4163e+04, 0.0000e+00, 1.2812e+04, 0.0000e+00,\n        0.0000e+00, 1.1576e+04, 0.0000e+00, 0.0000e+00, 1.0751e+04,\n        0.0000e+00, 0.0000e+00, 9.8990e+03, 0.0000e+00, 9.3800e+03,\n        0.0000e+00, 0.0000e+00, 8.8630e+03, 0.0000e+00, 0.0000e+00,\n        8.3990e+03, 0.0000e+00, 7.4040e+03, 0.0000e+00, 0.0000e+00,\n        6.4030e+03, 0.0000e+00, 0.0000e+00, 5.9110e+03, 0.0000e+00,\n        0.0000e+00, 5.5910e+03, 0.0000e+00, 5.1500e+03, 0.0000e+00,\n        0.0000e+00, 4.6100e+03, 0.0000e+00, 0.0000e+00, 4.3200e+03,\n        0.0000e+00, 3.8600e+03, 0.0000e+00, 0.0000e+00, 3.6160e+03,\n        0.0000e+00, 0.0000e+00, 3.4300e+03, 0.0000e+00, 0.0000e+00,\n        3.0630e+03, 0.0000e+00, 2.6490e+03, 0.0000e+00, 0.0000e+00,\n        2.2130e+03, 0.0000e+00, 0.0000e+00, 2.0460e+03, 0.0000e+00,\n        1.8590e+03, 0.0000e+00, 0.0000e+00, 1.6920e+03, 0.0000e+00,\n        0.0000e+00, 1.4840e+03, 0.0000e+00, 0.0000e+00, 1.3620e+03,\n        0.0000e+00, 1.2900e+03, 0.0000e+00, 0.0000e+00, 1.1530e+03,\n        0.0000e+00, 0.0000e+00, 1.2320e+03, 0.0000e+00, 1.3000e+03,\n        0.0000e+00, 0.0000e+00, 1.5200e+03, 0.0000e+00, 0.0000e+00,\n        1.3840e+03, 0.0000e+00, 0.0000e+00, 1.5270e+03, 0.0000e+00,\n        1.7350e+03, 0.0000e+00, 0.0000e+00, 1.8510e+03, 0.0000e+00,\n        0.0000e+00, 1.5320e+03, 0.0000e+00, 1.3590e+03, 0.0000e+00,\n        0.0000e+00, 1.4140e+03, 0.0000e+00, 0.0000e+00, 1.4830e+03,\n        0.0000e+00, 0.0000e+00, 1.5410e+03, 0.0000e+00, 1.5950e+03,\n        0.0000e+00, 0.0000e+00, 2.3690e+03, 0.0000e+00, 0.0000e+00,\n        2.8100e+03, 0.0000e+00, 1.1430e+03, 0.0000e+00, 0.0000e+00,\n        4.2000e+02, 0.0000e+00, 0.0000e+00, 1.2800e+02, 0.0000e+00,\n        0.0000e+00, 5.6000e+01, 0.0000e+00, 4.1000e+01, 0.0000e+00,\n        0.0000e+00, 1.8000e+01, 0.0000e+00, 0.0000e+00, 1.0000e+01,\n        0.0000e+00, 1.0000e+01, 0.0000e+00, 0.0000e+00, 6.0000e+00,\n        0.0000e+00, 0.0000e+00, 1.0000e+00, 0.0000e+00, 1.0000e+00]),\n array([114.        , 114.36862745, 114.7372549 , 115.10588235,\n        115.4745098 , 115.84313725, 116.21176471, 116.58039216,\n        116.94901961, 117.31764706, 117.68627451, 118.05490196,\n        118.42352941, 118.79215686, 119.16078431, 119.52941176,\n        119.89803922, 120.26666667, 120.63529412, 121.00392157,\n        121.37254902, 121.74117647, 122.10980392, 122.47843137,\n        122.84705882, 123.21568627, 123.58431373, 123.95294118,\n        124.32156863, 124.69019608, 125.05882353, 125.42745098,\n        125.79607843, 126.16470588, 126.53333333, 126.90196078,\n        127.27058824, 127.63921569, 128.00784314, 128.37647059,\n        128.74509804, 129.11372549, 129.48235294, 129.85098039,\n        130.21960784, 130.58823529, 130.95686275, 131.3254902 ,\n        131.69411765, 132.0627451 , 132.43137255, 132.8       ,\n        133.16862745, 133.5372549 , 133.90588235, 134.2745098 ,\n        134.64313725, 135.01176471, 135.38039216, 135.74901961,\n        136.11764706, 136.48627451, 136.85490196, 137.22352941,\n        137.59215686, 137.96078431, 138.32941176, 138.69803922,\n        139.06666667, 139.43529412, 139.80392157, 140.17254902,\n        140.54117647, 140.90980392, 141.27843137, 141.64705882,\n        142.01568627, 142.38431373, 142.75294118, 143.12156863,\n        143.49019608, 143.85882353, 144.22745098, 144.59607843,\n        144.96470588, 145.33333333, 145.70196078, 146.07058824,\n        146.43921569, 146.80784314, 147.17647059, 147.54509804,\n        147.91372549, 148.28235294, 148.65098039, 149.01960784,\n        149.38823529, 149.75686275, 150.1254902 , 150.49411765,\n        150.8627451 , 151.23137255, 151.6       , 151.96862745,\n        152.3372549 , 152.70588235, 153.0745098 , 153.44313725,\n        153.81176471, 154.18039216, 154.54901961, 154.91764706,\n        155.28627451, 155.65490196, 156.02352941, 156.39215686,\n        156.76078431, 157.12941176, 157.49803922, 157.86666667,\n        158.23529412, 158.60392157, 158.97254902, 159.34117647,\n        159.70980392, 160.07843137, 160.44705882, 160.81568627,\n        161.18431373, 161.55294118, 161.92156863, 162.29019608,\n        162.65882353, 163.02745098, 163.39607843, 163.76470588,\n        164.13333333, 164.50196078, 164.87058824, 165.23921569,\n        165.60784314, 165.97647059, 166.34509804, 166.71372549,\n        167.08235294, 167.45098039, 167.81960784, 168.18823529,\n        168.55686275, 168.9254902 , 169.29411765, 169.6627451 ,\n        170.03137255, 170.4       , 170.76862745, 171.1372549 ,\n        171.50588235, 171.8745098 , 172.24313725, 172.61176471,\n        172.98039216, 173.34901961, 173.71764706, 174.08627451,\n        174.45490196, 174.82352941, 175.19215686, 175.56078431,\n        175.92941176, 176.29803922, 176.66666667, 177.03529412,\n        177.40392157, 177.77254902, 178.14117647, 178.50980392,\n        178.87843137, 179.24705882, 179.61568627, 179.98431373,\n        180.35294118, 180.72156863, 181.09019608, 181.45882353,\n        181.82745098, 182.19607843, 182.56470588, 182.93333333,\n        183.30196078, 183.67058824, 184.03921569, 184.40784314,\n        184.77647059, 185.14509804, 185.51372549, 185.88235294,\n        186.25098039, 186.61960784, 186.98823529, 187.35686275,\n        187.7254902 , 188.09411765, 188.4627451 , 188.83137255,\n        189.2       , 189.56862745, 189.9372549 , 190.30588235,\n        190.6745098 , 191.04313725, 191.41176471, 191.78039216,\n        192.14901961, 192.51764706, 192.88627451, 193.25490196,\n        193.62352941, 193.99215686, 194.36078431, 194.72941176,\n        195.09803922, 195.46666667, 195.83529412, 196.20392157,\n        196.57254902, 196.94117647, 197.30980392, 197.67843137,\n        198.04705882, 198.41568627, 198.78431373, 199.15294118,\n        199.52156863, 199.89019608, 200.25882353, 200.62745098,\n        200.99607843, 201.36470588, 201.73333333, 202.10196078,\n        202.47058824, 202.83921569, 203.20784314, 203.57647059,\n        203.94509804, 204.31372549, 204.68235294, 205.05098039,\n        205.41960784, 205.78823529, 206.15686275, 206.5254902 ,\n        206.89411765, 207.2627451 , 207.63137255, 208.        ]),\n &lt;BarContainer object of 255 artists&gt;)\n\n\n\n\n\n\n히스토그램 그림1\n\n\n_fig = plt.hist(img_red[:,:,0].reshape(-1),bins=255, range=[0,255])\n# 위의 숫자 보기 싫으니까 걍 _fig로 받으면 그림만 나온다.\n# 빨간색 말고 그린, 블루도 다 같은 모양의 그림이 나옴\n\n\n\n\n\n히스토그램 그림 2\n120~200 사이에 값이 몰려있음\n그런데 컴퓨터가 표현가능한 색은 0~244..\n만약에 120-200까지의 분포된 모양은 그대로 유지하면서 range를 0-255까지 늘린다면?\n\n- 분포의 모양은 대략적으로 유지하면서 값을 퍼트리자\n\nimg2_red = cv2.equalizeHist(img[...,0])\n\n\nplt.hist(img2_red.reshape(-1))\n\n(array([59973., 57426., 82721., 73706., 61999., 76539., 72114., 72030.,\n        72601., 70283.]),\n array([  0. ,  25.5,  51. ,  76.5, 102. , 127.5, 153. , 178.5, 204. ,\n        229.5, 255. ]),\n &lt;BarContainer object of 10 artists&gt;)\n\n\n\n\n\n히스토그램이 평평해졌네?\n\n_fig=plt.hist(img2_red.reshape(-1), bins=255, range=(0,255))\n\n\n\n\n- red말고 다른채널에도 이와 같은 변환을 정의한다면?\n\nimg2=np.stack([img2_red,img2_red,img2_red],axis=-1)   # 색깔 3개 합치기 위해서\n\n\nimg2.shape\n\n(683, 1024, 3)\n\n\n\nplt.imshow(img2)\n\n&lt;matplotlib.image.AxesImage at 0x7fc8300ea750&gt;\n\n\n\n\n\n\nplt.imshow(img) #원래이미지\n\n&lt;matplotlib.image.AxesImage at 0x7fc83010db90&gt;\n\n\n\n\n\n\nplt.imshow(np.concatenate([img,img2],axis=1))\n\n&lt;matplotlib.image.AxesImage at 0x7fc8301308d0&gt;"
  },
  {
    "objectID": "posts/DV_2(0914).html#히스토그램-이퀄라이제이션-흑백버전",
    "href": "posts/DV_2(0914).html#히스토그램-이퀄라이제이션-흑백버전",
    "title": "DV 2주차",
    "section": "히스토그램 이퀄라이제이션 (흑백버전)",
    "text": "히스토그램 이퀄라이제이션 (흑백버전)\n\nimg_black =  cv2.imread('Unequalized_Hawkes_Bay_NZ.jpg',0)\n# 컴마하고 0하면 흑밸처리된다\n\n\nimg_black.shape\n\n(683, 1024)\n\n\n\nimg_black2 = cv2.equalizeHist(img_black)\n\n\nplt.imshow(np.concatenate([img_black,img_black2],axis=1),cmap='gray')\n\n&lt;matplotlib.image.AxesImage at 0x7fc830044090&gt;"
  },
  {
    "objectID": "posts/DV_2(0914).html#숙제",
    "href": "posts/DV_2(0914).html#숙제",
    "title": "DV 2주차",
    "section": "숙제",
    "text": "숙제\nHE(Histogram Equalization)을 이용하여 아래주소에 저장된 이미지의 명암비를 보존하라\nhttps://raw.githubusercontent.com/guebin/2021DV/master/_notebooks/hw_img.png\n\n!wget https://raw.githubusercontent.com/guebin/2021DV/master/_notebooks/hw_img.png\nhw = cv2.imread('hw_img.png')\n\n--2023-02-22 17:18:34--  https://raw.githubusercontent.com/guebin/2021DV/master/_notebooks/hw_img.png\nResolving raw.githubusercontent.com (raw.githubusercontent.com)... 185.199.108.133, 185.199.111.133, 185.199.110.133, ...\nConnecting to raw.githubusercontent.com (raw.githubusercontent.com)|185.199.108.133|:443... connected.\nHTTP request sent, awaiting response... 200 OK\nLength: 120618 (118K) [image/png]\nSaving to: ‘hw_img.png.2’\n\nhw_img.png.2        100%[===================&gt;] 117.79K  --.-KB/s    in 0.01s   \n\n2023-02-22 17:18:34 (10.4 MB/s) - ‘hw_img.png.2’ saved [120618/120618]\n\n\n\n\nhw.shape\n\n(531, 468, 3)\n\n\n\nhw_2 = cv2.equalizeHist(hw[...,0])\n\n\nhw_2.shape\n\n(531, 468)\n\n\n\nhw2=np.stack([hw_2,hw_2,hw_2],axis=-1)\n\n\nplt.imshow(hw2)\n\n&lt;matplotlib.image.AxesImage at 0x7fc82bd948d0&gt;\n\n\n\n\n\n\nplt.imshow(np.concatenate([hw,hw2],axis=1))\n\n&lt;matplotlib.image.AxesImage at 0x7fc86b573d10&gt;"
  },
  {
    "objectID": "posts/DV_3(0921).html",
    "href": "posts/DV_3(0921).html",
    "title": "DV 3주차(2)",
    "section": "",
    "text": "import matplotlib.pyplot as plt\nimport numpy as np\nimport plotly.express as px\nfrom IPython.display import HTML"
  },
  {
    "objectID": "posts/DV_3(0921).html#산점도-응용예제1---표본상관계수",
    "href": "posts/DV_3(0921).html#산점도-응용예제1---표본상관계수",
    "title": "DV 3주차(2)",
    "section": "산점도 응용예제1 - 표본상관계수",
    "text": "산점도 응용예제1 - 표본상관계수\n\n예제소개\n- 아래와 같은 자료를 수집하였다고 하자.\n\n몸무게 = [44,48,49,58,62,68,69,70,76,79]\n키 = [159,160,162,165,167,162,165,175,165,172]\n\n\nx=[44,48,49,58,62,68,69,70,76,79]\ny=[159,160,162,165,167,162,165,175,165,172]\n\n\nplt.plot(x,y,'o')\n\n\n\n\n\n키가 큰 사람일수록 몸무게도 많이 나간다. (반대도 성립)\n키와 몸무게는 관계가 있어 보인다. (정비례)\n\n- 얼만큼 정비례인가?\n\n이 질문에 대답하기 위해서는 상관계수의 개념을 알아야 한다.\n상관계수는 산점도에서 가장 중요한 개념 중 하나\n\n\n\n상관계수의 정의\n- (표본) 상관계수\n\\[r=\\frac{\\sum_{i=1}^{n}(x_i-\\bar{x})(y_i-\\bar{y}) }{\\sqrt{\\sum_{i=1}^{n}(x_i-\\bar{x})^2\\sum_{i=1}^{n}(y_i-\\bar{y})^2 }}=\\sum_{i=1}^{n}\\tilde{x}_i\\tilde{y}_i \\]\n\n단, \\(\\tilde{x}_i=\\frac{(x_i-\\bar{x})}{\\sqrt{\\sum_{i=1}^n(x_i-\\bar{x})^2}}\\), \\(\\tilde{y}_i=\\frac{(y_i-\\bar{y})}{\\sqrt{\\sum_{i=1}^n(y_i-\\bar{y})^2}}\\)\n\n- \\(\\tilde{x}_i\\)와 \\(\\tilde{y}_i\\)를 계산하기 위해서 \\(a=\\sqrt{\\sum_{i=1}^{n}(x_i-\\bar{x})^2}, b=\\sqrt{\\sum_{i=1}^{n}(y_i-\\bar{y})^2}\\)를 계산하자.\n(방법1)\n\nfig, ax = plt.subplots(1,3, figsize=(12,4))\nax[0].plot(x,y,'o')\nax[1].plot(np.array(x) - np.mean(x), np.array(y)-np.mean(y), 'o')\n\n\n\n\n\nxx= (np.array(x) - np.mean(x)) / np.sqrt(np.sum((x-np.mean(x))**2))\nyy= (np.array(y) - np.mean(y)) / np.sqrt(np.sum((y-np.mean(y))**2))\n\n\nax[2].plot(xx,yy,'o')\n\n\nfig\n\n\n\n\n첫번째 그림에서 두번쨰 그림 갈때 0근처로 감\n두번째 그림에서 세번째 그림은 퍼져있는 정도(분산)이 큰 차이가 없음(1근처로 왔다갔다..)\n(방법2)\n- 사실 \\(a,b\\)는 아래와 같이 계산할 수 있다.\n\\(a=\\sqrt{n}\\times{\\tt np.std(x)}\\)\n\\(b=\\sqrt{n}\\times{\\tt np.std(y)}\\)\n\nn=len(x)\nnp.sqrt(n)*np.std(x), np.sqrt(n)*np.std(y)\n\n(36.58004920718397, 15.21840990379744)\n\n\n\n\\({\\tt np.std(x)}=\\sqrt{\\frac{1}{n}\\sum_{i=1}^{n}(x_i-\\bar{x})^2}\\)\n\\({\\tt np.std(y)}=\\sqrt{\\frac{1}{n}\\sum_{i=1}^{n}(y_i-\\bar{y})^2}\\)\n\n\nnote: \\({\\tt np.std(x,ddof=1)}=\\sqrt{\\frac{1}{n-1}\\sum_{i=1}^{n}(x_i-\\bar{x})^2}\\)\n\n\n# xx= (x-np.mean(x))/a\n# yy= (y-np.mean(y))/b\n# ax3.plot(xx,yy,'o')\n\n\n\n상관계수의 의미\n질문: r의 값이 양수인가? 음수인가?\n양수 일 것 같다..\n- plotly 사용하여 \\((\\tilde{x}_i,\\tilde{y}_i)\\)를 그려보자.\n\nfig=px.scatter(x=xx, y=yy)\nHTML(fig.to_html(include_plotlyjs='cdn',include_mathjax=False))\n\n\n\n\n                            \n                                            \n\n\n\n\n\n\\(\\tilde{x}_i\\), \\(\\tilde{y}_i\\) 를 곱한값이 양수인것과 음수인것을 체크해보자.\n양수인쪽이 많은지 음수인쪽이 많은지 생각해보자.\n\\(r=\\sum_{i=1}^{n}\\tilde{x}_i \\tilde{y}_i\\) 의 부호는?\n\n\n\n그림을 보고 상관계수의 부호를 알아내는 방법\n- \\((x_i,y_i)\\)의 산점도를 보고 \\((\\tilde{x}_i, \\tilde{y}_i)\\) 의 산점도를 상상 \\(\\to\\) 1,3 분면에 점들이 많으면 양수, 2,4 분면에 점들이 많으면 음수\n\n\n그림을 보고 상관계수의 절대값을 알아내는 방법\n- 예시\n\nx=np.arange(0,10,0.1)\ny1=x+np.random.normal(loc=0,scale=1.0,size=len(x)) # 평균0,분산1인 오차항 더하기\ny2=x+np.random.normal(loc=0,scale=7.0,size=len(x)) # 평균0, 분산7인 오차항 더하기\n\n\nplt.plot(x,y1,'o')\nplt.plot(x,y2,'x')\n\n\n\n\n\ndef tilde(x):\n    n=len(x)\n    return (np.array(x) - np.mean(x)) / np.sqrt(np.sum((np.array(x) - np.mean(x))**2))\n\n\nxx = tilde(x)\nyy1 = tilde(y1)\nyy2 = tilde(y2)\n\n\nfig, ax = plt.subplots(1,2)\nax[0].plot(x,y1,'o');ax[0].plot(x,y2,'x')\nax[1].plot(xx,yy1,'o');ax[1].plot(xx,yy2,'x')"
  },
  {
    "objectID": "posts/DV_3(0921).html#산점도-응용예제2-앤스콤의-4분할",
    "href": "posts/DV_3(0921).html#산점도-응용예제2-앤스콤의-4분할",
    "title": "DV 3주차(2)",
    "section": "산점도 응용예제2 – 앤스콤의 4분할",
    "text": "산점도 응용예제2 – 앤스콤의 4분할\n- Anscombe’s quartet: 교과서에 나오는 그림임.\n- 교훈1: 데이터를 분석하기 전에 항상 시각화를 하라.\n\nx = [10, 8, 13, 9, 11, 14, 6, 4, 12, 7, 5]\ny1 = [8.04, 6.95, 7.58, 8.81, 8.33, 9.96, 7.24, 4.26, 10.84, 4.82, 5.68]\ny2 = [9.14, 8.14, 8.74, 8.77, 9.26, 8.10, 6.13, 3.10, 9.13, 7.26, 4.74]\ny3 = [7.46, 6.77, 12.74, 7.11, 7.81, 8.84, 6.08, 5.39, 8.15, 6.42, 5.73]\nx4 = [8, 8, 8, 8, 8, 8, 8, 19, 8, 8, 8]\ny4 = [6.58, 5.76, 7.71, 8.84, 8.47, 7.04, 5.25, 12.50, 5.56, 7.91, 6.89]\n\n\nfig, ((ax1,ax2),(ax3,ax4)) = plt.subplots(2,2)\nax1.plot(x,y1,'o') \nax2.plot(x,y2,'o') \nax3.plot(x,y3,'o')  \nax4.plot(x4,y4,'o') \n\n\n\n\n\n_xx = tilde(x)\n_yy1 = tilde(y1)\n\n\nnp.sum(_xx*_yy1) # 상관계수 계싼\n\n0.8164205163448399\n\n\n\nnp.corrcoef([x,y1]) # 상관계수 계산\n\narray([[1.        , 0.81642052],\n       [0.81642052, 1.        ]])\n\n\n\nnp.corrcoef([x,y2])\n\narray([[1.        , 0.81623651],\n       [0.81623651, 1.        ]])\n\n\n\nnp.corrcoef([x,y1,y2,y3])\n\narray([[1.        , 0.81642052, 0.81623651, 0.81628674],\n       [0.81642052, 1.        , 0.7500054 , 0.46871668],\n       [0.81623651, 0.7500054 , 1.        , 0.58791933],\n       [0.81628674, 0.46871668, 0.58791933, 1.        ]])\n\n\n\nnp.corrcoef([x4,y4])\n\narray([[1.        , 0.81652144],\n       [0.81652144, 1.        ]])\n\n\n\n앤스콤의 4분할중 1,2,3 번째 그림의 상관계수는 0.81642052, 0.81623651, 0.81628674 이라는 의미\n즉 corr(x,y1)=0.81642052, corr(x,y2)=0.81623651, corr(x,y3)=0.81628674 임\n\n* 참고로 np.corrcoef([x,y1,y2,y3])의 계산결과는 정확하게\n\\[\\begin{bmatrix} corr(x,x) & corr(x,y1) & corr(x,y2) & corr(x,y3) \\\\ corr(y1,x) & corr(y1,y1) & corr(y1,y2) & corr(y1,y3) \\\\ corr(y2,x) & corr(y2,y1) & corr(y2,y2) & corr(y2,y3) \\\\ corr(y3,x) & corr(y3,y1) & corr(y3,y2) & corr(y3,y3)\\end{bmatrix}\\]\n를 의미한다.\n- 앤스콤플랏의 4개의 그림은 모두 같은 상관계수를 가진다. \\(\\to\\) 하지만 4개의 그림은 느낌이 전혀 다르다.\n- 같은 표본상관계수를 가진다고 하여 같은 관계성을 가지는 것은 아니다. 표본상관계수는 x,y의 비례정도를 측정하는데 그 값이 1에 가깝다고 하여 꼭 정비례의 관계가 있음을 의미하는게 아니다. \\((x_i,y_i)\\)의 산점도가 선형성을 보일때만 “표본상관계수가 1이므로 정비례의 관계에 있다” 라는 논리전개가 성립한다.\n\n앤스콤의 1번째 플랏: 산점도가 선형 \\(\\to\\) 표본상관계수가 0.816 = 정비례의 관계가 0.816 정도\n앤스콤의 2번째 플랏: 산점도가 선형이 아님 \\(\\to\\) 표본상관계수가 크게 의미없음\n앤스콤의 3번째 플랏: 산점도가 선형인듯 보이나 하나의 이상치가 있음 \\(\\to\\) 하나의 이상치가 표본상관계수의 값을 무너뜨릴 수 있으므로 표본상관계수값을 신뢰할 수 없음.\n앤스콤의 4번째 플랏: 산점도를 그려보니 이상한그림 \\(\\to\\) 표존상관계수를 계산할수는 있음. 그런데 그게 무슨 의미가 있을지?\n\n- 앤스콤의 3번째 플랏: 하나의 이상치가 상관계수를 무너뜨리는 경우 시각화"
  },
  {
    "objectID": "posts/DV_3(0921).html#산점도-응용예제3-무상관은-관계가-없다는-뜻",
    "href": "posts/DV_3(0921).html#산점도-응용예제3-무상관은-관계가-없다는-뜻",
    "title": "DV 3주차(2)",
    "section": "산점도 응용예제3 – 무상관은 관계가 없다는 뜻?",
    "text": "산점도 응용예제3 – 무상관은 관계가 없다는 뜻?\n\nnp.random.seed(43052)\nx=np.linspace(-1,1,100,endpoint=True)\ny=x**2+np.random.normal(scale=0.1,size=100)\n\n\nplt.plot(x,y,'o')\nplt.title('y=x**2')\n\nText(0.5, 1.0, 'y=x**2')\n\n\n\n\n\n\nnp.corrcoef(x,y)\n\narray([[1.        , 0.00688718],\n       [0.00688718, 1.        ]])\n\n\n- 표본상관계수의 값이 0에 가까운 것은 두 변수의 직선관계가 약한것을 의미한 것이지 두 변수 사이에 아무런 함수관계가 없다는 것을 의미하는 것은 아니다."
  },
  {
    "objectID": "posts/DV_11(1114).html",
    "href": "posts/DV_11(1114).html",
    "title": "DV 11주차(1)",
    "section": "",
    "text": "import numpy as np\nimport pandas as pd\n!pip install pandas_datareader\n\nCollecting pandas_datareader\n  Downloading pandas_datareader-0.10.0-py3-none-any.whl (109 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 109.5/109.5 kB 5.9 MB/s eta 0:00:00\nRequirement already satisfied: requests&gt;=2.19.0 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from pandas_datareader) (2.28.2)\nCollecting lxml\n  Downloading lxml-4.9.2-cp37-cp37m-manylinux_2_17_x86_64.manylinux2014_x86_64.manylinux_2_24_x86_64.whl (6.6 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 6.6/6.6 MB 79.4 MB/s eta 0:00:00:00:010:01\nRequirement already satisfied: pandas&gt;=0.23 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from pandas_datareader) (1.3.5)\nRequirement already satisfied: numpy&gt;=1.17.3 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from pandas&gt;=0.23-&gt;pandas_datareader) (1.21.6)\nRequirement already satisfied: python-dateutil&gt;=2.7.3 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from pandas&gt;=0.23-&gt;pandas_datareader) (2.8.2)\nRequirement already satisfied: pytz&gt;=2017.3 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from pandas&gt;=0.23-&gt;pandas_datareader) (2022.7.1)\nRequirement already satisfied: idna&lt;4,&gt;=2.5 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from requests&gt;=2.19.0-&gt;pandas_datareader) (3.4)\nRequirement already satisfied: urllib3&lt;1.27,&gt;=1.21.1 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from requests&gt;=2.19.0-&gt;pandas_datareader) (1.26.14)\nRequirement already satisfied: certifi&gt;=2017.4.17 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from requests&gt;=2.19.0-&gt;pandas_datareader) (2022.12.7)\nRequirement already satisfied: charset-normalizer&lt;4,&gt;=2 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from requests&gt;=2.19.0-&gt;pandas_datareader) (2.1.1)\nRequirement already satisfied: six&gt;=1.5 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from python-dateutil&gt;=2.7.3-&gt;pandas&gt;=0.23-&gt;pandas_datareader) (1.16.0)\nInstalling collected packages: lxml, pandas_datareader\nSuccessfully installed lxml-4.9.2 pandas_datareader-0.10.0\nfrom pandas_datareader import data as pdr\n!pip install yfinance\n\nCollecting yfinance\n  Downloading yfinance-0.2.12-py2.py3-none-any.whl (59 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 59.2/59.2 kB 4.5 MB/s eta 0:00:00\nCollecting html5lib&gt;=1.1\n  Downloading html5lib-1.1-py2.py3-none-any.whl (112 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 112.2/112.2 kB 12.9 MB/s eta 0:00:00\nRequirement already satisfied: requests&gt;=2.26 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from yfinance) (2.28.2)\nRequirement already satisfied: cryptography&gt;=3.3.2 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from yfinance) (3.4.8)\nCollecting frozendict&gt;=2.3.4\n  Downloading frozendict-2.3.5-cp37-cp37m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (99 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 99.8/99.8 kB 19.9 MB/s eta 0:00:00\nCollecting multitasking&gt;=0.0.7\n  Downloading multitasking-0.0.11-py3-none-any.whl (8.5 kB)\nRequirement already satisfied: numpy&gt;=1.16.5 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from yfinance) (1.21.6)\nRequirement already satisfied: lxml&gt;=4.9.1 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from yfinance) (4.9.2)\nRequirement already satisfied: beautifulsoup4&gt;=4.11.1 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from yfinance) (4.11.1)\nRequirement already satisfied: pandas&gt;=1.3.0 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from yfinance) (1.3.5)\nRequirement already satisfied: pytz&gt;=2022.5 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from yfinance) (2022.7.1)\nCollecting appdirs&gt;=1.4.4\n  Downloading appdirs-1.4.4-py2.py3-none-any.whl (9.6 kB)\nRequirement already satisfied: soupsieve&gt;1.2 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from beautifulsoup4&gt;=4.11.1-&gt;yfinance) (2.3.2.post1)\nRequirement already satisfied: cffi&gt;=1.12 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from cryptography&gt;=3.3.2-&gt;yfinance) (1.15.0)\nRequirement already satisfied: webencodings in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from html5lib&gt;=1.1-&gt;yfinance) (0.5.1)\nRequirement already satisfied: six&gt;=1.9 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from html5lib&gt;=1.1-&gt;yfinance) (1.16.0)\nRequirement already satisfied: python-dateutil&gt;=2.7.3 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from pandas&gt;=1.3.0-&gt;yfinance) (2.8.2)\nRequirement already satisfied: certifi&gt;=2017.4.17 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from requests&gt;=2.26-&gt;yfinance) (2022.12.7)\nRequirement already satisfied: charset-normalizer&lt;4,&gt;=2 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from requests&gt;=2.26-&gt;yfinance) (2.1.1)\nRequirement already satisfied: idna&lt;4,&gt;=2.5 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from requests&gt;=2.26-&gt;yfinance) (3.4)\nRequirement already satisfied: urllib3&lt;1.27,&gt;=1.21.1 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from requests&gt;=2.26-&gt;yfinance) (1.26.14)\nRequirement already satisfied: pycparser in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from cffi&gt;=1.12-&gt;cryptography&gt;=3.3.2-&gt;yfinance) (2.21)\nInstalling collected packages: multitasking, appdirs, html5lib, frozendict, yfinance\nSuccessfully installed appdirs-1.4.4 frozendict-2.3.5 html5lib-1.1 multitasking-0.0.11 yfinance-0.2.12\nimport yfinance as yf"
  },
  {
    "objectID": "posts/DV_11(1114).html#data1-야후-파이낸스",
    "href": "posts/DV_11(1114).html#data1-야후-파이낸스",
    "title": "DV 11주차(1)",
    "section": "data1: 야후 파이낸스",
    "text": "data1: 야후 파이낸스\n- yahoo finance: https://finance.yahoo.com/\n\nyf.pdr_override()\n\n\nsymbols = ['AMZN','AAPL','GOOG','MSFT','NFLX','NVDA','TSLA']\nstart = '2020-01-01'\nend = '2022-10-30'\ndf = pdr.get_data_yahoo(symbols,start,end)['Adj Close']\n\n[*********************100%***********************]  7 of 7 completed\n\n\n\ndf\n\n\n\n\n\n\n\n\nAAPL\nAMZN\nGOOG\nMSFT\nNFLX\nNVDA\nTSLA\n\n\nDate\n\n\n\n\n\n\n\n\n\n\n\n2020-01-02\n73.449379\n94.900497\n68.368500\n155.761826\n329.809998\n59.770554\n28.684000\n\n\n2020-01-03\n72.735313\n93.748497\n68.032997\n153.822311\n325.899994\n58.813866\n29.534000\n\n\n2020-01-06\n73.314880\n95.143997\n69.710503\n154.219925\n335.829987\n59.060509\n30.102667\n\n\n2020-01-07\n72.970078\n95.343002\n69.667000\n152.813766\n330.750000\n59.775528\n31.270666\n\n\n2020-01-08\n74.143898\n94.598503\n70.216003\n155.247818\n339.260010\n59.887650\n32.809334\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n2022-10-24\n148.975021\n119.820000\n102.970001\n245.939163\n282.450012\n125.957771\n211.250000\n\n\n2022-10-25\n151.855850\n120.599998\n104.930000\n249.331085\n291.019989\n132.576080\n222.419998\n\n\n2022-10-26\n148.875351\n115.660004\n94.820000\n230.093628\n298.619995\n128.927017\n224.639999\n\n\n2022-10-27\n144.339813\n110.959999\n92.599998\n225.547836\n296.940002\n131.726288\n225.089996\n\n\n2022-10-28\n155.245056\n103.410004\n96.580002\n234.619492\n295.720001\n138.304611\n228.520004\n\n\n\n\n713 rows × 7 columns\n\n\n\n\ndf.columns\n\nIndex(['AAPL', 'AMZN', 'GOOG', 'MSFT', 'NFLX', 'NVDA', 'TSLA'], dtype='object')"
  },
  {
    "objectID": "posts/DV_11(1114).html#matplotlib-1개의-y를-그리기",
    "href": "posts/DV_11(1114).html#matplotlib-1개의-y를-그리기",
    "title": "DV 11주차(1)",
    "section": "matplotlib: 1개의 y를 그리기",
    "text": "matplotlib: 1개의 y를 그리기\n- 예시1: 1개의 y를 그리기\n\ndf.reset_index()\n\n\n\n\n\n\n\n\nDate\nAAPL\nAMZN\nGOOG\nMSFT\nNFLX\nNVDA\nTSLA\n\n\n\n\n0\n2020-01-02\n73.449379\n94.900497\n68.368500\n155.761826\n329.809998\n59.770554\n28.684000\n\n\n1\n2020-01-03\n72.735313\n93.748497\n68.032997\n153.822311\n325.899994\n58.813866\n29.534000\n\n\n2\n2020-01-06\n73.314880\n95.143997\n69.710503\n154.219925\n335.829987\n59.060509\n30.102667\n\n\n3\n2020-01-07\n72.970078\n95.343002\n69.667000\n152.813766\n330.750000\n59.775528\n31.270666\n\n\n4\n2020-01-08\n74.143898\n94.598503\n70.216003\n155.247818\n339.260010\n59.887650\n32.809334\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n708\n2022-10-24\n148.975021\n119.820000\n102.970001\n245.939163\n282.450012\n125.957771\n211.250000\n\n\n709\n2022-10-25\n151.855850\n120.599998\n104.930000\n249.331085\n291.019989\n132.576080\n222.419998\n\n\n710\n2022-10-26\n148.875351\n115.660004\n94.820000\n230.093628\n298.619995\n128.927017\n224.639999\n\n\n711\n2022-10-27\n144.339813\n110.959999\n92.599998\n225.547836\n296.940002\n131.726288\n225.089996\n\n\n712\n2022-10-28\n155.245056\n103.410004\n96.580002\n234.619492\n295.720001\n138.304611\n228.520004\n\n\n\n\n713 rows × 8 columns\n\n\n\n\ndf.reset_index().melt(id_vars='Date') # tidy data\n\n\n\n\n\n\n\n\nDate\nvariable\nvalue\n\n\n\n\n0\n2020-01-02\nAAPL\n73.449379\n\n\n1\n2020-01-03\nAAPL\n72.735313\n\n\n2\n2020-01-06\nAAPL\n73.314880\n\n\n3\n2020-01-07\nAAPL\n72.970078\n\n\n4\n2020-01-08\nAAPL\n74.143898\n\n\n...\n...\n...\n...\n\n\n4986\n2022-10-24\nTSLA\n211.250000\n\n\n4987\n2022-10-25\nTSLA\n222.419998\n\n\n4988\n2022-10-26\nTSLA\n224.639999\n\n\n4989\n2022-10-27\nTSLA\n225.089996\n\n\n4990\n2022-10-28\nTSLA\n228.520004\n\n\n\n\n4991 rows × 3 columns\n\n\n\n\ndf.reset_index().plot(x='Date', y='AMZN')\n\n&lt;AxesSubplot:xlabel='Date'&gt;\n\n\n\n\n\n- 예시2\n\ndf.reset_index().plot(x='Date',y='AMZN', kind='line')\n# 위의 코드는 kind가 생략된 것과 같다\n\n&lt;AxesSubplot:xlabel='Date'&gt;\n\n\n\n\n\n- 예시3\n\ndf.reset_index().plot.line(x='Date',y='AMZN')\n# kind=line 대신에 plot.line\n\n&lt;AxesSubplot:xlabel='Date'&gt;"
  },
  {
    "objectID": "posts/DV_11(1114).html#matplotlib-2개의-y를-겹쳐서-그리기",
    "href": "posts/DV_11(1114).html#matplotlib-2개의-y를-겹쳐서-그리기",
    "title": "DV 11주차(1)",
    "section": "matplotlib: 2개의 y를 겹쳐서 그리기",
    "text": "matplotlib: 2개의 y를 겹쳐서 그리기\n- 2개의 y를 겹쳐 그리기\n\ndf.reset_index().plot(x='Date', y=['AMZN','AAPL'])\n\n&lt;AxesSubplot:xlabel='Date'&gt;"
  },
  {
    "objectID": "posts/DV_11(1114).html#matplotlib-모든-y를-겹쳐서-그리기",
    "href": "posts/DV_11(1114).html#matplotlib-모든-y를-겹쳐서-그리기",
    "title": "DV 11주차(1)",
    "section": "matplotlib: 모든 y를 겹쳐서 그리기",
    "text": "matplotlib: 모든 y를 겹쳐서 그리기\n- 모든 y를 겹쳐서 그리기\n\ndf.reset_index().plot(x='Date')\n\n&lt;AxesSubplot:xlabel='Date'&gt;"
  },
  {
    "objectID": "posts/DV_11(1114).html#matplotlib-그림크기조정",
    "href": "posts/DV_11(1114).html#matplotlib-그림크기조정",
    "title": "DV 11주차(1)",
    "section": "matplotlib: 그림크기조정",
    "text": "matplotlib: 그림크기조정\n\ndf.reset_index().plot(x='Date',figsize=(8,8))\n\n&lt;AxesSubplot:xlabel='Date'&gt;"
  },
  {
    "objectID": "posts/DV_11(1114).html#matplotlib-서브플랏",
    "href": "posts/DV_11(1114).html#matplotlib-서브플랏",
    "title": "DV 11주차(1)",
    "section": "matplotlib: 서브플랏",
    "text": "matplotlib: 서브플랏\n- 예시1: 기본 서브플랏\n\ndf.reset_index().plot.line(x='Date',subplots=True,figsize=(10,10))\n\n# 겹처서 말구 나눠서 그려짐! 신기하군 \n\narray([&lt;AxesSubplot:xlabel='Date'&gt;, &lt;AxesSubplot:xlabel='Date'&gt;,\n       &lt;AxesSubplot:xlabel='Date'&gt;, &lt;AxesSubplot:xlabel='Date'&gt;,\n       &lt;AxesSubplot:xlabel='Date'&gt;, &lt;AxesSubplot:xlabel='Date'&gt;,\n       &lt;AxesSubplot:xlabel='Date'&gt;], dtype=object)\n\n\n\n\n\n- 예시2: 레이아웃 조정\n\ndf.reset_index().plot.line(x='Date',subplots=True,figsize=(15,15),layout=(4,2))\n\narray([[&lt;AxesSubplot:xlabel='Date'&gt;, &lt;AxesSubplot:xlabel='Date'&gt;],\n       [&lt;AxesSubplot:xlabel='Date'&gt;, &lt;AxesSubplot:xlabel='Date'&gt;],\n       [&lt;AxesSubplot:xlabel='Date'&gt;, &lt;AxesSubplot:xlabel='Date'&gt;],\n       [&lt;AxesSubplot:xlabel='Date'&gt;, &lt;AxesSubplot:xlabel='Date'&gt;]],\n      dtype=object)"
  },
  {
    "objectID": "posts/DV_11(1114).html#matplotlib-폰트조정",
    "href": "posts/DV_11(1114).html#matplotlib-폰트조정",
    "title": "DV 11주차(1)",
    "section": "matplotlib: 폰트조정",
    "text": "matplotlib: 폰트조정\n\ndf.reset_index().plot.line(x='Date',subplots=True,figsize=(15,15),layout=(4,2),fontsize=15)\n\narray([[&lt;AxesSubplot:xlabel='Date'&gt;, &lt;AxesSubplot:xlabel='Date'&gt;],\n       [&lt;AxesSubplot:xlabel='Date'&gt;, &lt;AxesSubplot:xlabel='Date'&gt;],\n       [&lt;AxesSubplot:xlabel='Date'&gt;, &lt;AxesSubplot:xlabel='Date'&gt;],\n       [&lt;AxesSubplot:xlabel='Date'&gt;, &lt;AxesSubplot:xlabel='Date'&gt;]],\n      dtype=object)"
  },
  {
    "objectID": "posts/DV_11(1114).html#matplotlib-레전드삭제",
    "href": "posts/DV_11(1114).html#matplotlib-레전드삭제",
    "title": "DV 11주차(1)",
    "section": "matplotlib: 레전드삭제",
    "text": "matplotlib: 레전드삭제\n\ndf.reset_index().plot.line(x='Date',subplots=True, layout=(4,2), legend=False)\n\narray([[&lt;AxesSubplot:xlabel='Date'&gt;, &lt;AxesSubplot:xlabel='Date'&gt;],\n       [&lt;AxesSubplot:xlabel='Date'&gt;, &lt;AxesSubplot:xlabel='Date'&gt;],\n       [&lt;AxesSubplot:xlabel='Date'&gt;, &lt;AxesSubplot:xlabel='Date'&gt;],\n       [&lt;AxesSubplot:xlabel='Date'&gt;, &lt;AxesSubplot:xlabel='Date'&gt;]],\n      dtype=object)"
  },
  {
    "objectID": "posts/DV_11(1114).html#plotly-모든y를-겹쳐서-그리기",
    "href": "posts/DV_11(1114).html#plotly-모든y를-겹쳐서-그리기",
    "title": "DV 11주차(1)",
    "section": "plotly 모든y를 겹쳐서 그리기",
    "text": "plotly 모든y를 겹쳐서 그리기\n- 방법1\n\ndf.reset_index().set_index('Date').stack().reset_index()\n\n\n\n\n\n\n\n\nDate\nlevel_1\n0\n\n\n\n\n0\n2020-01-02\nAAPL\n73.449379\n\n\n1\n2020-01-02\nAMZN\n94.900497\n\n\n2\n2020-01-02\nGOOG\n68.368500\n\n\n3\n2020-01-02\nMSFT\n155.761826\n\n\n4\n2020-01-02\nNFLX\n329.809998\n\n\n...\n...\n...\n...\n\n\n4986\n2022-10-28\nGOOG\n96.580002\n\n\n4987\n2022-10-28\nMSFT\n234.619492\n\n\n4988\n2022-10-28\nNFLX\n295.720001\n\n\n4989\n2022-10-28\nNVDA\n138.304611\n\n\n4990\n2022-10-28\nTSLA\n228.520004\n\n\n\n\n4991 rows × 3 columns\n\n\n\n- 방법2\n\ndf.reset_index().melt(id_vars='Date').plot.line(backend='plotly',x='Date',y='value',color='variable')"
  },
  {
    "objectID": "posts/DV_11(1114).html#data2-핸드폰점유율",
    "href": "posts/DV_11(1114).html#data2-핸드폰점유율",
    "title": "DV 11주차(1)",
    "section": "data2: 핸드폰점유율",
    "text": "data2: 핸드폰점유율\n\ndf = pd.read_csv('https://raw.githubusercontent.com/kalilurrahman/datasets/main/mobilephonemktshare2020.csv')\ndf\n\n\n\n\n\n\n\n\nDate\nSamsung\nApple\nHuawei\nXiaomi\nOppo\nMobicel\nMotorola\nLG\nOthers\nRealme\nGoogle\nNokia\nLenovo\nOnePlus\nSony\nAsus\n\n\n\n\n0\n2019-10\n31.49\n22.09\n10.02\n7.79\n4.10\n3.15\n2.41\n2.40\n9.51\n0.54\n2.35\n0.95\n0.96\n0.70\n0.84\n0.74\n\n\n1\n2019-11\n31.36\n22.90\n10.18\n8.16\n4.42\n3.41\n2.40\n2.40\n9.10\n0.78\n0.66\n0.97\n0.97\n0.73\n0.83\n0.75\n\n\n2\n2019-12\n31.37\n24.79\n9.95\n7.73\n4.23\n3.19\n2.50\n2.54\n8.13\n0.84\n0.75\n0.90\n0.87\n0.74\n0.77\n0.70\n\n\n3\n2020-01\n31.29\n24.76\n10.61\n8.10\n4.25\n3.02\n2.42\n2.40\n7.55\n0.88\n0.69\n0.88\n0.86\n0.79\n0.80\n0.69\n\n\n4\n2020-02\n30.91\n25.89\n10.98\n7.80\n4.31\n2.89\n2.36\n2.34\n7.06\n0.89\n0.70\n0.81\n0.77\n0.78\n0.80\n0.69\n\n\n5\n2020-03\n30.80\n27.03\n10.70\n7.70\n4.30\n2.87\n2.35\n2.28\n6.63\n0.93\n0.73\n0.72\n0.74\n0.78\n0.76\n0.66\n\n\n6\n2020-04\n30.41\n28.79\n10.28\n7.60\n4.20\n2.75\n2.51\n2.28\n5.84\n0.90\n0.75\n0.69\n0.71\n0.80\n0.76\n0.70\n\n\n7\n2020-05\n30.18\n26.72\n10.39\n8.36\n4.70\n3.12\n2.46\n2.19\n6.31\n1.04\n0.70\n0.73\n0.77\n0.81\n0.78\n0.76\n\n\n8\n2020-06\n31.06\n25.26\n10.69\n8.55\n4.65\n3.18\n2.57\n2.11\n6.39\n1.04\n0.68\n0.74\n0.75\n0.77\n0.78\n0.75\n\n\n9\n2020-07\n30.95\n24.82\n10.75\n8.94\n4.69\n3.46\n2.45\n2.03\n6.41\n1.13\n0.65\n0.76\n0.74\n0.76\n0.75\n0.72\n\n\n10\n2020-08\n31.04\n25.15\n10.73\n8.90\n4.69\n3.38\n2.39\n1.96\n6.31\n1.18\n0.63\n0.74\n0.72\n0.75\n0.73\n0.70\n\n\n11\n2020-09\n30.57\n24.98\n10.58\n9.49\n4.94\n3.50\n2.27\n1.88\n6.12\n1.45\n0.63\n0.74\n0.67\n0.81\n0.69\n0.67\n\n\n12\n2020-10\n30.25\n26.53\n10.44\n9.67\n4.83\n2.54\n2.21\n1.79\n6.04\n1.55\n0.63\n0.69\n0.65\n0.85\n0.67\n0.64"
  },
  {
    "objectID": "posts/DV_11(1114).html#matplotlib-2개의-y를-겹쳐그리기",
    "href": "posts/DV_11(1114).html#matplotlib-2개의-y를-겹쳐그리기",
    "title": "DV 11주차(1)",
    "section": "matplotlib: 2개의 y를 겹쳐그리기",
    "text": "matplotlib: 2개의 y를 겹쳐그리기\n- 예시1\n\ndf.plot.bar(x='Date', y=['Samsung', 'Apple'])\n\n&lt;AxesSubplot:xlabel='Date'&gt;\n\n\n\n\n\n- 예시2: width옵션으로 폭조정\n\ndf.plot.bar(x='Date', y=['Samsung', 'Apple'], width=0.8)\n\n&lt;AxesSubplot:xlabel='Date'&gt;"
  },
  {
    "objectID": "posts/DV_11(1114).html#matplotlib-2개의-y를-겹쳐그리기-xy-플립",
    "href": "posts/DV_11(1114).html#matplotlib-2개의-y를-겹쳐그리기-xy-플립",
    "title": "DV 11주차(1)",
    "section": "matplotlib: 2개의 y를 겹쳐그리기 + x,y 플립",
    "text": "matplotlib: 2개의 y를 겹쳐그리기 + x,y 플립\n- 예시: barh를 이용하여 플립\n\ndf.plot.barh(x='Date', y=['Samsung', 'Apple'], width=0.8)\n\n&lt;AxesSubplot:ylabel='Date'&gt;"
  },
  {
    "objectID": "posts/DV_11(1114).html#plotly-모든y를-stacked-bar로-나타내기",
    "href": "posts/DV_11(1114).html#plotly-모든y를-stacked-bar로-나타내기",
    "title": "DV 11주차(1)",
    "section": "plotly: 모든y를 stacked bar로 나타내기",
    "text": "plotly: 모든y를 stacked bar로 나타내기\n\ndf.melt(id_vars='Date').plot.bar(backend='plotly',x='Date',y='value',color='variable')"
  },
  {
    "objectID": "posts/DV_11(1114).html#plotly-3개의-y를-겹쳐그리기",
    "href": "posts/DV_11(1114).html#plotly-3개의-y를-겹쳐그리기",
    "title": "DV 11주차(1)",
    "section": "plotly: 3개의 y를 겹쳐그리기",
    "text": "plotly: 3개의 y를 겹쳐그리기\n\ndf.melt(id_vars='Date')\\\n.query('variable==\"Samsung\" or variable==\"Apple\" or variable == \"Huawei\"')\\\n.plot.bar(backend='plotly', x='Date', y='value', color='variable')\n\n                                                \n\n\n- barmode=‘group’\n\ndf.melt(id_vars='Date')\\\n.query('variable==\"Samsung\" or variable==\"Apple\" or variable == \"Huawei\"')\\\n.plot.bar(backend='plotly', x='Date', y='value', color='variable', barmode='group')"
  },
  {
    "objectID": "posts/DV_11(1114).html#plotly-3개의-y를-겹쳐그리기-text",
    "href": "posts/DV_11(1114).html#plotly-3개의-y를-겹쳐그리기-text",
    "title": "DV 11주차(1)",
    "section": "plotly: 3개의 y를 겹쳐그리기 + text",
    "text": "plotly: 3개의 y를 겹쳐그리기 + text\n\ndf.melt(id_vars='Date')\\\n.query('variable==\"Samsung\" or variable==\"Apple\" or variable == \"Huawei\"')\\\n.plot.bar(backend='plotly', x='Date', y='value', color='variable', barmode='group', text='value', height=600)"
  },
  {
    "objectID": "posts/DV_11(1114).html#plotly-면분할로-subplot그리기-facet_col",
    "href": "posts/DV_11(1114).html#plotly-면분할로-subplot그리기-facet_col",
    "title": "DV 11주차(1)",
    "section": "plotly: 면분할로 subplot그리기 (facet_col)",
    "text": "plotly: 면분할로 subplot그리기 (facet_col)\n\ndf.melt(id_vars='Date').query(' variable==\"Samsung\" or variable==\"Apple\"')\\\n.plot.bar(backend='plotly',x='Date',y='value',color='variable',barmode='group',facet_col='variable')"
  },
  {
    "objectID": "posts/DV_11(1114).html#plotly-면분할로-subplot그리기-facet_row",
    "href": "posts/DV_11(1114).html#plotly-면분할로-subplot그리기-facet_row",
    "title": "DV 11주차(1)",
    "section": "plotly: 면분할로 subplot그리기 (facet_row)",
    "text": "plotly: 면분할로 subplot그리기 (facet_row)\n\ndf.melt(id_vars='Date').query(' variable==\"Samsung\" or variable==\"Apple\"')\\\n.plot.bar(backend='plotly',x='Date',y='value',color='variable',barmode='group',facet_row='variable')"
  },
  {
    "objectID": "posts/DV_11(1114).html#data3-팁",
    "href": "posts/DV_11(1114).html#data3-팁",
    "title": "DV 11주차(1)",
    "section": "data3: 팁",
    "text": "data3: 팁\n\nimport plotly.express as px \ndf = px.data.tips() \ndf\n\n\n\n\n\n\n\n\ntotal_bill\ntip\nsex\nsmoker\nday\ntime\nsize\n\n\n\n\n0\n16.99\n1.01\nFemale\nNo\nSun\nDinner\n2\n\n\n1\n10.34\n1.66\nMale\nNo\nSun\nDinner\n3\n\n\n2\n21.01\n3.50\nMale\nNo\nSun\nDinner\n3\n\n\n3\n23.68\n3.31\nMale\nNo\nSun\nDinner\n2\n\n\n4\n24.59\n3.61\nFemale\nNo\nSun\nDinner\n4\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n239\n29.03\n5.92\nMale\nNo\nSat\nDinner\n3\n\n\n240\n27.18\n2.00\nFemale\nYes\nSat\nDinner\n2\n\n\n241\n22.67\n2.00\nMale\nYes\nSat\nDinner\n2\n\n\n242\n17.82\n1.75\nMale\nNo\nSat\nDinner\n2\n\n\n243\n18.78\n3.00\nFemale\nNo\nThur\nDinner\n2\n\n\n\n\n244 rows × 7 columns"
  },
  {
    "objectID": "posts/DV_11(1114).html#plotly-팁의-박스플랏",
    "href": "posts/DV_11(1114).html#plotly-팁의-박스플랏",
    "title": "DV 11주차(1)",
    "section": "plotly: 팁의 박스플랏",
    "text": "plotly: 팁의 박스플랏\n\ndf.plot.box(backend='plotly',y='tip', width=500, height=500)"
  },
  {
    "objectID": "posts/DV_11(1114).html#plotly-시간에-따른-팁의-박스플랏",
    "href": "posts/DV_11(1114).html#plotly-시간에-따른-팁의-박스플랏",
    "title": "DV 11주차(1)",
    "section": "plotly: 시간에 따른 팁의 박스플랏",
    "text": "plotly: 시간에 따른 팁의 박스플랏\n\ndf.plot.box(backend='plotly',x='time', y='tip', width=500, height=500)"
  },
  {
    "objectID": "posts/DV_11(1114).html#plotly-시간과-성별에-따른-팁의-박스플랏",
    "href": "posts/DV_11(1114).html#plotly-시간과-성별에-따른-팁의-박스플랏",
    "title": "DV 11주차(1)",
    "section": "plotly: 시간과 성별에 따른 팁의 박스플랏",
    "text": "plotly: 시간과 성별에 따른 팁의 박스플랏\n- 예시1: y=‘tip’, x=‘time’, color=‘sex’\n\ndf.plot.box(backend='plotly',x='time', y='tip', color='sex', width=500, height=500)\n\n                                                \n\n\n- 예시2: y=‘tip’, x=‘time’, color=‘sex’, points=‘all’\n\ndf.plot.box(backend='plotly',x='time', y='tip', color='sex', points='all',width=500, height=500)\n\n                                                \n\n\n\n저녁이 손님이 더 많다"
  },
  {
    "objectID": "posts/DV_11(1114).html#plotly-시간성별요일에-따른-팁의-박스플랏",
    "href": "posts/DV_11(1114).html#plotly-시간성별요일에-따른-팁의-박스플랏",
    "title": "DV 11주차(1)",
    "section": "plotly: 시간,성별,요일에 따른 팁의 박스플랏",
    "text": "plotly: 시간,성별,요일에 따른 팁의 박스플랏\n- 예시1: y=‘tip’, x=‘time’, color=‘sex’, facet_col=‘day’\n\ndf.plot.box(backend='plotly',x='time', y='tip', color='sex', facet_col='day', width=500, height=500)\n\n                                                \n\n\n- 예시2: y=‘tip’, color=‘sex’, facet_col=‘time’, facet_row=‘day’\n\ndf.plot.box(backend='plotly',facet_col='time', facet_row='day',y='tip',color='sex',points='all',height=1000)"
  },
  {
    "objectID": "posts/DV_11(1114).html#plotly-시간성별요일흡연에-따른-팁의-박스플랏",
    "href": "posts/DV_11(1114).html#plotly-시간성별요일흡연에-따른-팁의-박스플랏",
    "title": "DV 11주차(1)",
    "section": "plotly: 시간,성별,요일,흡연에 따른 팁의 박스플랏",
    "text": "plotly: 시간,성별,요일,흡연에 따른 팁의 박스플랏\n\ndf.plot.box(backend='plotly',facet_col='time', facet_row='day',x='smoker',y='tip',color='sex',points='all',height=1000)"
  },
  {
    "objectID": "posts/DV_11(1114).html#data4-인사자료",
    "href": "posts/DV_11(1114).html#data4-인사자료",
    "title": "DV 11주차(1)",
    "section": "data4: 인사자료",
    "text": "data4: 인사자료\n\ndf = pd.read_csv('https://raw.githubusercontent.com/guebin/DV2022/master/posts/HRDataset_v14.csv')\ndf\n\n\n\n\n\n\n\n\nEmployee_Name\nEmpID\nMarriedID\nMaritalStatusID\nGenderID\nEmpStatusID\nDeptID\nPerfScoreID\nFromDiversityJobFairID\nSalary\n...\nManagerName\nManagerID\nRecruitmentSource\nPerformanceScore\nEngagementSurvey\nEmpSatisfaction\nSpecialProjectsCount\nLastPerformanceReview_Date\nDaysLateLast30\nAbsences\n\n\n\n\n0\nAdinolfi, Wilson K\n10026\n0\n0\n1\n1\n5\n4\n0\n62506\n...\nMichael Albert\n22.0\nLinkedIn\nExceeds\n4.60\n5\n0\n1/17/2019\n0\n1\n\n\n1\nAit Sidi, Karthikeyan\n10084\n1\n1\n1\n5\n3\n3\n0\n104437\n...\nSimon Roup\n4.0\nIndeed\nFully Meets\n4.96\n3\n6\n2/24/2016\n0\n17\n\n\n2\nAkinkuolie, Sarah\n10196\n1\n1\n0\n5\n5\n3\n0\n64955\n...\nKissy Sullivan\n20.0\nLinkedIn\nFully Meets\n3.02\n3\n0\n5/15/2012\n0\n3\n\n\n3\nAlagbe,Trina\n10088\n1\n1\n0\n1\n5\n3\n0\n64991\n...\nElijiah Gray\n16.0\nIndeed\nFully Meets\n4.84\n5\n0\n1/3/2019\n0\n15\n\n\n4\nAnderson, Carol\n10069\n0\n2\n0\n5\n5\n3\n0\n50825\n...\nWebster Butler\n39.0\nGoogle Search\nFully Meets\n5.00\n4\n0\n2/1/2016\n0\n2\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n306\nWoodson, Jason\n10135\n0\n0\n1\n1\n5\n3\n0\n65893\n...\nKissy Sullivan\n20.0\nLinkedIn\nFully Meets\n4.07\n4\n0\n2/28/2019\n0\n13\n\n\n307\nYbarra, Catherine\n10301\n0\n0\n0\n5\n5\n1\n0\n48513\n...\nBrannon Miller\n12.0\nGoogle Search\nPIP\n3.20\n2\n0\n9/2/2015\n5\n4\n\n\n308\nZamora, Jennifer\n10010\n0\n0\n0\n1\n3\n4\n0\n220450\n...\nJanet King\n2.0\nEmployee Referral\nExceeds\n4.60\n5\n6\n2/21/2019\n0\n16\n\n\n309\nZhou, Julia\n10043\n0\n0\n0\n1\n3\n3\n0\n89292\n...\nSimon Roup\n4.0\nEmployee Referral\nFully Meets\n5.00\n3\n5\n2/1/2019\n0\n11\n\n\n310\nZima, Colleen\n10271\n0\n4\n0\n1\n5\n3\n0\n45046\n...\nDavid Stanley\n14.0\nLinkedIn\nFully Meets\n4.50\n5\n0\n1/30/2019\n0\n2\n\n\n\n\n311 rows × 36 columns"
  },
  {
    "objectID": "posts/DV_11(1114).html#인종별-급여비교-단순-groupby",
    "href": "posts/DV_11(1114).html#인종별-급여비교-단순-groupby",
    "title": "DV 11주차(1)",
    "section": "인종별 급여비교 (단순 groupby)",
    "text": "인종별 급여비교 (단순 groupby)\n\ndf.groupby('RaceDesc').agg({'Salary':[np.mean,\"count\"]})\n\n\n\n\n\n\n\n\nSalary\n\n\n\nmean\ncount\n\n\nRaceDesc\n\n\n\n\n\n\nAmerican Indian or Alaska Native\n65806.000000\n3\n\n\nAsian\n68521.206897\n29\n\n\nBlack or African American\n74431.025000\n80\n\n\nHispanic\n83667.000000\n1\n\n\nTwo or more races\n59998.181818\n11\n\n\nWhite\n67287.545455\n187\n\n\n\n\n\n\n\n평균을 히스토그램 그려봣을때 약간 정규분포를 띄어야 의미가 있다"
  },
  {
    "objectID": "posts/DV_11(1114).html#급여의-시각화",
    "href": "posts/DV_11(1114).html#급여의-시각화",
    "title": "DV 11주차(1)",
    "section": "급여의 시각화",
    "text": "급여의 시각화\n- 예시1\n\ndf.query('RaceDesc == \"Black or African American\" or RaceDesc == \"White\"')\\\n.plot.hist(backend='plotly', x='Salary', color='RaceDesc', facet_col='RaceDesc')\n\n                                                \n\n\n- 예시2: 비율로 계싼\n\ndf.query('RaceDesc == \"Black or African American\" or RaceDesc == \"White\"')\\\n.plot.hist(backend='plotly',x='Salary',color='RaceDesc',facet_col='RaceDesc',histnorm='probability')"
  },
  {
    "objectID": "posts/DV_13(1130).html",
    "href": "posts/DV_13(1130).html",
    "title": "DV 13주차(2)",
    "section": "",
    "text": "import pandas as pd \nimport json \nimport requests \nimport plotly.express as px"
  },
  {
    "objectID": "posts/DV_13(1130).html#data",
    "href": "posts/DV_13(1130).html#data",
    "title": "DV 13주차(2)",
    "section": "DATA",
    "text": "DATA\n\ndf = px.data.election()\ngeojson = px.data.election_geojson()\n\n\n두 개의 데이터\n두 데이터를 연결하는 매개체\n지역구에 대응하는 숫자가 들어있는 칼럼이름(df)\nkey가 저장된 위치(geojson, df)\n\n\ndf.head()\n\n\n\n\n\n\n\n\ndistrict\nCoderre\nBergeron\nJoly\ntotal\nwinner\nresult\ndistrict_id\n\n\n\n\n0\n101-Bois-de-Liesse\n2481\n1829\n3024\n7334\nJoly\nplurality\n101\n\n\n1\n102-Cap-Saint-Jacques\n2525\n1163\n2675\n6363\nJoly\nplurality\n102\n\n\n2\n11-Sault-au-Récollet\n3348\n2770\n2532\n8650\nCoderre\nplurality\n11\n\n\n3\n111-Mile-End\n1734\n4782\n2514\n9030\nBergeron\nmajority\n111\n\n\n4\n112-DeLorimier\n1770\n5933\n3044\n10747\nBergeron\nmajority\n112\n\n\n\n\n\n\n\n\ngeojson.keys()\n\ndict_keys(['type', 'features'])\n\n\n\ngeojson['features'][0].keys()\n\ndict_keys(['type', 'geometry', 'properties', 'id'])\n\n\n\ngeojson['features'][0]['properties']\n\n{'district': '11-Sault-au-Récollet'}"
  },
  {
    "objectID": "posts/DV_13(1130).html#시각화-예시1",
    "href": "posts/DV_13(1130).html#시각화-예시1",
    "title": "DV 13주차(2)",
    "section": "시각화 예시1",
    "text": "시각화 예시1\n\npx.choropleth_mapbox(\n    data_frame= df, \n    geojson=geojson, \n    color=\"Bergeron\",\n    locations=\"district\", \n    featureidkey=\"properties.district\",\n    center={\"lat\": 45.5517, \"lon\": -73.7073},\n    mapbox_style=\"carto-positron\",\n    zoom=9\n)\n\n                                                \n\n\n\nfig=px.choropleth_mapbox(\n    data_frame= df, \n    geojson=geojson, \n    color=\"Bergeron\",\n    locations=\"district\", \n    featureidkey=\"properties.district\",\n    center={\"lat\": 45.5517, \"lon\": -73.7073},\n    mapbox_style=\"carto-positron\",\n    zoom=9\n)\nfig.update_layout(margin={\"r\":0,\"t\":0,\"l\":0,\"b\":0}) # 마진 없애주기"
  },
  {
    "objectID": "posts/DV_13(1130).html#시각화-예시2",
    "href": "posts/DV_13(1130).html#시각화-예시2",
    "title": "DV 13주차(2)",
    "section": "시각화 예시2",
    "text": "시각화 예시2\n\nfig = px.choropleth_mapbox(data_frame= df, \n                           geojson=geojson, \n                           color=\"Bergeron\",\n                           locations=\"district_id\", \n                           featureidkey=\"id\",\n                           center={\"lat\": 45.5517, \"lon\": -73.7073},\n                           mapbox_style=\"carto-positron\",\n                           zoom=9)\nfig.update_layout(margin={\"r\":0,\"t\":0,\"l\":0,\"b\":0})"
  },
  {
    "objectID": "posts/DV_1(0910).html",
    "href": "posts/DV_1(0910).html",
    "title": "DV 1주차",
    "section": "",
    "text": "import matplotlib.pyplot as plt\nimport numpy as np"
  },
  {
    "objectID": "posts/DV_1(0910).html#boxplot",
    "href": "posts/DV_1(0910).html#boxplot",
    "title": "DV 1주차",
    "section": "boxplot",
    "text": "boxplot\n\nmotivating example\n(예제1) 전북고등학교: 평균은 좋은 측정값인가?\n\n전북고등학교에서 통계학을 수업하는 A선생님과 B선생님의 있다. A선생님에게서 수업을 들을 학생들의 평균은 79.1이고 B선생님에게서 수업을 들은 학생들의 평균은 78.3이다.\n\n\ny1=[75,75,76,76,77,77,79,79,79,98] # A선생님에게 통계학을 배운 학생의 점수들\ny2=[76,76,77,77,78,78,80,80,80,81] # B선생님에게 통계학을 배운 학생의 점수들 \n\n\nnp.mean(y1), np.mean(y2)\n\n(79.1, 78.3)\n\n\n- 의사결정: A선생님에게 배운 학생들의 실력이 평균적으로 더 좋을 것이다.\n- 평균은 A반(=A선생님에게 통계학을 배운 반)이 더 높다. 그런데 98점을 받은 학생이 A반에 포함되어서 A반이 전체평균이 높게 나온것이고 나머지 학생들은 전체적으로 B반 학생들이 더 시험을 잘 보았다고 해석할 수 있다.\n- 교훈: 단순한 평균 비교보다 학생들이 받은 점수의 분포를 비교해보는 것이 중요하다. 분포를 살펴보는 방법 중 유용한 방법이 박스플랏이다.\n\n\nmatplotlib으로 boxplot 그리기\n- A반 학생들의 박스플랏 그리기\n\nplt.boxplot(y1)\n\n{'whiskers': [&lt;matplotlib.lines.Line2D at 0x7f635fdf5f50&gt;,\n  &lt;matplotlib.lines.Line2D at 0x7f6360351c50&gt;],\n 'caps': [&lt;matplotlib.lines.Line2D at 0x7f635e60c2d0&gt;,\n  &lt;matplotlib.lines.Line2D at 0x7f635e60c610&gt;],\n 'boxes': [&lt;matplotlib.lines.Line2D at 0x7f635fd87c10&gt;],\n 'medians': [&lt;matplotlib.lines.Line2D at 0x7f635e60c990&gt;],\n 'fliers': [&lt;matplotlib.lines.Line2D at 0x7f635e60cc90&gt;],\n 'means': []}\n\n\n\n\n\n- B반 학생들의 박스플랏 그리기\n\nplt.boxplot(y2)\n\n{'whiskers': [&lt;matplotlib.lines.Line2D at 0x7f635e5ba410&gt;,\n  &lt;matplotlib.lines.Line2D at 0x7f635e5ba750&gt;],\n 'caps': [&lt;matplotlib.lines.Line2D at 0x7f635e5baa90&gt;,\n  &lt;matplotlib.lines.Line2D at 0x7f635e5badd0&gt;],\n 'boxes': [&lt;matplotlib.lines.Line2D at 0x7f635e5ba110&gt;],\n 'medians': [&lt;matplotlib.lines.Line2D at 0x7f635e60f190&gt;],\n 'fliers': [&lt;matplotlib.lines.Line2D at 0x7f635e60f4d0&gt;],\n 'means': []}\n\n\n\n\n\n- A반 학생들의 점수와 B반 학생들의 점수를 나란히 박스플랏으로 그리자.\n\nplt.boxplot([y1,y2]) #리스트로 만들어주면 나란히 가능\n\n{'whiskers': [&lt;matplotlib.lines.Line2D at 0x7f635ec47290&gt;,\n  &lt;matplotlib.lines.Line2D at 0x7f635ec475d0&gt;,\n  &lt;matplotlib.lines.Line2D at 0x7f635ec4fa10&gt;,\n  &lt;matplotlib.lines.Line2D at 0x7f635ec4fd10&gt;],\n 'caps': [&lt;matplotlib.lines.Line2D at 0x7f635ec47910&gt;,\n  &lt;matplotlib.lines.Line2D at 0x7f635ec47c50&gt;,\n  &lt;matplotlib.lines.Line2D at 0x7f635ec67090&gt;,\n  &lt;matplotlib.lines.Line2D at 0x7f635ec673d0&gt;],\n 'boxes': [&lt;matplotlib.lines.Line2D at 0x7f635ec48f50&gt;,\n  &lt;matplotlib.lines.Line2D at 0x7f635ec4f6d0&gt;],\n 'medians': [&lt;matplotlib.lines.Line2D at 0x7f635ec4f050&gt;,\n  &lt;matplotlib.lines.Line2D at 0x7f635ec67710&gt;],\n 'fliers': [&lt;matplotlib.lines.Line2D at 0x7f635ec4f350&gt;,\n  &lt;matplotlib.lines.Line2D at 0x7f635ec67a50&gt;],\n 'means': []}\n\n\n\n\n\n\n\nboxplot이란?\n- ref: https://github.com/mGalarnyk/Python_Tutorials/blob/master/Statistics/boxplot/box_plot.ipynb\n\nnp.random.seed(916170)\n\n# connection path is here: https://stackoverflow.com/questions/6146290/plotting-a-line-over-several-graphs\nmu, sigma = 0, 1 # mean and standard deviation\ns = np.random.normal(mu, sigma, 1000)\n\nfig, axes = plt.subplots(nrows = 1, ncols = 1, figsize=(10, 5))\n\n# rectangular box plot\nbplot = axes.boxplot(s,\n                vert=False,\n                patch_artist=True, \n                showfliers=True, # This would show outliers (the remaining .7% of the data)\n                positions = [0],\n                boxprops = dict(linestyle='--', linewidth=2, color='Black', facecolor = 'red', alpha = .4),\n                medianprops = dict(linestyle='-', linewidth=2, color='Yellow'),\n                whiskerprops = dict(linestyle='-', linewidth=2, color='Blue', alpha = .4),\n                capprops = dict(linestyle='-', linewidth=2, color='Black'),\n                flierprops = dict(marker='o', markerfacecolor='green', markersize=10,\n                  linestyle='none', alpha = .4),\n                widths = .3,\n                zorder = 1)   \n\naxes.set_xlim(-4, 4)\nplt.xticks(fontsize = 14)\n\naxes.set_yticks([])\naxes.annotate(r'',\n            xy=(-.73, .205), xycoords='data',\n            xytext=(.66, .205), textcoords='data',\n            arrowprops=dict(arrowstyle=\"|-|\",\n                            connectionstyle=\"arc3\")\n            );\n\naxes.text(0, .25, \"Interquartile Range \\n(IQR)\",  horizontalalignment='center', fontsize=18)\naxes.text(0, -.21, r\"Median\", horizontalalignment='center', fontsize=16);\naxes.text(2.65, -.15, \"\\\"Maximum\\\"\", horizontalalignment='center', fontsize=18);\naxes.text(-2.65, -.15, \"\\\"Minimum\\\"\", horizontalalignment='center', fontsize=18);\naxes.text(-.68, -.24, r\"Q1\", horizontalalignment='center', fontsize=18);\naxes.text(-2.65, -.21, r\"(Q1 - 1.5*IQR)\", horizontalalignment='center', fontsize=16);\naxes.text(.6745, -.24, r\"Q3\", horizontalalignment='center', fontsize=18);\naxes.text(.6745, -.30, r\"(75th Percentile)\", horizontalalignment='center', fontsize=12);\naxes.text(-.68, -.30, r\"(25th Percentile)\", horizontalalignment='center', fontsize=12);\naxes.text(2.65, -.21, r\"(Q3 + 1.5*IQR)\", horizontalalignment='center', fontsize=16);\n\naxes.annotate('Outliers', xy=(2.93,0.015), xytext=(2.52,0.20), fontsize = 18,\n            arrowprops={'arrowstyle': '-&gt;', 'color': 'black', 'lw': 2},\n            va='center');\n\naxes.annotate('Outliers', xy=(-3.01,0.015), xytext=(-3.41,0.20), fontsize = 18,\n            arrowprops={'arrowstyle': '-&gt;', 'color': 'black', 'lw': 2},\n            va='center');\n\n\n\n\n\n\nplotly로 boxplot 그리기\n- 로컬에서 하기 위해서는 아래를 설치 (코랩은 ㄴ)\n\n!conda env list \n\n# conda environments:\n#\nbase                     /home/koinup4/anaconda3\npy37                  *  /home/koinup4/anaconda3/envs/py37\npy39                     /home/koinup4/anaconda3/envs/py39\n\n\n\n\n!pip install plotly \n!pip install ipywidgets\n!pip install jupyter-dash\n!pip install dash \n!pip install pandas \n\nCollecting plotly\n  Downloading plotly-5.13.0-py2.py3-none-any.whl (15.2 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 15.2/15.2 MB 93.1 MB/s eta 0:00:0000:0100:01\nCollecting tenacity&gt;=6.2.0\n  Downloading tenacity-8.2.1-py3-none-any.whl (24 kB)\nInstalling collected packages: tenacity, plotly\nSuccessfully installed plotly-5.13.0 tenacity-8.2.1\nCollecting ipywidgets\n  Downloading ipywidgets-8.0.4-py3-none-any.whl (137 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 137.8/137.8 kB 5.8 MB/s eta 0:00:00\nRequirement already satisfied: ipykernel&gt;=4.5.1 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from ipywidgets) (5.5.5)\nCollecting jupyterlab-widgets~=3.0\n  Downloading jupyterlab_widgets-3.0.5-py3-none-any.whl (384 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 384.3/384.3 kB 35.3 MB/s eta 0:00:00\nRequirement already satisfied: traitlets&gt;=4.3.1 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from ipywidgets) (5.8.1)\nCollecting widgetsnbextension~=4.0\n  Downloading widgetsnbextension-4.0.5-py3-none-any.whl (2.0 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.0/2.0 MB 75.0 MB/s eta 0:00:00\nRequirement already satisfied: ipython&gt;=6.1.0 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from ipywidgets) (7.33.0)\nRequirement already satisfied: jupyter-client in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from ipykernel&gt;=4.5.1-&gt;ipywidgets) (7.0.6)\nRequirement already satisfied: tornado&gt;=4.2 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from ipykernel&gt;=4.5.1-&gt;ipywidgets) (6.1)\nRequirement already satisfied: backcall in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from ipython&gt;=6.1.0-&gt;ipywidgets) (0.2.0)\nRequirement already satisfied: jedi&gt;=0.16 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from ipython&gt;=6.1.0-&gt;ipywidgets) (0.18.2)\nRequirement already satisfied: matplotlib-inline in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from ipython&gt;=6.1.0-&gt;ipywidgets) (0.1.6)\nRequirement already satisfied: pexpect&gt;4.3 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from ipython&gt;=6.1.0-&gt;ipywidgets) (4.8.0)\nRequirement already satisfied: pickleshare in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from ipython&gt;=6.1.0-&gt;ipywidgets) (0.7.5)\nRequirement already satisfied: prompt-toolkit!=3.0.0,!=3.0.1,&lt;3.1.0,&gt;=2.0.0 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from ipython&gt;=6.1.0-&gt;ipywidgets) (3.0.36)\nRequirement already satisfied: pygments in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from ipython&gt;=6.1.0-&gt;ipywidgets) (2.14.0)\nRequirement already satisfied: decorator in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from ipython&gt;=6.1.0-&gt;ipywidgets) (5.1.1)\nRequirement already satisfied: setuptools&gt;=18.5 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from ipython&gt;=6.1.0-&gt;ipywidgets) (65.6.3)\nRequirement already satisfied: parso&lt;0.9.0,&gt;=0.8.0 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from jedi&gt;=0.16-&gt;ipython&gt;=6.1.0-&gt;ipywidgets) (0.8.3)\nRequirement already satisfied: ptyprocess&gt;=0.5 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from pexpect&gt;4.3-&gt;ipython&gt;=6.1.0-&gt;ipywidgets) (0.7.0)\nRequirement already satisfied: wcwidth in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from prompt-toolkit!=3.0.0,!=3.0.1,&lt;3.1.0,&gt;=2.0.0-&gt;ipython&gt;=6.1.0-&gt;ipywidgets) (0.2.6)\nRequirement already satisfied: jupyter-core&gt;=4.6.0 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from jupyter-client-&gt;ipykernel&gt;=4.5.1-&gt;ipywidgets) (4.11.1)\nRequirement already satisfied: pyzmq&gt;=13 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from jupyter-client-&gt;ipykernel&gt;=4.5.1-&gt;ipywidgets) (19.0.2)\nRequirement already satisfied: python-dateutil&gt;=2.1 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from jupyter-client-&gt;ipykernel&gt;=4.5.1-&gt;ipywidgets) (2.8.2)\nRequirement already satisfied: entrypoints in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from jupyter-client-&gt;ipykernel&gt;=4.5.1-&gt;ipywidgets) (0.4)\nRequirement already satisfied: nest-asyncio&gt;=1.5 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from jupyter-client-&gt;ipykernel&gt;=4.5.1-&gt;ipywidgets) (1.5.6)\nRequirement already satisfied: six&gt;=1.5 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from python-dateutil&gt;=2.1-&gt;jupyter-client-&gt;ipykernel&gt;=4.5.1-&gt;ipywidgets) (1.16.0)\nInstalling collected packages: widgetsnbextension, jupyterlab-widgets, ipywidgets\nSuccessfully installed ipywidgets-8.0.4 jupyterlab-widgets-3.0.5 widgetsnbextension-4.0.5\nCollecting jupyter-dash\n  Downloading jupyter_dash-0.4.2-py3-none-any.whl (23 kB)\nCollecting retrying\n  Downloading retrying-1.3.4-py3-none-any.whl (11 kB)\nCollecting dash\n  Downloading dash-2.8.1-py3-none-any.whl (9.9 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 9.9/9.9 MB 80.9 MB/s eta 0:00:00:00:010:01\nCollecting ansi2html\n  Downloading ansi2html-1.8.0-py3-none-any.whl (16 kB)\nCollecting flask\n  Downloading Flask-2.2.3-py3-none-any.whl (101 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 101.8/101.8 kB 19.6 MB/s eta 0:00:00\nRequirement already satisfied: ipykernel in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from jupyter-dash) (5.5.5)\nRequirement already satisfied: nest-asyncio in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from jupyter-dash) (1.5.6)\nRequirement already satisfied: ipython in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from jupyter-dash) (7.33.0)\nRequirement already satisfied: requests in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from jupyter-dash) (2.28.2)\nRequirement already satisfied: importlib-metadata in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from ansi2html-&gt;jupyter-dash) (4.11.4)\nRequirement already satisfied: plotly&gt;=5.0.0 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from dash-&gt;jupyter-dash) (5.13.0)\nCollecting dash-table==5.0.0\n  Downloading dash_table-5.0.0-py3-none-any.whl (3.9 kB)\nCollecting dash-html-components==2.0.0\n  Downloading dash_html_components-2.0.0-py3-none-any.whl (4.1 kB)\nCollecting dash-core-components==2.0.0\n  Downloading dash_core_components-2.0.0-py3-none-any.whl (3.8 kB)\nRequirement already satisfied: Jinja2&gt;=3.0 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from flask-&gt;jupyter-dash) (3.1.2)\nCollecting click&gt;=8.0\n  Downloading click-8.1.3-py3-none-any.whl (96 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 96.6/96.6 kB 13.5 MB/s eta 0:00:00\nCollecting Werkzeug&gt;=2.2.2\n  Downloading Werkzeug-2.2.3-py3-none-any.whl (233 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 233.6/233.6 kB 44.7 MB/s eta 0:00:00\nCollecting itsdangerous&gt;=2.0\n  Downloading itsdangerous-2.1.2-py3-none-any.whl (15 kB)\nRequirement already satisfied: tornado&gt;=4.2 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from ipykernel-&gt;jupyter-dash) (6.1)\nRequirement already satisfied: jupyter-client in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from ipykernel-&gt;jupyter-dash) (7.0.6)\nRequirement already satisfied: traitlets&gt;=4.1.0 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from ipykernel-&gt;jupyter-dash) (5.8.1)\nRequirement already satisfied: prompt-toolkit!=3.0.0,!=3.0.1,&lt;3.1.0,&gt;=2.0.0 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from ipython-&gt;jupyter-dash) (3.0.36)\nRequirement already satisfied: matplotlib-inline in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from ipython-&gt;jupyter-dash) (0.1.6)\nRequirement already satisfied: pexpect&gt;4.3 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from ipython-&gt;jupyter-dash) (4.8.0)\nRequirement already satisfied: pygments in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from ipython-&gt;jupyter-dash) (2.14.0)\nRequirement already satisfied: jedi&gt;=0.16 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from ipython-&gt;jupyter-dash) (0.18.2)\nRequirement already satisfied: decorator in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from ipython-&gt;jupyter-dash) (5.1.1)\nRequirement already satisfied: pickleshare in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from ipython-&gt;jupyter-dash) (0.7.5)\nRequirement already satisfied: setuptools&gt;=18.5 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from ipython-&gt;jupyter-dash) (65.6.3)\nRequirement already satisfied: backcall in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from ipython-&gt;jupyter-dash) (0.2.0)\nRequirement already satisfied: charset-normalizer&lt;4,&gt;=2 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from requests-&gt;jupyter-dash) (2.1.1)\nRequirement already satisfied: urllib3&lt;1.27,&gt;=1.21.1 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from requests-&gt;jupyter-dash) (1.26.14)\nRequirement already satisfied: certifi&gt;=2017.4.17 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from requests-&gt;jupyter-dash) (2022.12.7)\nRequirement already satisfied: idna&lt;4,&gt;=2.5 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from requests-&gt;jupyter-dash) (3.4)\nRequirement already satisfied: six&gt;=1.7.0 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from retrying-&gt;jupyter-dash) (1.16.0)\nRequirement already satisfied: zipp&gt;=0.5 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from importlib-metadata-&gt;ansi2html-&gt;jupyter-dash) (3.11.0)\nRequirement already satisfied: typing-extensions&gt;=3.6.4 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from importlib-metadata-&gt;ansi2html-&gt;jupyter-dash) (4.4.0)\nRequirement already satisfied: parso&lt;0.9.0,&gt;=0.8.0 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from jedi&gt;=0.16-&gt;ipython-&gt;jupyter-dash) (0.8.3)\nRequirement already satisfied: MarkupSafe&gt;=2.0 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from Jinja2&gt;=3.0-&gt;flask-&gt;jupyter-dash) (2.1.1)\nRequirement already satisfied: ptyprocess&gt;=0.5 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from pexpect&gt;4.3-&gt;ipython-&gt;jupyter-dash) (0.7.0)\nRequirement already satisfied: tenacity&gt;=6.2.0 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from plotly&gt;=5.0.0-&gt;dash-&gt;jupyter-dash) (8.2.1)\nRequirement already satisfied: wcwidth in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from prompt-toolkit!=3.0.0,!=3.0.1,&lt;3.1.0,&gt;=2.0.0-&gt;ipython-&gt;jupyter-dash) (0.2.6)\nRequirement already satisfied: entrypoints in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from jupyter-client-&gt;ipykernel-&gt;jupyter-dash) (0.4)\nRequirement already satisfied: pyzmq&gt;=13 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from jupyter-client-&gt;ipykernel-&gt;jupyter-dash) (19.0.2)\nRequirement already satisfied: python-dateutil&gt;=2.1 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from jupyter-client-&gt;ipykernel-&gt;jupyter-dash) (2.8.2)\nRequirement already satisfied: jupyter-core&gt;=4.6.0 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from jupyter-client-&gt;ipykernel-&gt;jupyter-dash) (4.11.1)\nInstalling collected packages: dash-table, dash-html-components, dash-core-components, Werkzeug, retrying, itsdangerous, click, ansi2html, flask, dash, jupyter-dash\nSuccessfully installed Werkzeug-2.2.3 ansi2html-1.8.0 click-8.1.3 dash-2.8.1 dash-core-components-2.0.0 dash-html-components-2.0.0 dash-table-5.0.0 flask-2.2.3 itsdangerous-2.1.2 jupyter-dash-0.4.2 retrying-1.3.4\nRequirement already satisfied: dash in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (2.8.1)\nRequirement already satisfied: dash-table==5.0.0 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from dash) (5.0.0)\nRequirement already satisfied: dash-html-components==2.0.0 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from dash) (2.0.0)\nRequirement already satisfied: Flask&gt;=1.0.4 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from dash) (2.2.3)\nRequirement already satisfied: plotly&gt;=5.0.0 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from dash) (5.13.0)\nRequirement already satisfied: dash-core-components==2.0.0 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from dash) (2.0.0)\nRequirement already satisfied: Werkzeug&gt;=2.2.2 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from Flask&gt;=1.0.4-&gt;dash) (2.2.3)\nRequirement already satisfied: itsdangerous&gt;=2.0 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from Flask&gt;=1.0.4-&gt;dash) (2.1.2)\nRequirement already satisfied: Jinja2&gt;=3.0 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from Flask&gt;=1.0.4-&gt;dash) (3.1.2)\nRequirement already satisfied: importlib-metadata&gt;=3.6.0 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from Flask&gt;=1.0.4-&gt;dash) (4.11.4)\nRequirement already satisfied: click&gt;=8.0 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from Flask&gt;=1.0.4-&gt;dash) (8.1.3)\nRequirement already satisfied: tenacity&gt;=6.2.0 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from plotly&gt;=5.0.0-&gt;dash) (8.2.1)\nRequirement already satisfied: zipp&gt;=0.5 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from importlib-metadata&gt;=3.6.0-&gt;Flask&gt;=1.0.4-&gt;dash) (3.11.0)\nRequirement already satisfied: typing-extensions&gt;=3.6.4 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from importlib-metadata&gt;=3.6.0-&gt;Flask&gt;=1.0.4-&gt;dash) (4.4.0)\nRequirement already satisfied: MarkupSafe&gt;=2.0 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from Jinja2&gt;=3.0-&gt;Flask&gt;=1.0.4-&gt;dash) (2.1.1)\nRequirement already satisfied: pandas in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (1.3.5)\nRequirement already satisfied: pytz&gt;=2017.3 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from pandas) (2022.7.1)\nRequirement already satisfied: python-dateutil&gt;=2.7.3 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from pandas) (2.8.2)\nRequirement already satisfied: numpy&gt;=1.17.3 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from pandas) (1.21.6)\nRequirement already satisfied: six&gt;=1.5 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from python-dateutil&gt;=2.7.3-&gt;pandas) (1.16.0)\n\n\n\nimport plotly.express as px\nimport pandas as pd\nfrom IPython.display import HTML\n\n\n['A']*len(y1)  # y1숫자만큼 A반복\n\n['A', 'A', 'A', 'A', 'A', 'A', 'A', 'A', 'A', 'A']\n\n\n\n['A']*len(y1) + ['B']*len(y2)\n\n['A',\n 'A',\n 'A',\n 'A',\n 'A',\n 'A',\n 'A',\n 'A',\n 'A',\n 'A',\n 'B',\n 'B',\n 'B',\n 'B',\n 'B',\n 'B',\n 'B',\n 'B',\n 'B',\n 'B']\n\n\n\ndf=pd.DataFrame({'score':y1+y2, 'class':['A']*len(y1) + ['B']*len(y2)})\ndf\n\n\n\n\n\n\n\n\nscore\nclass\n\n\n\n\n0\n75\nA\n\n\n1\n75\nA\n\n\n2\n76\nA\n\n\n3\n76\nA\n\n\n4\n77\nA\n\n\n5\n77\nA\n\n\n6\n79\nA\n\n\n7\n79\nA\n\n\n8\n79\nA\n\n\n9\n98\nA\n\n\n10\n76\nB\n\n\n11\n76\nB\n\n\n12\n77\nB\n\n\n13\n77\nB\n\n\n14\n78\nB\n\n\n15\n78\nB\n\n\n16\n80\nB\n\n\n17\n80\nB\n\n\n18\n80\nB\n\n\n19\n81\nB\n\n\n\n\n\n\n\n\nfig=px.box(df,x='class',y='score')\nfig\n\n                                                \n\n\n왜 안나오누..\n\nHTML(fig.to_html(include_plotlyjs='cdn', include_mathjax=False))"
  },
  {
    "objectID": "posts/DV_1(0910).html#histogram",
    "href": "posts/DV_1(0910).html#histogram",
    "title": "DV 1주차",
    "section": "histogram",
    "text": "histogram\n\nmotivating example\n- 전북고예제에서의 소망: 그냥 A반 B반 중에 어떤 반이 공부를 더 잘하냐? - 보통 이러한 질문은 중심경향값 중 하나를 골라서 비교하면 되었다. - 중심경향값이란 데이터 분포의 중심을 보여준 값으로 자료 전체를 대표할 수 있는 값을 말함. 평균, 중앙값 등이 대표적인 중심경향값이다.\n- 전북고 예제에서는 “A반 B반 중에서 어떤 반이 공부를 더 잘하냐?” 라는 질문의 대답으로 단순평균비교로는 의미가 없었다. 오히려 결과론적으로 보면 중앙값이 더 타당해 보인다.\n- 그런데 사실 생각해보면 중앙값을 기준으로 B반이 공부를 더 잘했다고 주장하는 것도 애매하다. 무튼 가장 공부잘한 학생은 A반에 있으니까!? (한명뿐이니까 빼고 가도 되지않나여? 이지만 2명 3명 점점 늘어난다 생각해보면 합리적인 기준을 제시할 수 있을까?)\n- 사실 “A반 B반 중에 누가 더 공부를 잘하냐?” 라는 질문은 굉장히 대답하기 곤란한 질문이다. 왜냐하면 - 이슈1: 단순 평균비교로 이러한 질문에 답을 하기 어렵다. - 이슈2: 박스플랏으로 전체분포를 파악해도 어떠한 반이 더 공부를 잘한다는 기준을 잡는 것이 애매하다.\n그런데 특수한 경우에는 “A반 B반 중에 누가 더 공부를 잘하냐?” 라는 질문에 대한 대답을 깔끔하게 할 수 있다.\n(예제2) 정규분포 전북고등학교: 평균은 좋은 측정값인가?\n- A반과 B반의 통계학 성적이 아래와 같다고 하자.\n\nnp.random.seed(43052)\ny1 = np.random.randn(10000)         # 평균 0 분산 1\ny2 = np.random.randn(10000) + 0.5   # 평균 0.5 분산 1\n\n\nnp.mean(y1), np.mean(y2)\n\n(-0.011790879905079434, 0.4979147460611458)\n\n\n\nnp.mean(y2) - np.mean(y1)\n\n0.5097056259662253\n\n\ny2의 값이 y1의 값보다 전체적으로 0.51 정도 높다고 볼수 있다.?\n\nplt.boxplot([y1,y2])\n\n{'whiskers': [&lt;matplotlib.lines.Line2D at 0x7f638623b0d0&gt;,\n  &lt;matplotlib.lines.Line2D at 0x7f63861c40d0&gt;,\n  &lt;matplotlib.lines.Line2D at 0x7f63861cf510&gt;,\n  &lt;matplotlib.lines.Line2D at 0x7f63861cf810&gt;],\n 'caps': [&lt;matplotlib.lines.Line2D at 0x7f63861c4410&gt;,\n  &lt;matplotlib.lines.Line2D at 0x7f63861c4750&gt;,\n  &lt;matplotlib.lines.Line2D at 0x7f63861cfb50&gt;,\n  &lt;matplotlib.lines.Line2D at 0x7f63861cfe90&gt;],\n 'boxes': [&lt;matplotlib.lines.Line2D at 0x7f638623b9d0&gt;,\n  &lt;matplotlib.lines.Line2D at 0x7f63861cf1d0&gt;],\n 'medians': [&lt;matplotlib.lines.Line2D at 0x7f63861c4ad0&gt;,\n  &lt;matplotlib.lines.Line2D at 0x7f63861dc210&gt;],\n 'fliers': [&lt;matplotlib.lines.Line2D at 0x7f63861c4e10&gt;,\n  &lt;matplotlib.lines.Line2D at 0x7f63861dc550&gt;],\n 'means': []}\n\n\n\n\n\n\n분포의 모양이 거의 비슷, 왼쪽그림을 컨트롤+C 하여 오른쪽에 붙인다음 0.5정도 y축으로 올린느낌이다!\n\n- 이러한 상황에서는 “B반의 성적 \\(\\approx\\) A반의 성적 + 0.5” 라고 주장해도 큰 무리가 없어보인다. 따라서 이 경우에는 “A반 B반 중에 어떤 반이 더 공부를 잘하냐?” 라는 질문에 대다하여 “B반이 평균적으로 0.51정도 공부를 잘한다”고 말할 수 있다.\n- 결론: 정규분포 분포가정을 한다면 이슈 1, 2에 대한 무넺를 한번에 해결 가능함\n- 정규분포 가정은 어떻게 할 수 있나? (=데이터를 보고 어떻게 정규분포라고 알 수 있는가?) : 데이터의 히스토그램을 그려서 종 모양이 되는지 확인해본다. (아직 초보단계라서 이것밖에 모를 수 있다.)\n\n\nhistogram이란?\n- 히스토그램: X축이 변수의 구간, Y축은 그 구간에 포함된 빈도를 의미하는 그림\n\n\nmatplotlib으로 histogram 그리기\n- 히스토그램의 예시1\n\ny=[10,11,12,15,16,20,21,22,23,24,25]\n\n\nplt.hist(y)\n\n(array([2., 1., 0., 1., 1., 0., 1., 1., 2., 2.]),\n array([10. , 11.5, 13. , 14.5, 16. , 17.5, 19. , 20.5, 22. , 23.5, 25. ]),\n &lt;BarContainer object of 10 artists&gt;)\n\n\n\n\n\n\nplt.hist(y,bins=10)  # bins 빈도 10개\n\n(array([2., 1., 0., 1., 1., 0., 1., 1., 2., 2.]),\n array([10. , 11.5, 13. , 14.5, 16. , 17.5, 19. , 20.5, 22. , 23.5, 25. ]),\n &lt;BarContainer object of 10 artists&gt;)\n\n\n\n\n\n- 히스토그램 예시2\n\nplt.hist(y,bins=2) # 빈도 2개\n# 범위 10~17.5에 5개, 17.5~25까지는 6개가 있음\n\n(array([5., 6.]),\n array([10. , 17.5, 25. ]),\n &lt;BarContainer object of 2 artists&gt;)\n\n\n\n\n\n- 히스토그램 예시3\n\nplt.hist(y,bins=3)\n\n(array([3., 2., 6.]),\n array([10., 15., 20., 25.]),\n &lt;BarContainer object of 3 artists&gt;)\n\n\n\n\n\n\n가장 큰 값은 25, 가장 작은 값은 10이므로 range는 15이다.\nrange / bins = 15 / 3 = 5 이므로 각 구간의 간격은 5이다.\n구간은 [10,15), [15,20), [20,25] 로 나눈다.\n각 구간에 포함된 자료의 수는 3, 2, 6이다.\n\n- 히스토그램 예시4\n\nplt.hist(y,bins=7)\n\n(array([3., 0., 2., 0., 1., 2., 3.]),\n array([10.        , 12.14285714, 14.28571429, 16.42857143, 18.57142857,\n        20.71428571, 22.85714286, 25.        ]),\n &lt;BarContainer object of 7 artists&gt;)\n\n\n\n\n\n\n가장 큰 값은 25, 가장 작은 값은 10이므로 range는 15이다.\nrange / bins = 15 / 7 = 2.142857142857143 이므로 각 구간의 간격은 2.142857142857143이다.\n구간은 [10,12.14285714), [12.14285714,14.28571429,), [22.85714286,25] 로 나눈다.\n각 구간에 포함된 자료의 수는 3,0,2,0,1,2,3 이다.\n\n\n_a = 15/7\n_a\n\n2.142857142857143\n\n\n- 히스토그램 예시5\n\n# np.random.seed(43052)\n# y1 = np.random.randn(10000)\n# y2 = np.random.randn(10000) + 0.5 \nplt.hist([y1,y2],bins=50);\n\n\n\n\n\n\nseaborn으로 histogram 그리기\n\n!pip install seaborn\nimport seaborn as sns\n\nCollecting seaborn\n  Downloading seaborn-0.12.2-py3-none-any.whl (293 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 293.3/293.3 kB 13.8 MB/s eta 0:00:00\nRequirement already satisfied: matplotlib!=3.6.1,&gt;=3.1 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from seaborn) (3.5.3)\nRequirement already satisfied: typing_extensions in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from seaborn) (4.4.0)\nRequirement already satisfied: pandas&gt;=0.25 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from seaborn) (1.3.5)\nRequirement already satisfied: numpy!=1.24.0,&gt;=1.17 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from seaborn) (1.21.6)\nRequirement already satisfied: pillow&gt;=6.2.0 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from matplotlib!=3.6.1,&gt;=3.1-&gt;seaborn) (9.4.0)\nRequirement already satisfied: cycler&gt;=0.10 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from matplotlib!=3.6.1,&gt;=3.1-&gt;seaborn) (0.11.0)\nRequirement already satisfied: kiwisolver&gt;=1.0.1 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from matplotlib!=3.6.1,&gt;=3.1-&gt;seaborn) (1.4.4)\nRequirement already satisfied: fonttools&gt;=4.22.0 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from matplotlib!=3.6.1,&gt;=3.1-&gt;seaborn) (4.38.0)\nRequirement already satisfied: python-dateutil&gt;=2.7 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from matplotlib!=3.6.1,&gt;=3.1-&gt;seaborn) (2.8.2)\nRequirement already satisfied: pyparsing&gt;=2.2.1 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from matplotlib!=3.6.1,&gt;=3.1-&gt;seaborn) (3.0.9)\nRequirement already satisfied: packaging&gt;=20.0 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from matplotlib!=3.6.1,&gt;=3.1-&gt;seaborn) (23.0)\nRequirement already satisfied: pytz&gt;=2017.3 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from pandas&gt;=0.25-&gt;seaborn) (2022.7.1)\nRequirement already satisfied: six&gt;=1.5 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from python-dateutil&gt;=2.7-&gt;matplotlib!=3.6.1,&gt;=3.1-&gt;seaborn) (1.16.0)\nInstalling collected packages: seaborn\nSuccessfully installed seaborn-0.12.2\n\n\n\ny1, y2\n\n(array([ 0.38342049,  1.0841745 ,  1.14277825, ...,  1.03232398,\n        -0.18988252, -0.03578389]),\n array([ 1.96391024,  0.31095591, -0.65422978, ..., -0.50052895,\n         1.26755071,  1.00486301]))\n\n\n\ndf=pd.DataFrame({'score': np.concatenate([y1,y2]), 'class':['A']*len(y1) + ['B']*len(y2)})\ndf\n#list(y1)+list(y2)   위의 score를 이렇게도 쓸수있다.\n\n\n\n\n\n\n\n\nscore\nclass\n\n\n\n\n0\n0.383420\nA\n\n\n1\n1.084175\nA\n\n\n2\n1.142778\nA\n\n\n3\n0.307894\nA\n\n\n4\n0.237787\nA\n\n\n...\n...\n...\n\n\n19995\n0.493276\nB\n\n\n19996\n0.619512\nB\n\n\n19997\n-0.500529\nB\n\n\n19998\n1.267551\nB\n\n\n19999\n1.004863\nB\n\n\n\n\n20000 rows × 2 columns\n\n\n\n\nsns.histplot(df, x='score', hue='class')\n\n&lt;AxesSubplot:xlabel='score', ylabel='Count'&gt;\n\n\n\n\n\n\n\nplotnine으로 histogram 그리기\n\n!pip install plotnine\n\nCollecting plotnine\n  Downloading plotnine-0.8.0-py3-none-any.whl (4.7 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 4.7/4.7 MB 19.9 MB/s eta 0:00:0000:0100:01\nRequirement already satisfied: matplotlib&gt;=3.1.1 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from plotnine) (3.5.3)\nRequirement already satisfied: numpy&gt;=1.19.0 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from plotnine) (1.21.6)\nCollecting scipy&gt;=1.5.0\n  Downloading scipy-1.7.3-cp37-cp37m-manylinux_2_12_x86_64.manylinux2010_x86_64.whl (38.1 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 38.1/38.1 MB 60.6 MB/s eta 0:00:0000:0100:01\nCollecting mizani&gt;=0.7.3\n  Downloading mizani-0.7.3-py3-none-any.whl (63 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 63.1/63.1 kB 11.2 MB/s eta 0:00:00\nCollecting descartes&gt;=1.1.0\n  Downloading descartes-1.1.0-py3-none-any.whl (5.8 kB)\nCollecting patsy&gt;=0.5.1\n  Downloading patsy-0.5.3-py2.py3-none-any.whl (233 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 233.8/233.8 kB 38.6 MB/s eta 0:00:00\nCollecting statsmodels&gt;=0.12.1\n  Downloading statsmodels-0.13.5-cp37-cp37m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (9.9 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 9.9/9.9 MB 96.2 MB/s eta 0:00:00ta 0:00:01\nRequirement already satisfied: pandas&gt;=1.1.0 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from plotnine) (1.3.5)\nRequirement already satisfied: cycler&gt;=0.10 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from matplotlib&gt;=3.1.1-&gt;plotnine) (0.11.0)\nRequirement already satisfied: fonttools&gt;=4.22.0 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from matplotlib&gt;=3.1.1-&gt;plotnine) (4.38.0)\nRequirement already satisfied: pyparsing&gt;=2.2.1 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from matplotlib&gt;=3.1.1-&gt;plotnine) (3.0.9)\nRequirement already satisfied: kiwisolver&gt;=1.0.1 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from matplotlib&gt;=3.1.1-&gt;plotnine) (1.4.4)\nRequirement already satisfied: python-dateutil&gt;=2.7 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from matplotlib&gt;=3.1.1-&gt;plotnine) (2.8.2)\nRequirement already satisfied: pillow&gt;=6.2.0 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from matplotlib&gt;=3.1.1-&gt;plotnine) (9.4.0)\nRequirement already satisfied: packaging&gt;=20.0 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from matplotlib&gt;=3.1.1-&gt;plotnine) (23.0)\nCollecting palettable\n  Downloading palettable-3.3.0-py2.py3-none-any.whl (111 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 111.8/111.8 kB 14.4 MB/s eta 0:00:00\nRequirement already satisfied: pytz&gt;=2017.3 in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from pandas&gt;=1.1.0-&gt;plotnine) (2022.7.1)\nRequirement already satisfied: six in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from patsy&gt;=0.5.1-&gt;plotnine) (1.16.0)\nRequirement already satisfied: typing-extensions in /home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages (from kiwisolver&gt;=1.0.1-&gt;matplotlib&gt;=3.1.1-&gt;plotnine) (4.4.0)\nInstalling collected packages: palettable, scipy, patsy, statsmodels, mizani, descartes, plotnine\nSuccessfully installed descartes-1.1.0 mizani-0.7.3 palettable-3.3.0 patsy-0.5.3 plotnine-0.8.0 scipy-1.7.3 statsmodels-0.13.5\n\n\n\nfrom plotnine import *\n\n\nggplot(df) + geom_histogram(aes(x='score', fill='class'), position='identity', alpha=0.5)\n# position: 겹쳐있게 보이게 함.\n\n/home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages/plotnine/stats/stat_bin.py:95: PlotnineWarning: 'stat_bin()' using 'bins = 84'. Pick better value with 'binwidth'.\n\n\n\n\n\n\nggplot(df) + geom_histogram(aes(x='score', fill='class'), alpha=0.5)\n# 파란색을 그리고 빨간색을 그 위에 그림\n# 비교를 위해서 관찰만 할것 이렇게 그리진 말자\n\n/home/koinup4/anaconda3/envs/py37/lib/python3.7/site-packages/plotnine/stats/stat_bin.py:95: PlotnineWarning: 'stat_bin()' using 'bins = 84'. Pick better value with 'binwidth'.\n\n\n\n\n\n\n\nplotly로 histogram 그리기\n\nimport plotly.figure_factory as ff\n\nhist_data = [y1, y2]\n\ngroup_labels = ['A', 'B']\n\n# Create distplot with curve_type set to 'normal'\nff.create_distplot(hist_data, group_labels,bin_size=.2, show_rug=False)"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "DV",
    "section": "",
    "text": "project: type: website\nwebsite: title: “DV” navbar: right: - about.qmd - icon: github href: https://github.com/ - icon: twitter href: https://twitter.com format: html: theme: cosmo css: styles.css"
  }
]